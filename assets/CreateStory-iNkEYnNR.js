import{c as zt,u as ee,r as a,s as wt,j as t,X as ae,h as rt,d as et,S as Ge,C as Ut,P as Y,w as oe,x as Ke,y as qt,R as qe,t as $e,z as Ht,A as Xe,E as at,H as dt,I as Ye,J as z,K as Ze,M as ne,N as Je,O as Qe,Q as ta,T as ea,V as aa,W as oa,Y as na,Z as ra,$ as sa,a0 as _t,l as ca,b as ia,a as da,B as $t,a1 as Xt,q as St}from"./index-BZnjROPM.js";import{D as la,a as ma,P as pa,b as xa,c as ua,d as ga,I as fa}from"./dialog-BdEREXke.js";import{I as Yt,U as ha}from"./input-CMQp6TQr.js";import{B as Dt}from"./badge-uy2xDAAo.js";import{C as kt}from"./circle-alert-BkMsUCVY.js";import{C as Sa,b as ya,c as Ca,d as va,a as ba}from"./card-CliivDmw.js";import{A as Aa}from"./arrow-left-DIa62RCo.js";import{S as wa}from"./sparkles-BnYmddOK.js";import{C as Na}from"./copy-DKgLwFdP.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=zt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=zt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=zt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),Ta=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#FF7675","#74B9FF","#00B894"];function ja({selectedTags:n,onTagsChange:e,maxTags:o=3}){const{t:r}=ee(),[c,u]=a.useState([]),[i,d]=a.useState(!0),[s,g]=a.useState(""),[S,A]=a.useState(!1),[D,w]=a.useState(!1),[b,p]=a.useState(""),[y,v]=a.useState(""),[x,f]=a.useState("#FF6B6B"),[P,U]=a.useState(!1),[K,M]=a.useState("");a.useEffect(()=>{k()},[]);const k=async()=>{try{d(!0);const{data:l,error:C}=await wt.from("story_tags").select("*").eq("is_active",!0).order("usage_count",{ascending:!1});if(C)throw C;u(l||[])}catch(l){console.error("Failed to load tags:",l),M("Failed to load tags")}finally{d(!1)}},L=c.filter(l=>l.name.toLowerCase().includes(s.toLowerCase())||l.display_name.toLowerCase().includes(s.toLowerCase())),Z=L.slice(0,5),F=L.slice(5),O=l=>n.some(C=>C.id===l),q=l=>{if(O(l.id)){const C=n.filter(R=>R.id!==l.id);e(C)}else{if(n.length>=o){M(r("tags.max_tags_reached","Maximum 3 tags allowed")),setTimeout(()=>M(""),3e3);return}const C=[...n,l];e(C)}},W=l=>{const C=n.filter(R=>R.id!==l);e(C)},$=async()=>{if(!b.trim()){M("Tag name is required");return}if(c.find(C=>C.name.toLowerCase()===b.toLowerCase().trim())){M("Tag name already exists");return}try{U(!0),M("");const{data:C,error:R}=await wt.from("story_tags").insert({name:b.toLowerCase().trim().replace(/\s+/g,"-"),display_name:b.trim(),color:x,usage_count:0,is_active:!0}).select().single();if(R)throw R;const V=C;u(Q=>[V,...Q]),n.length<o&&e([...n,V]),p(""),v(""),f("#FF6B6B"),w(!1)}catch(C){console.error("Failed to create tag:",C),M(C.message||"Failed to create tag")}finally{U(!1)}};return t.jsxs("div",{className:"space-y-4","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:183:4","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"183","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[n.length>0&&t.jsxs("div",{className:"space-y-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:186:8","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"186","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[t.jsxs("label",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:187:10","data-matrix-name":"label","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"187","data-component-file":"MultiTagSelector.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:[r("tags.selected_tags","Selected Tags")," (",n.length,"/",o,")"]}),t.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:190:10","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"190","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:n.map(l=>t.jsxs(Dt,{variant:"secondary",className:"flex items-center gap-1 px-2 py-1",style:{backgroundColor:l.color+"20",borderColor:l.color},"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:192:14","data-matrix-name":"Badge","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"192","data-component-file":"MultiTagSelector.tsx","data-component-name":"Badge","data-component-content":"%7B%22variant%22%3A%22secondary%22%2C%22className%22%3A%22flex%20items-center%20gap-1%20px-2%20py-1%22%2C%22style%22%3A%7B%22backgroundColor%22%3A%22%5BBinaryExpression%5D%22%2C%22borderColor%22%3A%22%5BMemberExpression%5D%22%7D%7D",children:[t.jsx("span",{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:198:16","data-matrix-name":"span","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"198","data-component-file":"MultiTagSelector.tsx","data-component-name":"span",children:l.display_name}),t.jsx("button",{type:"button",onClick:()=>W(l.id),className:"ml-1 hover:bg-red-500 hover:text-white rounded-full w-4 h-4 flex items-center justify-center transition-colors","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:199:16","data-matrix-name":"button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"199","data-component-file":"MultiTagSelector.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-1%20hover%3Abg-red-500%20hover%3Atext-white%20rounded-full%20w-4%20h-4%20flex%20items-center%20justify-center%20transition-colors%22%7D",children:t.jsx(ae,{size:10,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:204:18","data-matrix-name":"X","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"204","data-component-file":"MultiTagSelector.tsx","data-component-name":"X","data-component-content":"%7B%22size%22%3A10%7D"})})]},l.id))})]}),t.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:213:6","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"213","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[t.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:214:8","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"214","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[t.jsx("label",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:215:10","data-matrix-name":"label","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"215","data-component-file":"MultiTagSelector.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:r("tags.select_tags","Select Tags")}),t.jsx("div",{className:"flex items-center gap-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:218:10","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"218","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:t.jsxs(la,{open:D,onOpenChange:w,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:220:12","data-matrix-name":"Dialog","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"220","data-component-file":"MultiTagSelector.tsx","data-component-name":"Dialog","data-component-content":"%7B%22open%22%3A%22%5BIdentifier%5D%22%2C%22onOpenChange%22%3A%22%5BIdentifier%5D%22%7D",children:[t.jsx(ma,{asChild:!0,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:221:14","data-matrix-name":"DialogTrigger","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"221","data-component-file":"MultiTagSelector.tsx","data-component-name":"DialogTrigger","data-component-content":"%7B%22asChild%22%3Atrue%7D",children:t.jsxs(rt,{variant:"outline",size:"sm",className:"text-xs","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:222:16","data-matrix-name":"Button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"222","data-component-file":"MultiTagSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22size%22%3A%22sm%22%2C%22className%22%3A%22text-xs%22%7D",children:[t.jsx(pa,{size:14,className:"mr-1","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:223:18","data-matrix-name":"Plus","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"223","data-component-file":"MultiTagSelector.tsx","data-component-name":"Plus","data-component-content":"%7B%22size%22%3A14%2C%22className%22%3A%22mr-1%22%7D"}),r("tags.create_new_tag","Create New Tag")]})}),t.jsxs(xa,{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:227:14","data-matrix-name":"DialogContent","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"227","data-component-file":"MultiTagSelector.tsx","data-component-name":"DialogContent",children:[t.jsx(ua,{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:228:16","data-matrix-name":"DialogHeader","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"228","data-component-file":"MultiTagSelector.tsx","data-component-name":"DialogHeader",children:t.jsx(ga,{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:229:18","data-matrix-name":"DialogTitle","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"229","data-component-file":"MultiTagSelector.tsx","data-component-name":"DialogTitle",children:r("tags.create_new_tag","Create New Tag")})}),t.jsxs("div",{className:"space-y-4","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:231:16","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"231","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[t.jsxs("div",{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:232:18","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"232","data-component-file":"MultiTagSelector.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium mb-1","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:233:20","data-matrix-name":"label","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"233","data-component-file":"MultiTagSelector.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20mb-1%22%7D",children:r("tags.tag_name","Tag Name")}),t.jsx(Yt,{value:b,onChange:l=>p(l.target.value),placeholder:"Enter tag name...",maxLength:50,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:236:20","data-matrix-name":"Input","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"236","data-component-file":"MultiTagSelector.tsx","data-component-name":"Input","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Enter%20tag%20name...%22%2C%22maxLength%22%3A50%7D"})]}),t.jsxs("div",{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:244:18","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"244","data-component-file":"MultiTagSelector.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-sm font-medium mb-1","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:245:20","data-matrix-name":"label","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"245","data-component-file":"MultiTagSelector.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20mb-1%22%7D",children:r("tags.tag_color","Tag Color")}),t.jsx("div",{className:"flex gap-2 flex-wrap","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:248:20","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"248","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20gap-2%20flex-wrap%22%7D",children:Ta.map(l=>t.jsx("button",{type:"button",onClick:()=>f(l),className:et("w-8 h-8 rounded-full border-2 transition-all",x===l?"border-foreground scale-110":"border-border"),style:{backgroundColor:l},"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:250:24","data-matrix-name":"button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"250","data-component-file":"MultiTagSelector.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22style%22%3A%7B%22backgroundColor%22%3A%22%5Bvar%3Acolor%5D%22%7D%7D"},l))})]}),K&&t.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:265:20","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"265","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-red-600%20text-sm%22%7D",children:[t.jsx(kt,{size:16,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:266:22","data-matrix-name":"AlertCircle","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"266","data-component-file":"MultiTagSelector.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22size%22%3A16%7D"}),t.jsx("span",{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:267:22","data-matrix-name":"span","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"267","data-component-file":"MultiTagSelector.tsx","data-component-name":"span",children:K})]}),t.jsxs("div",{className:"flex justify-end gap-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:271:18","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"271","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-end%20gap-2%22%7D",children:[t.jsx(rt,{variant:"outline",onClick:()=>w(!1),disabled:P,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:272:20","data-matrix-name":"Button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"272","data-component-file":"MultiTagSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D",children:r("cancel","Cancel")}),t.jsx(rt,{onClick:$,disabled:P||!b.trim(),"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:279:20","data-matrix-name":"Button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"279","data-component-file":"MultiTagSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D",children:P?"Creating...":r("tags.create_tag","Create Tag")})]})]})]})]})})]}),t.jsxs("div",{className:"relative","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:293:8","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"293","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[t.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground",size:16,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:294:10","data-matrix-name":"Search","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"294","data-component-file":"MultiTagSelector.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-muted-foreground%22%2C%22size%22%3A16%7D"}),t.jsx(Yt,{placeholder:r("tags.search_tags","Search tags..."),value:s,onChange:l=>g(l.target.value),className:"pl-9","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:295:10","data-matrix-name":"Input","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"295","data-component-file":"MultiTagSelector.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22%5BCallExpression%5D%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22pl-9%22%7D"})]}),!s&&t.jsxs("div",{className:"space-y-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:305:10","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"305","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[t.jsx("h4",{className:"text-sm font-medium text-muted-foreground","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:306:12","data-matrix-name":"h4","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"306","data-component-file":"MultiTagSelector.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-muted-foreground%22%7D",children:r("tags.popular_tags","Popular Tags")}),t.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:309:12","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"309","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:Z.map(l=>t.jsx(Zt,{tag:l,isSelected:O(l.id),onClick:()=>q(l),disabled:!O(l.id)&&n.length>=o,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:311:16","data-matrix-name":"TagButton","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"311","data-component-file":"MultiTagSelector.tsx","data-component-name":"TagButton","data-component-content":"%7B%22tag%22%3A%22%5BIdentifier%5D%22%2C%22isSelected%22%3A%22%5BCallExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"},l.id))})]}),(F.length>0||s)&&t.jsxs("div",{className:"space-y-2","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:325:10","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"325","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[!s&&t.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>A(!S),className:"text-sm text-muted-foreground p-0 h-auto","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:327:14","data-matrix-name":"Button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"327","data-component-file":"MultiTagSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-sm%20text-muted-foreground%20p-0%20h-auto%22%7D",children:S?t.jsxs(t.Fragment,{children:[t.jsx(re,{size:16,className:"mr-1","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:335:20","data-matrix-name":"ChevronUp","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"335","data-component-file":"MultiTagSelector.tsx","data-component-name":"ChevronUp","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22mr-1%22%7D"}),"Hide Additional Tags"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ut,{size:16,className:"mr-1","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:340:20","data-matrix-name":"ChevronDown","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"340","data-component-file":"MultiTagSelector.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22mr-1%22%7D"}),r("tags.all_tags","Show All Tags")," (",F.length,")"]})}),(S||s)&&t.jsxs("div",{className:"flex flex-wrap gap-2 max-h-48 overflow-y-auto","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:348:14","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"348","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%20max-h-48%20overflow-y-auto%22%7D",children:[(s?L:F).map(l=>t.jsx(Zt,{tag:l,isSelected:O(l.id),onClick:()=>q(l),disabled:!O(l.id)&&n.length>=o,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:350:18","data-matrix-name":"TagButton","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"350","data-component-file":"MultiTagSelector.tsx","data-component-name":"TagButton","data-component-content":"%7B%22tag%22%3A%22%5BIdentifier%5D%22%2C%22isSelected%22%3A%22%5BCallExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%7D"},l.id)),L.length===0&&s&&t.jsx("div",{className:"text-sm text-muted-foreground w-full text-center py-4","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:359:18","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"359","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20w-full%20text-center%20py-4%22%7D",children:r("tags.no_tags_found","No tags found")})]})]}),K&&!D&&t.jsxs("div",{className:"flex items-center gap-2 text-red-600 text-sm","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:370:10","data-matrix-name":"div","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"370","data-component-file":"MultiTagSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%20text-red-600%20text-sm%22%7D",children:[t.jsx(kt,{size:16,"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:371:12","data-matrix-name":"AlertCircle","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"371","data-component-file":"MultiTagSelector.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22size%22%3A16%7D"}),t.jsx("span",{"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:372:12","data-matrix-name":"span","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"372","data-component-file":"MultiTagSelector.tsx","data-component-name":"span",children:K})]})]})]})}function Zt({tag:n,isSelected:e,onClick:o,disabled:r}){return t.jsxs("button",{type:"button",onClick:o,disabled:r,className:et("inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-all","border border-border hover:border-foreground",e?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground hover:bg-accent",r&&"opacity-50 cursor-not-allowed"),style:e?{backgroundColor:n.color,borderColor:n.color}:{},"data-matrix-id":"src/components/stories/MultiTagSelector.tsx:393:4","data-matrix-name":"button","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"393","data-component-file":"MultiTagSelector.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22style%22%3A%22%5BConditionalExpression%5D%22%7D",children:[n.display_name,n.usage_count>0&&t.jsxs("span",{className:"ml-1 text-xs opacity-75","data-matrix-id":"src/components/stories/MultiTagSelector.tsx:409:8","data-matrix-name":"span","data-component-path":"src/components/stories/MultiTagSelector.tsx","data-component-line":"409","data-component-file":"MultiTagSelector.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-1%20text-xs%20opacity-75%22%7D",children:["(",n.usage_count,")"]})]})}function Jt(n,[e,o]){return Math.min(o,Math.max(e,n))}function Ma(n){const e=a.useRef({value:n,previous:n});return a.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var se=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ia="VisuallyHidden",_a=a.forwardRef((n,e)=>t.jsx(Y.span,{...n,ref:e,style:{...se,...n.style}}));_a.displayName=Ia;var ka=[" ","Enter","ArrowUp","ArrowDown"],Pa=[" ","Enter"],ut="Select",[jt,Mt,Ea]=Xe(ut),[yt]=$e(ut,[Ea,oe]),It=oe(),[Ra,lt]=yt(ut),[La,Fa]=yt(ut),ce=n=>{const{__scopeSelect:e,children:o,open:r,defaultOpen:c,onOpenChange:u,value:i,defaultValue:d,onValueChange:s,dir:g,name:S,autoComplete:A,disabled:D,required:w,form:b}=n,p=It(e),[y,v]=a.useState(null),[x,f]=a.useState(null),[P,U]=a.useState(!1),K=Ke(g),[M,k]=qt({prop:r,defaultProp:c??!1,onChange:u,caller:ut}),[L,Z]=qt({prop:i,defaultProp:d,onChange:s,caller:ut}),F=a.useRef(null),O=y?b||!!y.closest("form"):!0,[q,W]=a.useState(new Set),$=Array.from(q).map(l=>l.props.value).join(";");return t.jsx(qe,{...p,children:t.jsxs(Ra,{required:w,scope:e,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:f,valueNodeHasChildren:P,onValueNodeHasChildrenChange:U,contentId:Ht(),value:L,onValueChange:Z,open:M,onOpenChange:k,dir:K,triggerPointerDownPosRef:F,disabled:D,children:[t.jsx(jt.Provider,{scope:e,children:t.jsx(La,{scope:n.__scopeSelect,onNativeOptionAdd:a.useCallback(l=>{W(C=>new Set(C).add(l))},[]),onNativeOptionRemove:a.useCallback(l=>{W(C=>{const R=new Set(C);return R.delete(l),R})},[]),children:o})}),O?t.jsxs(Ie,{"aria-hidden":!0,required:w,tabIndex:-1,name:S,autoComplete:A,value:L,onChange:l=>Z(l.target.value),disabled:D,form:b,children:[L===void 0?t.jsx("option",{value:""}):null,Array.from(q)]},$):null]})})};ce.displayName=ut;var ie="SelectTrigger",de=a.forwardRef((n,e)=>{const{__scopeSelect:o,disabled:r=!1,...c}=n,u=It(o),i=lt(ie,o),d=i.disabled||r,s=at(e,i.onTriggerChange),g=Mt(o),S=a.useRef("touch"),[A,D,w]=ke(p=>{const y=g().filter(f=>!f.disabled),v=y.find(f=>f.value===i.value),x=Pe(y,p,v);x!==void 0&&i.onValueChange(x.value)}),b=p=>{d||(i.onOpenChange(!0),w()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return t.jsx(Ye,{asChild:!0,...u,children:t.jsx(Y.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":_e(i.value)?"":void 0,...c,ref:s,onClick:z(c.onClick,p=>{p.currentTarget.focus(),S.current!=="mouse"&&b(p)}),onPointerDown:z(c.onPointerDown,p=>{S.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:z(c.onKeyDown,p=>{const y=A.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&D(p.key),!(y&&p.key===" ")&&ka.includes(p.key)&&(b(),p.preventDefault())})})})});de.displayName=ie;var le="SelectValue",me=a.forwardRef((n,e)=>{const{__scopeSelect:o,className:r,style:c,children:u,placeholder:i="",...d}=n,s=lt(le,o),{onValueNodeHasChildrenChange:g}=s,S=u!==void 0,A=at(e,s.onValueNodeChange);return dt(()=>{g(S)},[g,S]),t.jsx(Y.span,{...d,ref:A,style:{pointerEvents:"none"},children:_e(s.value)?t.jsx(t.Fragment,{children:i}):u})});me.displayName=le;var Oa="SelectIcon",pe=a.forwardRef((n,e)=>{const{__scopeSelect:o,children:r,...c}=n;return t.jsx(Y.span,{"aria-hidden":!0,...c,ref:e,children:r||"â–¼"})});pe.displayName=Oa;var Va="SelectPortal",xe=n=>t.jsx(Ze,{asChild:!0,...n});xe.displayName=Va;var gt="SelectContent",ue=a.forwardRef((n,e)=>{const o=lt(gt,n.__scopeSelect),[r,c]=a.useState();if(dt(()=>{c(new DocumentFragment)},[]),!o.open){const u=r;return u?ne.createPortal(t.jsx(ge,{scope:n.__scopeSelect,children:t.jsx(jt.Slot,{scope:n.__scopeSelect,children:t.jsx("div",{children:n.children})})}),u):null}return t.jsx(fe,{...n,ref:e})});ue.displayName=gt;var tt=10,[ge,mt]=yt(gt),za="SelectContentImpl",Ua=aa("SelectContent.RemoveScroll"),fe=a.forwardRef((n,e)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:u,onPointerDownOutside:i,side:d,sideOffset:s,align:g,alignOffset:S,arrowPadding:A,collisionBoundary:D,collisionPadding:w,sticky:b,hideWhenDetached:p,avoidCollisions:y,...v}=n,x=lt(gt,o),[f,P]=a.useState(null),[U,K]=a.useState(null),M=at(e,h=>P(h)),[k,L]=a.useState(null),[Z,F]=a.useState(null),O=Mt(o),[q,W]=a.useState(!1),$=a.useRef(!1);a.useEffect(()=>{if(f)return Qe(f)},[f]),ta();const l=a.useCallback(h=>{const[I,...G]=O().map(B=>B.ref.current),[j]=G.slice(-1),N=document.activeElement;for(const B of h)if(B===N||(B==null||B.scrollIntoView({block:"nearest"}),B===I&&U&&(U.scrollTop=0),B===j&&U&&(U.scrollTop=U.scrollHeight),B==null||B.focus(),document.activeElement!==N))return},[O,U]),C=a.useCallback(()=>l([k,f]),[l,k,f]);a.useEffect(()=>{q&&C()},[q,C]);const{onOpenChange:R,triggerPointerDownPosRef:V}=x;a.useEffect(()=>{if(f){let h={x:0,y:0};const I=j=>{var N,B;h={x:Math.abs(Math.round(j.pageX)-(((N=V.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(j.pageY)-(((B=V.current)==null?void 0:B.y)??0))}},G=j=>{h.x<=10&&h.y<=10?j.preventDefault():f.contains(j.target)||R(!1),document.removeEventListener("pointermove",I),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",G,{capture:!0})}}},[f,R,V]),a.useEffect(()=>{const h=()=>R(!1);return window.addEventListener("blur",h),window.addEventListener("resize",h),()=>{window.removeEventListener("blur",h),window.removeEventListener("resize",h)}},[R]);const[Q,ft]=ke(h=>{const I=O().filter(N=>!N.disabled),G=I.find(N=>N.ref.current===document.activeElement),j=Pe(I,h,G);j&&setTimeout(()=>j.ref.current.focus())}),Nt=a.useCallback((h,I,G)=>{const j=!$.current&&!G;(x.value!==void 0&&x.value===I||j)&&(L(h),j&&($.current=!0))},[x.value]),Bt=a.useCallback(()=>f==null?void 0:f.focus(),[f]),pt=a.useCallback((h,I,G)=>{const j=!$.current&&!G;(x.value!==void 0&&x.value===I||j)&&F(h)},[x.value]),ht=r==="popper"?Pt:he,xt=ht===Pt?{side:d,sideOffset:s,align:g,alignOffset:S,arrowPadding:A,collisionBoundary:D,collisionPadding:w,sticky:b,hideWhenDetached:p,avoidCollisions:y}:{};return t.jsx(ge,{scope:o,content:f,viewport:U,onViewportChange:K,itemRefCallback:Nt,selectedItem:k,onItemLeave:Bt,itemTextRefCallback:pt,focusSelectedItem:C,selectedItemText:Z,position:r,isPositioned:q,searchRef:Q,children:t.jsx(ea,{as:Ua,allowPinchZoom:!0,children:t.jsx(oa,{asChild:!0,trapped:x.open,onMountAutoFocus:h=>{h.preventDefault()},onUnmountAutoFocus:z(c,h=>{var I;(I=x.trigger)==null||I.focus({preventScroll:!0}),h.preventDefault()}),children:t.jsx(na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:u,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:t.jsx(ht,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:h=>h.preventDefault(),...v,...xt,onPlaced:()=>W(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:z(v.onKeyDown,h=>{const I=h.ctrlKey||h.altKey||h.metaKey;if(h.key==="Tab"&&h.preventDefault(),!I&&h.key.length===1&&ft(h.key),["ArrowUp","ArrowDown","Home","End"].includes(h.key)){let j=O().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(h.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(h.key)){const N=h.target,B=j.indexOf(N);j=j.slice(B+1)}setTimeout(()=>l(j)),h.preventDefault()}})})})})})})});fe.displayName=za;var Ha="SelectItemAlignedPosition",he=a.forwardRef((n,e)=>{const{__scopeSelect:o,onPlaced:r,...c}=n,u=lt(gt,o),i=mt(gt,o),[d,s]=a.useState(null),[g,S]=a.useState(null),A=at(e,M=>S(M)),D=Mt(o),w=a.useRef(!1),b=a.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=i,f=a.useCallback(()=>{if(u.trigger&&u.valueNode&&d&&g&&p&&y&&v){const M=u.trigger.getBoundingClientRect(),k=g.getBoundingClientRect(),L=u.valueNode.getBoundingClientRect(),Z=v.getBoundingClientRect();if(u.dir!=="rtl"){const N=Z.left-k.left,B=L.left-N,ot=M.left-B,nt=M.width+ot,Ct=Math.max(nt,k.width),m=window.innerWidth-tt,T=Jt(B,[tt,Math.max(tt,m-Ct)]);d.style.minWidth=nt+"px",d.style.left=T+"px"}else{const N=k.right-Z.right,B=window.innerWidth-L.right-N,ot=window.innerWidth-M.right-B,nt=M.width+ot,Ct=Math.max(nt,k.width),m=window.innerWidth-tt,T=Jt(B,[tt,Math.max(tt,m-Ct)]);d.style.minWidth=nt+"px",d.style.right=T+"px"}const F=D(),O=window.innerHeight-tt*2,q=p.scrollHeight,W=window.getComputedStyle(g),$=parseInt(W.borderTopWidth,10),l=parseInt(W.paddingTop,10),C=parseInt(W.borderBottomWidth,10),R=parseInt(W.paddingBottom,10),V=$+l+q+R+C,Q=Math.min(y.offsetHeight*5,V),ft=window.getComputedStyle(p),Nt=parseInt(ft.paddingTop,10),Bt=parseInt(ft.paddingBottom,10),pt=M.top+M.height/2-tt,ht=O-pt,xt=y.offsetHeight/2,h=y.offsetTop+xt,I=$+l+h,G=V-I;if(I<=pt){const N=F.length>0&&y===F[F.length-1].ref.current;d.style.bottom="0px";const B=g.clientHeight-p.offsetTop-p.offsetHeight,ot=Math.max(ht,xt+(N?Bt:0)+B+C),nt=I+ot;d.style.height=nt+"px"}else{const N=F.length>0&&y===F[0].ref.current;d.style.top="0px";const ot=Math.max(pt,$+p.offsetTop+(N?Nt:0)+xt)+G;d.style.height=ot+"px",p.scrollTop=I-pt+p.offsetTop}d.style.margin=`${tt}px 0`,d.style.minHeight=Q+"px",d.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[D,u.trigger,u.valueNode,d,g,p,y,v,u.dir,r]);dt(()=>f(),[f]);const[P,U]=a.useState();dt(()=>{g&&U(window.getComputedStyle(g).zIndex)},[g]);const K=a.useCallback(M=>{M&&b.current===!0&&(f(),x==null||x(),b.current=!1)},[f,x]);return t.jsx(Ga,{scope:o,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:K,children:t.jsx("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:t.jsx(Y.div,{...c,ref:A,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});he.displayName=Ha;var Wa="SelectPopperPosition",Pt=a.forwardRef((n,e)=>{const{__scopeSelect:o,align:r="start",collisionPadding:c=tt,...u}=n,i=It(o);return t.jsx(ra,{...i,...u,ref:e,align:r,collisionPadding:c,style:{boxSizing:"border-box",...u.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pt.displayName=Wa;var[Ga,Wt]=yt(gt,{}),Et="SelectViewport",Se=a.forwardRef((n,e)=>{const{__scopeSelect:o,nonce:r,...c}=n,u=mt(Et,o),i=Wt(Et,o),d=at(e,u.onViewportChange),s=a.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),t.jsx(jt.Slot,{scope:o,children:t.jsx(Y.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:z(c.onScroll,g=>{const S=g.currentTarget,{contentWrapper:A,shouldExpandOnScrollRef:D}=i;if(D!=null&&D.current&&A){const w=Math.abs(s.current-S.scrollTop);if(w>0){const b=window.innerHeight-tt*2,p=parseFloat(A.style.minHeight),y=parseFloat(A.style.height),v=Math.max(p,y);if(v<b){const x=v+w,f=Math.min(b,x),P=x-f;A.style.height=f+"px",A.style.bottom==="0px"&&(S.scrollTop=P>0?P:0,A.style.justifyContent="flex-end")}}}s.current=S.scrollTop})})})]})});Se.displayName=Et;var ye="SelectGroup",[Ka,qa]=yt(ye),$a=a.forwardRef((n,e)=>{const{__scopeSelect:o,...r}=n,c=Ht();return t.jsx(Ka,{scope:o,id:c,children:t.jsx(Y.div,{role:"group","aria-labelledby":c,...r,ref:e})})});$a.displayName=ye;var Ce="SelectLabel",ve=a.forwardRef((n,e)=>{const{__scopeSelect:o,...r}=n,c=qa(Ce,o);return t.jsx(Y.div,{id:c.id,...r,ref:e})});ve.displayName=Ce;var Tt="SelectItem",[Xa,be]=yt(Tt),Ae=a.forwardRef((n,e)=>{const{__scopeSelect:o,value:r,disabled:c=!1,textValue:u,...i}=n,d=lt(Tt,o),s=mt(Tt,o),g=d.value===r,[S,A]=a.useState(u??""),[D,w]=a.useState(!1),b=at(e,x=>{var f;return(f=s.itemRefCallback)==null?void 0:f.call(s,x,r,c)}),p=Ht(),y=a.useRef("touch"),v=()=>{c||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Xa,{scope:o,value:r,disabled:c,textId:p,isSelected:g,onItemTextChange:a.useCallback(x=>{A(f=>f||((x==null?void 0:x.textContent)??"").trim())},[]),children:t.jsx(jt.ItemSlot,{scope:o,value:r,disabled:c,textValue:S,children:t.jsx(Y.div,{role:"option","aria-labelledby":p,"data-highlighted":D?"":void 0,"aria-selected":g&&D,"data-state":g?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...i,ref:b,onFocus:z(i.onFocus,()=>w(!0)),onBlur:z(i.onBlur,()=>w(!1)),onClick:z(i.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:z(i.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:z(i.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:z(i.onPointerMove,x=>{var f;y.current=x.pointerType,c?(f=s.onItemLeave)==null||f.call(s):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(i.onPointerLeave,x=>{var f;x.currentTarget===document.activeElement&&((f=s.onItemLeave)==null||f.call(s))}),onKeyDown:z(i.onKeyDown,x=>{var P;((P=s.searchRef)==null?void 0:P.current)!==""&&x.key===" "||(Pa.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});Ae.displayName=Tt;var At="SelectItemText",we=a.forwardRef((n,e)=>{const{__scopeSelect:o,className:r,style:c,...u}=n,i=lt(At,o),d=mt(At,o),s=be(At,o),g=Fa(At,o),[S,A]=a.useState(null),D=at(e,v=>A(v),s.onItemTextChange,v=>{var x;return(x=d.itemTextRefCallback)==null?void 0:x.call(d,v,s.value,s.disabled)}),w=S==null?void 0:S.textContent,b=a.useMemo(()=>t.jsx("option",{value:s.value,disabled:s.disabled,children:w},s.value),[s.disabled,s.value,w]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=g;return dt(()=>(p(b),()=>y(b)),[p,y,b]),t.jsxs(t.Fragment,{children:[t.jsx(Y.span,{id:s.textId,...u,ref:D}),s.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ne.createPortal(u.children,i.valueNode):null]})});we.displayName=At;var Ne="SelectItemIndicator",Be=a.forwardRef((n,e)=>{const{__scopeSelect:o,...r}=n;return be(Ne,o).isSelected?t.jsx(Y.span,{"aria-hidden":!0,...r,ref:e}):null});Be.displayName=Ne;var Rt="SelectScrollUpButton",De=a.forwardRef((n,e)=>{const o=mt(Rt,n.__scopeSelect),r=Wt(Rt,n.__scopeSelect),[c,u]=a.useState(!1),i=at(e,r.onScrollButtonChange);return dt(()=>{if(o.viewport&&o.isPositioned){let d=function(){const g=s.scrollTop>0;u(g)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),c?t.jsx(je,{...n,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:s}=o;d&&s&&(d.scrollTop=d.scrollTop-s.offsetHeight)}}):null});De.displayName=Rt;var Lt="SelectScrollDownButton",Te=a.forwardRef((n,e)=>{const o=mt(Lt,n.__scopeSelect),r=Wt(Lt,n.__scopeSelect),[c,u]=a.useState(!1),i=at(e,r.onScrollButtonChange);return dt(()=>{if(o.viewport&&o.isPositioned){let d=function(){const g=s.scrollHeight-s.clientHeight,S=Math.ceil(s.scrollTop)<g;u(S)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),c?t.jsx(je,{...n,ref:i,onAutoScroll:()=>{const{viewport:d,selectedItem:s}=o;d&&s&&(d.scrollTop=d.scrollTop+s.offsetHeight)}}):null});Te.displayName=Lt;var je=a.forwardRef((n,e)=>{const{__scopeSelect:o,onAutoScroll:r,...c}=n,u=mt("SelectScrollButton",o),i=a.useRef(null),d=Mt(o),s=a.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return a.useEffect(()=>()=>s(),[s]),dt(()=>{var S;const g=d().find(A=>A.ref.current===document.activeElement);(S=g==null?void 0:g.ref.current)==null||S.scrollIntoView({block:"nearest"})},[d]),t.jsx(Y.div,{"aria-hidden":!0,...c,ref:e,style:{flexShrink:0,...c.style},onPointerDown:z(c.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:z(c.onPointerMove,()=>{var g;(g=u.onItemLeave)==null||g.call(u),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:z(c.onPointerLeave,()=>{s()})})}),Ya="SelectSeparator",Me=a.forwardRef((n,e)=>{const{__scopeSelect:o,...r}=n;return t.jsx(Y.div,{"aria-hidden":!0,...r,ref:e})});Me.displayName=Ya;var Ft="SelectArrow",Za=a.forwardRef((n,e)=>{const{__scopeSelect:o,...r}=n,c=It(o),u=lt(Ft,o),i=mt(Ft,o);return u.open&&i.position==="popper"?t.jsx(sa,{...c,...r,ref:e}):null});Za.displayName=Ft;var Ja="SelectBubbleInput",Ie=a.forwardRef(({__scopeSelect:n,value:e,...o},r)=>{const c=a.useRef(null),u=at(r,c),i=Ma(e);return a.useEffect(()=>{const d=c.current;if(!d)return;const s=window.HTMLSelectElement.prototype,S=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==e&&S){const A=new Event("change",{bubbles:!0});S.call(d,e),d.dispatchEvent(A)}},[i,e]),t.jsx(Y.select,{...o,style:{...se,...o.style},ref:u,defaultValue:e})});Ie.displayName=Ja;function _e(n){return n===""||n===void 0}function ke(n){const e=Je(n),o=a.useRef(""),r=a.useRef(0),c=a.useCallback(i=>{const d=o.current+i;e(d),function s(g){o.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>s(""),1e3))}(d)},[e]),u=a.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,c,u]}function Pe(n,e,o){const c=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,u=o?n.indexOf(o):-1;let i=Qa(n,Math.max(u,0));c.length===1&&(i=i.filter(g=>g!==o));const s=i.find(g=>g.textValue.toLowerCase().startsWith(c.toLowerCase()));return s!==o?s:void 0}function Qa(n,e){return n.map((o,r)=>n[(e+r)%n.length])}var to=ce,Ee=de,eo=me,ao=pe,oo=xe,Re=ue,no=Se,Le=ve,Fe=Ae,ro=we,so=Be,Oe=De,Ve=Te,ze=Me;const Qt=to,te=eo,Ot=a.forwardRef(({className:n,children:e,...o},r)=>t.jsxs(Ee,{ref:r,className:et("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...o,"data-matrix-id":"src/components/ui/select.tsx:19:2","data-matrix-name":"SelectPrimitive.Trigger","data-component-path":"src/components/ui/select.tsx","data-component-line":"19","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Trigger","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[e,t.jsx(ao,{asChild:!0,"data-matrix-id":"src/components/ui/select.tsx:28:4","data-matrix-name":"SelectPrimitive.Icon","data-component-path":"src/components/ui/select.tsx","data-component-line":"28","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Icon","data-component-content":"%7B%22asChild%22%3Atrue%7D",children:t.jsx(Ut,{className:"h-4 w-4 opacity-50","data-matrix-id":"src/components/ui/select.tsx:29:6","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/select.tsx","data-component-line":"29","data-component-file":"select.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20opacity-50%22%7D"})})]}));Ot.displayName=Ee.displayName;const Ue=a.forwardRef(({className:n,...e},o)=>t.jsx(Oe,{ref:o,className:et("flex cursor-default items-center justify-center py-1",n),...e,"data-matrix-id":"src/components/ui/select.tsx:39:2","data-matrix-name":"SelectPrimitive.ScrollUpButton","data-component-path":"src/components/ui/select.tsx","data-component-line":"39","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.ScrollUpButton","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:t.jsx(re,{className:"h-4 w-4","data-matrix-id":"src/components/ui/select.tsx:47:4","data-matrix-name":"ChevronUp","data-component-path":"src/components/ui/select.tsx","data-component-line":"47","data-component-file":"select.tsx","data-component-name":"ChevronUp","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})}));Ue.displayName=Oe.displayName;const He=a.forwardRef(({className:n,...e},o)=>t.jsx(Ve,{ref:o,className:et("flex cursor-default items-center justify-center py-1",n),...e,"data-matrix-id":"src/components/ui/select.tsx:56:2","data-matrix-name":"SelectPrimitive.ScrollDownButton","data-component-path":"src/components/ui/select.tsx","data-component-line":"56","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.ScrollDownButton","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:t.jsx(Ut,{className:"h-4 w-4","data-matrix-id":"src/components/ui/select.tsx:64:4","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/select.tsx","data-component-line":"64","data-component-file":"select.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})}));He.displayName=Ve.displayName;const Vt=a.forwardRef(({className:n,children:e,position:o="popper",...r},c)=>t.jsx(oo,{"data-matrix-id":"src/components/ui/select.tsx:74:2","data-matrix-name":"SelectPrimitive.Portal","data-component-path":"src/components/ui/select.tsx","data-component-line":"74","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Portal",children:t.jsxs(Re,{ref:c,className:et("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...r,"data-matrix-id":"src/components/ui/select.tsx:75:4","data-matrix-name":"SelectPrimitive.Content","data-component-path":"src/components/ui/select.tsx","data-component-line":"75","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Content","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22position%22%3A%22%5BIdentifier%5D%22%2C%22...spread%22%3Atrue%7D",children:[t.jsx(Ue,{"data-matrix-id":"src/components/ui/select.tsx:86:6","data-matrix-name":"SelectScrollUpButton","data-component-path":"src/components/ui/select.tsx","data-component-line":"86","data-component-file":"select.tsx","data-component-name":"SelectScrollUpButton"}),t.jsx(no,{className:et("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),"data-matrix-id":"src/components/ui/select.tsx:87:6","data-matrix-name":"SelectPrimitive.Viewport","data-component-path":"src/components/ui/select.tsx","data-component-line":"87","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Viewport","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:e}),t.jsx(He,{"data-matrix-id":"src/components/ui/select.tsx:96:6","data-matrix-name":"SelectScrollDownButton","data-component-path":"src/components/ui/select.tsx","data-component-line":"96","data-component-file":"select.tsx","data-component-name":"SelectScrollDownButton"})]})}));Vt.displayName=Re.displayName;const co=a.forwardRef(({className:n,...e},o)=>t.jsx(Le,{ref:o,className:et("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e,"data-matrix-id":"src/components/ui/select.tsx:106:2","data-matrix-name":"SelectPrimitive.Label","data-component-path":"src/components/ui/select.tsx","data-component-line":"106","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Label","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));co.displayName=Le.displayName;const it=a.forwardRef(({className:n,children:e,...o},r)=>t.jsxs(Fe,{ref:r,className:et("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,"data-matrix-id":"src/components/ui/select.tsx:118:2","data-matrix-name":"SelectPrimitive.Item","data-component-path":"src/components/ui/select.tsx","data-component-line":"118","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Item","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center","data-matrix-id":"src/components/ui/select.tsx:126:4","data-matrix-name":"span","data-component-path":"src/components/ui/select.tsx","data-component-line":"126","data-component-file":"select.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20left-2%20flex%20h-3.5%20w-3.5%20items-center%20justify-center%22%7D",children:t.jsx(so,{"data-matrix-id":"src/components/ui/select.tsx:127:6","data-matrix-name":"SelectPrimitive.ItemIndicator","data-component-path":"src/components/ui/select.tsx","data-component-line":"127","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.ItemIndicator",children:t.jsx(_t,{className:"h-4 w-4","data-matrix-id":"src/components/ui/select.tsx:128:8","data-matrix-name":"Check","data-component-path":"src/components/ui/select.tsx","data-component-line":"128","data-component-file":"select.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})}),t.jsx(ro,{"data-matrix-id":"src/components/ui/select.tsx:132:4","data-matrix-name":"SelectPrimitive.ItemText","data-component-path":"src/components/ui/select.tsx","data-component-line":"132","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.ItemText",children:e})]}));it.displayName=Fe.displayName;const io=a.forwardRef(({className:n,...e},o)=>t.jsx(ze,{ref:o,className:et("-mx-1 my-1 h-px bg-muted",n),...e,"data-matrix-id":"src/components/ui/select.tsx:141:2","data-matrix-name":"SelectPrimitive.Separator","data-component-path":"src/components/ui/select.tsx","data-component-line":"141","data-component-file":"select.tsx","data-component-name":"SelectPrimitive.Separator","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));io.displayName=ze.displayName;function yo(){const{user:n}=ca(),{t:e}=ee(),o=ia(),r=a.useRef(null),[c,u]=a.useState(""),[i,d]=a.useState(""),[s,g]=a.useState("ai_tools"),[S,A]=a.useState([]),[D,w]=a.useState([]),[b,p]=a.useState(!1),[y,v]=a.useState(""),[x,f]=a.useState(!1),[P,U]=a.useState(""),[K,M]=a.useState("deepseek"),[k,L]=a.useState(""),[Z,F]=a.useState(!1),[O,q]=a.useState(!1),[W,$]=a.useState(""),[l,C]=a.useState([]),[R,V]=a.useState(!1),[Q,ft]=a.useState("none"),[Nt,Bt]=a.useState(!1),{modelConfigs:pt}=da(),ht=["New York, NY","Los Angeles, CA","Chicago, IL","Houston, TX","Phoenix, AZ","Philadelphia, PA","San Antonio, TX","San Diego, CA","Dallas, TX","San Jose, CA","Austin, TX","Jacksonville, FL","Fort Worth, TX","Columbus, OH","Charlotte, NC","San Francisco, CA","Indianapolis, IN","Seattle, WA","Denver, CO","Washington, DC","Boston, MA","El Paso, TX","Nashville, TN","Detroit, MI","Oklahoma City, OK","Portland, OR","Las Vegas, NV","Memphis, TN","Louisville, KY","Baltimore, MD","Milwaukee, WI","Albuquerque, NM","Tucson, AZ","Fresno, CA","Sacramento, CA","Kansas City, MO","Mesa, AZ","Atlanta, GA","Colorado Springs, CO","Omaha, NE","Raleigh, NC","Miami, FL","Virginia Beach, VA","Oakland, CA","Minneapolis, MN","Tulsa, OK","Arlington, TX","Tampa, FL","New Orleans, LA","Wichita, KS","London, UK","Paris, France","Tokyo, Japan","Sydney, Australia","Toronto, Canada","Berlin, Germany","Amsterdam, Netherlands","Stockholm, Sweden","Copenhagen, Denmark","Zurich, Switzerland","Singapore","Hong Kong","Dubai, UAE","Mumbai, India","Beijing, China","Shanghai, China","Seoul, South Korea","Bangkok, Thailand","Moscow, Russia","SÃ£o Paulo, Brazil","Mexico City, Mexico","Buenos Aires, Argentina","Cairo, Egypt","Istanbul, Turkey","Athens, Greece","Rome, Italy","Barcelona, Spain","Madrid, Spain","Lisbon, Portugal","Dublin, Ireland","Oslo, Norway","Helsinki, Finland"];e("story.category.ai_tools","AI Tools Experience"),e("story.category.startup_interview","Startup Interview"),e("story.category.investment_outlook","Investment Outlook"),e("story.category.finance_ai","Financial AI Applications"),e("story.category.video_generation","Video Generation Experience"),e("story.category.domestic_ai","Domestic AI Tools"),e("story.category.overseas_ai","Overseas AI Platforms");const xt=m=>{Array.from(m.target.files||[]).forEach(_=>{const H=_.type.startsWith("image/")?5242880:52428800;if(_.size>H){v(e("story.file_size_error","File {{fileName}} is too large. Images max 5MB, videos max 50MB.",{fileName:_.name}));return}if(!_.type.startsWith("image/")&&!_.type.startsWith("video/")){v(e("story.file_type_error","File {{fileName}} type is not supported. Please select image or video files.",{fileName:_.name}));return}const st={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,file:_,preview:URL.createObjectURL(_),type:_.type.startsWith("image/")?"image":"video",uploading:!1,uploaded:!1};w(X=>[...X,st])}),m.target.value=""},h=m=>{w(T=>{const _=T.find(H=>H.id===m);return _&&URL.revokeObjectURL(_.preview),T.filter(H=>H.id!==m)})},I=async()=>{var m;if(!P.trim()){St.error(e("story.ai_assist.prompt_required","Please enter a prompt for AI story generation."));return}f(!0),L("");try{const{data:T,error:_}=await wt.functions.invoke("ai-story-generator",{body:{prompt:P,model:K,tags:S.map(st=>st.name),title:c||"Generated Story",imageModel:Q!=="none"?Q:null,generateImage:Q!=="none"}});if(_)throw _;const H=((m=T==null?void 0:T.data)==null?void 0:m.content)||"";if(H)L(H),St.success(e("story.ai_assist.success","AI story generated successfully!"));else throw new Error("No content generated")}catch(T){console.error("AI generation failed:",T),St.error(T.message||e("story.ai_assist.error","AI generation failed. Please try again."))}finally{f(!1)}},G=()=>{k&&(d(m=>{const T=m?`${m}

${k}`:k;return setTimeout(()=>{r.current&&(r.current.style.height="auto",r.current.style.height=r.current.scrollHeight+"px")},100),T}),L(""),F(!1),St.success(e("story.ai_assist.content_added","AI content added to your story!")))},j=async()=>{if(k)try{await navigator.clipboard.writeText(k),q(!0),setTimeout(()=>q(!1),2e3),St.success(e("story.ai_assist.copied","Content copied to clipboard!"))}catch{St.error(e("story.ai_assist.copy_failed","Failed to copy content"))}},N=m=>{d(m.target.value),m.target.style.height="auto",m.target.style.height=m.target.scrollHeight+"px"},B=m=>{if($(m),m.length>0){const T=ht.filter(_=>_.toLowerCase().includes(m.toLowerCase())).slice(0,8);C(T),V(!0)}else C([]),V(!1)},ot=m=>{$(m),V(!1),C([])},nt=async m=>{var T,_,H,st;try{w(bt=>bt.map(ct=>ct.id===m.id?{...ct,uploading:!0}:ct));const X=new FileReader,E=await new Promise((bt,ct)=>{X.onload=()=>bt(X.result),X.onerror=ct,X.readAsDataURL(m.file)}),We=`story-media-${Date.now()}-${m.file.name}`,{data:J,error:Gt}=await wt.functions.invoke("media-upload",{body:{mediaData:E,fileName:We,mediaType:m.type}});if(Gt)throw Gt;const Kt={...m,uploading:!1,uploaded:!0,publicUrl:(T=J==null?void 0:J.data)==null?void 0:T.publicUrl,fileName:(_=J==null?void 0:J.data)==null?void 0:_.fileName,fileSize:(H=J==null?void 0:J.data)==null?void 0:H.fileSize,mimeType:(st=J==null?void 0:J.data)==null?void 0:st.mimeType};return w(bt=>bt.map(ct=>ct.id===m.id?Kt:ct)),Kt}catch(X){throw console.error("Media file upload failed:",X),w(vt=>vt.map(E=>E.id===m.id?{...E,uploading:!1}:E)),X}},Ct=async m=>{var T,_;if(m.preventDefault(),v(""),!c.trim()||!i.trim()){v(e("story.required_fields","Title and content are required"));return}p(!0);try{const H=D.filter(E=>!E.uploaded).map(E=>nt(E));await Promise.all(H);const st=D.filter(E=>E.uploaded&&E.publicUrl).map(E=>({mediaType:E.type,publicUrl:E.publicUrl,fileName:E.fileName,fileSize:E.fileSize,mimeType:E.mimeType})),{data:X,error:vt}=await wt.functions.invoke("story-management",{body:{title:c.trim(),content:i.trim(),tags:S.map(E=>E.id),category:s,location:W.trim()||null,mediaFiles:st}});if(vt)throw vt;(_=(T=X==null?void 0:X.data)==null?void 0:T.story)!=null&&_.id?o(`/story/${X.data.story.id}`):o("/")}catch(H){console.error("Story publishing failed:",H),v(H.message||e("story.publish_error","Publishing failed, please try again later"))}finally{p(!1)}};return t.jsxs("div",{className:"max-w-4xl mx-auto","data-matrix-id":"src/pages/CreateStory.tsx:366:4","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"366","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-4xl%20mx-auto%22%7D",children:[t.jsx("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/pages/CreateStory.tsx:368:6","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"368","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:t.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/CreateStory.tsx:369:8","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"369","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[t.jsxs("button",{onClick:()=>o("/"),className:"flex items-center space-x-2 text-foreground hover:text-foreground transition-colors","data-matrix-id":"src/pages/CreateStory.tsx:370:10","data-matrix-name":"button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"370","data-component-file":"CreateStory.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20text-foreground%20hover%3Atext-foreground%20transition-colors%22%7D",children:[t.jsx(Aa,{className:"w-4 h-4","data-matrix-id":"src/pages/CreateStory.tsx:374:12","data-matrix-name":"ArrowLeft","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"374","data-component-file":"CreateStory.tsx","data-component-name":"ArrowLeft","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:375:12","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"375","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("common.back","Back")})]}),t.jsx("h1",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/CreateStory.tsx:377:10","data-matrix-name":"h1","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"377","data-component-file":"CreateStory.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:e("story.create_title","Create New Story")})]})}),t.jsxs("form",{onSubmit:Ct,className:"space-y-6","data-matrix-id":"src/pages/CreateStory.tsx:381:6","data-matrix-name":"form","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"381","data-component-file":"CreateStory.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-6%22%7D",children:[t.jsx("div",{className:"bg-background border border-border rounded-xl shadow-sm","data-matrix-id":"src/pages/CreateStory.tsx:383:8","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"383","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-background%20border%20border-border%20rounded-xl%20shadow-sm%22%7D",children:t.jsxs("div",{className:"p-6 space-y-6","data-matrix-id":"src/pages/CreateStory.tsx:384:10","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"384","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-6%22%7D",children:[t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:386:12","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"386","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/CreateStory.tsx:387:14","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"387","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:[e("story.title_label","Title")," *"]}),t.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),className:"w-full px-3 py-3 text-lg border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",placeholder:e("story.title_placeholder","Enter your story title..."),required:!0,maxLength:200,"data-matrix-id":"src/pages/CreateStory.tsx:390:14","data-matrix-name":"input","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"390","data-component-file":"CreateStory.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-3%20text-lg%20border%20border-border%20rounded-lg%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aborder-transparent%20bg-background%20text-foreground%22%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%2C%22required%22%3Atrue%2C%22maxLength%22%3A200%7D"}),t.jsxs("p",{className:"text-xs text-foreground-muted mt-1","data-matrix-id":"src/pages/CreateStory.tsx:399:14","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"399","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%20mt-1%22%7D",children:[c.length,"/200 ",e("common.characters","characters")]})]}),t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:403:12","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"403","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/CreateStory.tsx:404:14","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"404","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:[e("story.tags_label","Tags")," (",e("story.tags_max","Maximum 3"),")"]}),t.jsx(ja,{selectedTags:S,onTagsChange:A,maxTags:3,"data-matrix-id":"src/pages/CreateStory.tsx:407:14","data-matrix-name":"MultiTagSelector","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"407","data-component-file":"CreateStory.tsx","data-component-name":"MultiTagSelector","data-component-content":"%7B%22selectedTags%22%3A%22%5BIdentifier%5D%22%2C%22onTagsChange%22%3A%22%5BIdentifier%5D%22%2C%22maxTags%22%3A3%7D"})]}),t.jsxs("div",{className:"relative","data-matrix-id":"src/pages/CreateStory.tsx:415:12","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"415","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[t.jsxs("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/CreateStory.tsx:416:14","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"416","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:[e("story.location_label","Location")," (",e("story.location_optional","Optional"),")"]}),t.jsxs("div",{className:"relative","data-matrix-id":"src/pages/CreateStory.tsx:419:14","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"419","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[t.jsx("input",{type:"text",value:W,onChange:m=>B(m.target.value),onFocus:()=>{W.length>0&&V(!0)},onBlur:()=>{setTimeout(()=>V(!1),200)},className:"w-full px-3 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-background text-foreground",placeholder:e("story.location_placeholder","Where did this happen? e.g., San Francisco, CA"),"data-matrix-id":"src/pages/CreateStory.tsx:420:16","data-matrix-name":"input","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"420","data-component-file":"CreateStory.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onFocus%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22onBlur%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20border%20border-border%20rounded-lg%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aborder-transparent%20bg-background%20text-foreground%22%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%7D"}),R&&l.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-1 bg-background border border-border rounded-lg shadow-lg max-h-48 overflow-y-auto","data-matrix-id":"src/pages/CreateStory.tsx:439:18","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"439","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-full%20left-0%20right-0%20z-10%20mt-1%20bg-background%20border%20border-border%20rounded-lg%20shadow-lg%20max-h-48%20overflow-y-auto%22%7D",children:l.map((m,T)=>t.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground text-sm transition-colors",onClick:()=>ot(m),"data-matrix-id":"src/pages/CreateStory.tsx:441:22","data-matrix-name":"button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"441","data-component-file":"CreateStory.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22className%22%3A%22w-full%20px-3%20py-2%20text-left%20hover%3Abg-accent%20hover%3Atext-accent-foreground%20focus%3Abg-accent%20focus%3Atext-accent-foreground%20text-sm%20transition-colors%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:m},T))})]}),t.jsx("p",{className:"text-xs text-foreground-muted mt-1","data-matrix-id":"src/pages/CreateStory.tsx:453:14","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"453","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%20mt-1%22%7D",children:e("story.location_help","Adding a location helps readers connect with your story context.")})]}),t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:459:12","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"459","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-matrix-id":"src/pages/CreateStory.tsx:460:14","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"460","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-2%22%7D",children:[t.jsxs("label",{className:"block text-sm font-medium text-foreground","data-matrix-id":"src/pages/CreateStory.tsx:461:16","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"461","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%22%7D",children:[e("story.content_label","Content")," *"]}),t.jsxs(rt,{type:"button",variant:"outline",size:"sm",onClick:()=>F(!Z),className:"flex items-center gap-2","data-matrix-id":"src/pages/CreateStory.tsx:464:16","data-matrix-name":"Button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"464","data-component-file":"CreateStory.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22variant%22%3A%22outline%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[t.jsx(Da,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:471:18","data-matrix-name":"Wand2","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"471","data-component-file":"CreateStory.tsx","data-component-name":"Wand2","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:472:18","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"472","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.ai_assist.toggle","AI Writing Assistant")})]})]}),Z&&t.jsxs(Sa,{className:"mb-4 border-blue-200 dark:border-blue-800","data-matrix-id":"src/pages/CreateStory.tsx:478:16","data-matrix-name":"Card","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"478","data-component-file":"CreateStory.tsx","data-component-name":"Card","data-component-content":"%7B%22className%22%3A%22mb-4%20border-blue-200%20dark%3Aborder-blue-800%22%7D",children:[t.jsxs(ya,{className:"pb-3","data-matrix-id":"src/pages/CreateStory.tsx:479:18","data-matrix-name":"CardHeader","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"479","data-component-file":"CreateStory.tsx","data-component-name":"CardHeader","data-component-content":"%7B%22className%22%3A%22pb-3%22%7D",children:[t.jsxs(Ca,{className:"text-sm flex items-center","data-matrix-id":"src/pages/CreateStory.tsx:480:20","data-matrix-name":"CardTitle","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"480","data-component-file":"CreateStory.tsx","data-component-name":"CardTitle","data-component-content":"%7B%22className%22%3A%22text-sm%20flex%20items-center%22%7D",children:[t.jsx($t,{className:"w-4 h-4 mr-2 text-blue-600","data-matrix-id":"src/pages/CreateStory.tsx:481:22","data-matrix-name":"Bot","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"481","data-component-file":"CreateStory.tsx","data-component-name":"Bot","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20mr-2%20text-blue-600%22%7D"}),e("story.ai_assist.title","AI Story Generator")]}),t.jsx(va,{className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:484:20","data-matrix-name":"CardDescription","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"484","data-component-file":"CreateStory.tsx","data-component-name":"CardDescription","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:e("story.ai_assist.description","Generate compelling story content using AI. Describe what you want to write about.")})]}),t.jsxs(ba,{className:"space-y-3","data-matrix-id":"src/pages/CreateStory.tsx:488:18","data-matrix-name":"CardContent","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"488","data-component-file":"CreateStory.tsx","data-component-name":"CardContent","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:489:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"489","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-xs font-medium text-foreground mb-1","data-matrix-id":"src/pages/CreateStory.tsx:490:22","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"490","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-foreground%20mb-1%22%7D",children:e("story.ai_assist.model_select","AI Model")}),t.jsxs(Qt,{value:K,onValueChange:M,"data-matrix-id":"src/pages/CreateStory.tsx:493:22","data-matrix-name":"Select","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"493","data-component-file":"CreateStory.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onValueChange%22%3A%22%5BIdentifier%5D%22%7D",children:[t.jsx(Ot,{className:"h-8 text-sm","data-matrix-id":"src/pages/CreateStory.tsx:494:24","data-matrix-name":"SelectTrigger","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"494","data-component-file":"CreateStory.tsx","data-component-name":"SelectTrigger","data-component-content":"%7B%22className%22%3A%22h-8%20text-sm%22%7D",children:t.jsx(te,{"data-matrix-id":"src/pages/CreateStory.tsx:495:26","data-matrix-name":"SelectValue","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"495","data-component-file":"CreateStory.tsx","data-component-name":"SelectValue"})}),t.jsxs(Vt,{"data-matrix-id":"src/pages/CreateStory.tsx:497:24","data-matrix-name":"SelectContent","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"497","data-component-file":"CreateStory.tsx","data-component-name":"SelectContent",children:[t.jsx(it,{value:"deepseek","data-matrix-id":"src/pages/CreateStory.tsx:498:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"498","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22deepseek%22%7D",children:t.jsxs("div",{className:"flex items-center justify-between w-full","data-matrix-id":"src/pages/CreateStory.tsx:499:28","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"499","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20w-full%22%7D",children:[t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:500:30","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"500","data-component-file":"CreateStory.tsx","data-component-name":"span",children:"DeepSeek"}),t.jsx(Dt,{variant:"secondary",className:"ml-2 text-xs","data-matrix-id":"src/pages/CreateStory.tsx:501:30","data-matrix-name":"Badge","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"501","data-component-file":"CreateStory.tsx","data-component-name":"Badge","data-component-content":"%7B%22variant%22%3A%22secondary%22%2C%22className%22%3A%22ml-2%20text-xs%22%7D",children:"Recommended"})]})}),t.jsx(it,{value:"qwen","data-matrix-id":"src/pages/CreateStory.tsx:504:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"504","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22qwen%22%7D",children:"Qwen"}),t.jsx(it,{value:"openai","data-matrix-id":"src/pages/CreateStory.tsx:505:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"505","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22openai%22%7D",children:"GPT-4"})]})]})]}),t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:510:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"510","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-xs font-medium text-foreground mb-1","data-matrix-id":"src/pages/CreateStory.tsx:511:22","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"511","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-foreground%20mb-1%22%7D",children:e("story.ai_assist.image_generation","Story Image Generation")}),t.jsxs(Qt,{value:Q,onValueChange:ft,"data-matrix-id":"src/pages/CreateStory.tsx:514:22","data-matrix-name":"Select","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"514","data-component-file":"CreateStory.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onValueChange%22%3A%22%5BIdentifier%5D%22%7D",children:[t.jsx(Ot,{className:"h-8 text-sm","data-matrix-id":"src/pages/CreateStory.tsx:515:24","data-matrix-name":"SelectTrigger","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"515","data-component-file":"CreateStory.tsx","data-component-name":"SelectTrigger","data-component-content":"%7B%22className%22%3A%22h-8%20text-sm%22%7D",children:t.jsx(te,{"data-matrix-id":"src/pages/CreateStory.tsx:516:26","data-matrix-name":"SelectValue","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"516","data-component-file":"CreateStory.tsx","data-component-name":"SelectValue"})}),t.jsxs(Vt,{"data-matrix-id":"src/pages/CreateStory.tsx:518:24","data-matrix-name":"SelectContent","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"518","data-component-file":"CreateStory.tsx","data-component-name":"SelectContent",children:[t.jsx(it,{value:"none","data-matrix-id":"src/pages/CreateStory.tsx:519:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"519","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22none%22%7D",children:"No Image Generation"}),t.jsx(it,{value:"dall-e-3","data-matrix-id":"src/pages/CreateStory.tsx:520:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"520","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22dall-e-3%22%7D",children:t.jsxs("div",{className:"flex items-center justify-between w-full","data-matrix-id":"src/pages/CreateStory.tsx:521:28","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"521","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20w-full%22%7D",children:[t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:522:30","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"522","data-component-file":"CreateStory.tsx","data-component-name":"span",children:"DALL-E 3"}),t.jsx(Dt,{variant:"secondary",className:"ml-2 text-xs","data-matrix-id":"src/pages/CreateStory.tsx:523:30","data-matrix-name":"Badge","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"523","data-component-file":"CreateStory.tsx","data-component-name":"Badge","data-component-content":"%7B%22variant%22%3A%22secondary%22%2C%22className%22%3A%22ml-2%20text-xs%22%7D",children:"Premium"})]})}),t.jsx(it,{value:"midjourney","data-matrix-id":"src/pages/CreateStory.tsx:526:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"526","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22midjourney%22%7D",children:"Midjourney Style"}),t.jsx(it,{value:"stable-diffusion","data-matrix-id":"src/pages/CreateStory.tsx:527:26","data-matrix-name":"SelectItem","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"527","data-component-file":"CreateStory.tsx","data-component-name":"SelectItem","data-component-content":"%7B%22value%22%3A%22stable-diffusion%22%7D",children:"Stable Diffusion"})]})]}),Q!=="none"&&t.jsx("p",{className:"text-xs text-foreground-muted mt-1","data-matrix-id":"src/pages/CreateStory.tsx:531:24","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"531","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%20mt-1%22%7D",children:e("story.ai_assist.image_generation_help","An AI-generated image will be created based on your story content.")})]}),t.jsxs("div",{"data-matrix-id":"src/pages/CreateStory.tsx:537:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"537","data-component-file":"CreateStory.tsx","data-component-name":"div",children:[t.jsx("label",{className:"block text-xs font-medium text-foreground mb-1","data-matrix-id":"src/pages/CreateStory.tsx:538:22","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"538","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-xs%20font-medium%20text-foreground%20mb-1%22%7D",children:e("story.ai_assist.prompt_label","Story Prompt")}),t.jsx("textarea",{value:P,onChange:m=>U(m.target.value),className:"w-full px-2 py-2 text-sm border border-border rounded focus:ring-1 focus:ring-primary-500 focus:border-transparent resize-none bg-background text-foreground",rows:3,placeholder:e("story.ai_assist.prompt_placeholder","Describe what you want to write about, your experiences, insights, or the topic you want to explore..."),"data-matrix-id":"src/pages/CreateStory.tsx:541:22","data-matrix-name":"textarea","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"541","data-component-file":"CreateStory.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-2%20text-sm%20border%20border-border%20rounded%20focus%3Aring-1%20focus%3Aring-primary-500%20focus%3Aborder-transparent%20resize-none%20bg-background%20text-foreground%22%2C%22rows%22%3A3%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%7D"})]}),t.jsxs("div",{className:"flex items-center gap-2","data-matrix-id":"src/pages/CreateStory.tsx:550:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"550","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D",children:[t.jsx(rt,{type:"button",size:"sm",onClick:I,disabled:x||!P.trim(),className:"flex items-center gap-1","data-matrix-id":"src/pages/CreateStory.tsx:551:22","data-matrix-name":"Button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"551","data-component-file":"CreateStory.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20gap-1%22%7D",children:x?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-2 border-white border-t-transparent","data-matrix-id":"src/pages/CreateStory.tsx:560:28","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"560","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-3%20w-3%20border-2%20border-white%20border-t-transparent%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:561:28","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"561","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.ai_assist.generating","Generating...")})]}):t.jsxs(t.Fragment,{children:[t.jsx(wa,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:565:28","data-matrix-name":"Sparkles","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"565","data-component-file":"CreateStory.tsx","data-component-name":"Sparkles","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:566:28","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"566","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.ai_assist.generate","Generate Story")})]})}),k&&t.jsxs(t.Fragment,{children:[t.jsxs(rt,{type:"button",size:"sm",variant:"outline",onClick:G,"data-matrix-id":"src/pages/CreateStory.tsx:573:26","data-matrix-name":"Button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"573","data-component-file":"CreateStory.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%7D",children:[t.jsx(_t,{className:"w-3 h-3 mr-1","data-matrix-id":"src/pages/CreateStory.tsx:579:28","data-matrix-name":"Check","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"579","data-component-file":"CreateStory.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20mr-1%22%7D"}),e("story.ai_assist.use_content","Use Content")]}),t.jsx(rt,{type:"button",size:"sm",variant:"outline",onClick:j,"data-matrix-id":"src/pages/CreateStory.tsx:582:26","data-matrix-name":"Button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"582","data-component-file":"CreateStory.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%7D",children:O?t.jsx(_t,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:588:38","data-matrix-name":"Check","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"588","data-component-file":"CreateStory.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}):t.jsx(Na,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:588:70","data-matrix-name":"Copy","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"588","data-component-file":"CreateStory.tsx","data-component-name":"Copy","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})})]})]}),k&&t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-3 border","data-matrix-id":"src/pages/CreateStory.tsx:595:22","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"595","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-gray-50%20dark%3Abg-gray-800%20rounded-lg%20p-3%20border%22%7D",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2","data-matrix-id":"src/pages/CreateStory.tsx:596:24","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"596","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-2%22%7D",children:[t.jsx("h4",{className:"text-xs font-medium text-foreground","data-matrix-id":"src/pages/CreateStory.tsx:597:26","data-matrix-name":"h4","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"597","data-component-file":"CreateStory.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20text-foreground%22%7D",children:e("story.ai_assist.generated_content","Generated Content")}),t.jsx(Dt,{variant:"outline",className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:600:26","data-matrix-name":"Badge","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"600","data-component-file":"CreateStory.tsx","data-component-name":"Badge","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22className%22%3A%22text-xs%22%7D",children:K})]}),t.jsx("div",{className:"text-sm text-foreground max-h-32 overflow-y-auto whitespace-pre-wrap","data-matrix-id":"src/pages/CreateStory.tsx:604:24","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"604","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-foreground%20max-h-32%20overflow-y-auto%20whitespace-pre-wrap%22%7D",children:k})]})]})]}),t.jsx("textarea",{ref:r,value:i,onChange:N,rows:12,className:"w-full px-3 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none bg-background text-foreground min-h-[300px]",placeholder:e("story.content_placeholder","Share your AI experience story, let more people benefit from it..."),required:!0,"data-matrix-id":"src/pages/CreateStory.tsx:613:14","data-matrix-name":"textarea","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"613","data-component-file":"CreateStory.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22rows%22%3A12%2C%22className%22%3A%22w-full%20px-3%20py-3%20border%20border-border%20rounded-lg%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aborder-transparent%20resize-none%20bg-background%20text-foreground%20min-h-%5B300px%5D%22%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%2C%22required%22%3Atrue%7D"}),t.jsxs("div",{className:"flex items-center justify-between mt-1","data-matrix-id":"src/pages/CreateStory.tsx:622:14","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"622","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mt-1%22%7D",children:[t.jsxs("p",{className:"text-xs text-foreground-muted","data-matrix-id":"src/pages/CreateStory.tsx:623:16","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"623","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%22%7D",children:[i.length," ",e("common.characters","characters")]}),!Z&&t.jsxs(rt,{type:"button",variant:"ghost",size:"sm",onClick:()=>F(!0),className:"h-auto p-0 text-xs text-blue-600 dark:text-blue-400 hover:text-blue-700","data-matrix-id":"src/pages/CreateStory.tsx:625:18","data-matrix-name":"Button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"625","data-component-file":"CreateStory.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22h-auto%20p-0%20text-xs%20text-blue-600%20dark%3Atext-blue-400%20hover%3Atext-blue-700%22%7D",children:[t.jsx($t,{className:"w-3 h-3 mr-1","data-matrix-id":"src/pages/CreateStory.tsx:632:20","data-matrix-name":"Bot","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"632","data-component-file":"CreateStory.tsx","data-component-name":"Bot","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%20mr-1%22%7D"}),e("story.ai_assist.hint","Need writing help? Try AI Assistant")]})]})]})]})}),t.jsx("div",{className:"bg-background border border-border rounded-xl shadow-sm","data-matrix-id":"src/pages/CreateStory.tsx:642:8","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"642","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-background%20border%20border-border%20rounded-xl%20shadow-sm%22%7D",children:t.jsxs("div",{className:"p-6","data-matrix-id":"src/pages/CreateStory.tsx:643:10","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"643","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4","data-matrix-id":"src/pages/CreateStory.tsx:644:12","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"644","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-4%22%7D",children:[t.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/CreateStory.tsx:645:14","data-matrix-name":"h3","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"645","data-component-file":"CreateStory.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:e("story.media_files","Media Files")}),t.jsxs("label",{className:"flex items-center space-x-2 px-4 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 cursor-pointer transition-colors","data-matrix-id":"src/pages/CreateStory.tsx:646:14","data-matrix-name":"label","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"646","data-component-file":"CreateStory.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20px-4%20py-2%20bg-primary-500%20text-white%20rounded-lg%20hover%3Abg-primary-600%20cursor-pointer%20transition-colors%22%7D",children:[t.jsx(ha,{className:"w-4 h-4","data-matrix-id":"src/pages/CreateStory.tsx:647:16","data-matrix-name":"Upload","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"647","data-component-file":"CreateStory.tsx","data-component-name":"Upload","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:648:16","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"648","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.upload_files","Upload Files")}),t.jsx("input",{type:"file",multiple:!0,accept:"image/*,video/*",onChange:xt,className:"hidden","data-matrix-id":"src/pages/CreateStory.tsx:649:16","data-matrix-name":"input","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"649","data-component-file":"CreateStory.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22file%22%2C%22multiple%22%3Atrue%2C%22accept%22%3A%22image%2F*%2Cvideo%2F*%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22hidden%22%7D"})]})]}),D.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4","data-matrix-id":"src/pages/CreateStory.tsx:660:14","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"660","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20lg%3Agrid-cols-3%20gap-4%22%7D",children:D.map(m=>t.jsxs("div",{className:"relative bg-background-secondary rounded-lg overflow-hidden","data-matrix-id":"src/pages/CreateStory.tsx:662:18","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"662","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20bg-background-secondary%20rounded-lg%20overflow-hidden%22%7D",children:[m.type==="image"?t.jsx("img",{src:m.preview,alt:m.file.name,className:"w-full h-32 object-cover","data-matrix-id":"src/pages/CreateStory.tsx:664:22","data-matrix-name":"img","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"664","data-component-file":"CreateStory.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22w-full%20h-32%20object-cover%22%7D"}):t.jsx("video",{src:m.preview,className:"w-full h-32 object-cover",muted:!0,"data-matrix-id":"src/pages/CreateStory.tsx:670:22","data-matrix-name":"video","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"670","data-component-file":"CreateStory.tsx","data-component-name":"video","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22w-full%20h-32%20object-cover%22%2C%22muted%22%3Atrue%7D"}),t.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center","data-matrix-id":"src/pages/CreateStory.tsx:678:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"678","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20bg-black%2F40%20flex%20items-center%20justify-center%22%7D",children:m.uploading?t.jsxs("div",{className:"text-white text-center","data-matrix-id":"src/pages/CreateStory.tsx:680:24","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"680","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-white%20text-center%22%7D",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-white border-t-transparent mx-auto mb-1","data-matrix-id":"src/pages/CreateStory.tsx:681:26","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"681","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-6%20w-6%20border-2%20border-white%20border-t-transparent%20mx-auto%20mb-1%22%7D"}),t.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:682:26","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"682","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:e("story.uploading","Uploading")})]}):m.uploaded?t.jsxs("div",{className:"text-white text-center","data-matrix-id":"src/pages/CreateStory.tsx:685:24","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"685","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-white%20text-center%22%7D",children:[t.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-1","data-matrix-id":"src/pages/CreateStory.tsx:686:26","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"686","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20bg-green-500%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-1%22%7D",children:t.jsx("span",{className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:687:28","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"687","data-component-file":"CreateStory.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:"âœ“"})}),t.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:689:26","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"689","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:e("story.uploaded","Uploaded")})]}):t.jsxs("div",{className:"text-white text-center","data-matrix-id":"src/pages/CreateStory.tsx:692:24","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"692","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-white%20text-center%22%7D",children:[t.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-1","data-matrix-id":"src/pages/CreateStory.tsx:693:26","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"693","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%20bg-blue-500%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-1%22%7D",children:m.type==="image"?t.jsx(fa,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:694:54","data-matrix-name":"Image","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"694","data-component-file":"CreateStory.tsx","data-component-name":"Image","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}):t.jsx(Ba,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:694:86","data-matrix-name":"Video","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"694","data-component-file":"CreateStory.tsx","data-component-name":"Video","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})}),t.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/CreateStory.tsx:696:26","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"696","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:e("story.pending_upload","Pending Upload")})]})}),t.jsx("button",{type:"button",onClick:()=>h(m.id),className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors","data-matrix-id":"src/pages/CreateStory.tsx:702:20","data-matrix-name":"button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"702","data-component-file":"CreateStory.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22absolute%20top-2%20right-2%20w-6%20h-6%20bg-red-500%20text-white%20rounded-full%20flex%20items-center%20justify-center%20hover%3Abg-red-600%20transition-colors%22%7D",children:t.jsx(ae,{className:"w-3 h-3","data-matrix-id":"src/pages/CreateStory.tsx:707:22","data-matrix-name":"X","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"707","data-component-file":"CreateStory.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white p-2","data-matrix-id":"src/pages/CreateStory.tsx:711:20","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"711","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20bottom-0%20left-0%20right-0%20bg-black%2F70%20text-white%20p-2%22%7D",children:[t.jsx("p",{className:"text-xs truncate",title:m.file.name,"data-matrix-id":"src/pages/CreateStory.tsx:712:22","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"712","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20truncate%22%2C%22title%22%3A%22%5BMemberExpression%5D%22%7D",children:m.file.name}),t.jsxs("p",{className:"text-xs text-gray-300","data-matrix-id":"src/pages/CreateStory.tsx:715:22","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"715","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-gray-300%22%7D",children:[(m.file.size/1024/1024).toFixed(1)," MB"]})]})]},m.id))}):t.jsxs("div",{className:"text-center py-8 text-foreground-muted","data-matrix-id":"src/pages/CreateStory.tsx:723:14","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"723","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-8%20text-foreground-muted%22%7D",children:[t.jsx("div",{className:"w-12 h-12 bg-background-secondary rounded-full flex items-center justify-center mx-auto mb-3","data-matrix-id":"src/pages/CreateStory.tsx:724:16","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"724","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-12%20h-12%20bg-background-secondary%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-3%22%7D",children:t.jsx(Xt,{className:"w-6 h-6","data-matrix-id":"src/pages/CreateStory.tsx:725:18","data-matrix-name":"PlusCircle","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"725","data-component-file":"CreateStory.tsx","data-component-name":"PlusCircle","data-component-content":"%7B%22className%22%3A%22w-6%20h-6%22%7D"})}),t.jsx("p",{"data-matrix-id":"src/pages/CreateStory.tsx:727:16","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"727","data-component-file":"CreateStory.tsx","data-component-name":"p",children:e("story.no_media_files","No media files uploaded yet")}),t.jsx("p",{className:"text-sm","data-matrix-id":"src/pages/CreateStory.tsx:728:16","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"728","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:e("story.supported_formats","Supports image and video formats")})]})]})}),y&&t.jsxs("div",{className:"bg-error-50 dark:bg-error-900/20 border border-error-200 dark:border-error-800 rounded-lg p-4 flex items-start space-x-3","data-matrix-id":"src/pages/CreateStory.tsx:736:10","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"736","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-error-50%20dark%3Abg-error-900%2F20%20border%20border-error-200%20dark%3Aborder-error-800%20rounded-lg%20p-4%20flex%20items-start%20space-x-3%22%7D",children:[t.jsx(kt,{className:"w-5 h-5 text-error-500 flex-shrink-0 mt-0.5","data-matrix-id":"src/pages/CreateStory.tsx:737:12","data-matrix-name":"AlertCircle","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"737","data-component-file":"CreateStory.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-error-500%20flex-shrink-0%20mt-0.5%22%7D"}),t.jsx("p",{className:"text-error-700 dark:text-error-400","data-matrix-id":"src/pages/CreateStory.tsx:738:12","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"738","data-component-file":"CreateStory.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-error-700%20dark%3Atext-error-400%22%7D",children:y})]}),t.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/CreateStory.tsx:743:8","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"743","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[t.jsx("div",{className:"text-sm text-foreground-muted","data-matrix-id":"src/pages/CreateStory.tsx:744:10","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"744","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-foreground-muted%22%7D",children:t.jsx("p",{"data-matrix-id":"src/pages/CreateStory.tsx:745:12","data-matrix-name":"p","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"745","data-component-file":"CreateStory.tsx","data-component-name":"p",children:e("story.publish_notice","After publishing, your story will be public to all users.")})}),t.jsxs("div",{className:"flex space-x-3","data-matrix-id":"src/pages/CreateStory.tsx:747:10","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"747","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-3%22%7D",children:[t.jsx("button",{type:"button",onClick:()=>o("/"),className:"px-6 py-2 border border-border text-foreground rounded-lg hover:bg-background-secondary transition-colors","data-matrix-id":"src/pages/CreateStory.tsx:748:12","data-matrix-name":"button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"748","data-component-file":"CreateStory.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-6%20py-2%20border%20border-border%20text-foreground%20rounded-lg%20hover%3Abg-background-secondary%20transition-colors%22%7D",children:e("common.cancel","Cancel")}),t.jsx("button",{type:"submit",disabled:b||!c.trim()||!i.trim(),className:"flex items-center space-x-2 px-6 py-2 bg-primary-500 text-white rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","data-matrix-id":"src/pages/CreateStory.tsx:755:12","data-matrix-name":"button","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"755","data-component-file":"CreateStory.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-6%20py-2%20bg-primary-500%20text-white%20rounded-lg%20hover%3Abg-primary-600%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aring-offset-2%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20transition-colors%22%7D",children:b?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent","data-matrix-id":"src/pages/CreateStory.tsx:762:18","data-matrix-name":"div","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"762","data-component-file":"CreateStory.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-4%20w-4%20border-2%20border-white%20border-t-transparent%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:763:18","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"763","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.publishing","Publishing...")})]}):t.jsxs(t.Fragment,{children:[t.jsx(Xt,{className:"w-4 h-4","data-matrix-id":"src/pages/CreateStory.tsx:767:18","data-matrix-name":"PlusCircle","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"767","data-component-file":"CreateStory.tsx","data-component-name":"PlusCircle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),t.jsx("span",{"data-matrix-id":"src/pages/CreateStory.tsx:768:18","data-matrix-name":"span","data-component-path":"src/pages/CreateStory.tsx","data-component-line":"768","data-component-file":"CreateStory.tsx","data-component-name":"span",children:e("story.publish","Publish Story")})]})})]})]})]})]})}export{yo as default};
