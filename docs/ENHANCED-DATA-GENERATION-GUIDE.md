# AI公司数据生成系统 - 增强版使用指南

## 功能概述

本系统现在支持在Web界面直接生成100+家AI公司的完整数据，包括：

### 🏢 公司信息
- 公司名称（中英文）
- 详细描述（中英文）
- 成立年份和总部位置
- 员工规模
- 官方网站URL
- 市场估值

### 🛠️ 产品/工具信息
- 主要AI产品和服务
- 产品描述和功能
- 产品官网链接
- 工具分类和子分类

### 💰 融资信息
- 最近3轮融资详情
- 融资金额（美元/人民币）
- 投资方信息
- 融资轮次类型
- 公司估值

### 📰 新闻故事
- 基于真实新闻源生成的故事内容
- 包含原文链接和媒体来源
- 支持中英文双语
- 专业投资人和技术爱好者视角

## 使用方法

### 1. 环境准备

确保以下环境变量已正确配置：
```bash
SUPABASE_URL=your_supabase_url
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
OPENAI_API_KEY=your_openai_api_key
ADMIN_TOKEN=your_admin_token
```

### 2. 访问Web界面

1. 启动开发服务器：`npm run dev`
2. 访问：`http://localhost:3000/reconfigure-data`
3. 系统会自动获取认证token

### 3. 选择生成模式

#### 快速模式（推荐用于测试）
- **处理公司数量**：40家（20海外+20国内）
- **包含内容**：基础公司信息、产品、融资、新闻故事
- **预计时间**：5-10分钟
- **适用场景**：功能测试、快速验证

#### 完整模式（生产环境推荐）
- **处理公司数量**：200+家（100+海外+100+国内）
- **包含内容**：完整公司信息、产品、详细融资、新闻故事、原文链接
- **预计时间**：2-3小时
- **适用场景**：生产环境、完整数据生成

### 4. 监控进度

系统提供实时进度显示：
- 当前处理步骤
- 处理进度百分比
- 详细日志信息
- 预计完成时间

### 5. 查看结果

生成完成后，系统会显示：
- 各步骤执行结果
- 成功处理的公司数量
- 生成的Stories数量
- 融资记录数量
- 工具/产品数量

## 技术特性

### 🔗 新闻链接集成
- 集成主流科技媒体源
- 海外：TechCrunch, The Verge, Wired, MIT Technology Review等
- 国内：36氪, 虎嗅, 钛媒体, 雷锋网等
- 自动生成原文回链

### 📊 数据完整性
- 所有数据都包含中英文双语版本
- 融资信息包含详细金额、投资方、估值
- 公司信息包含官网、员工规模、市场地位
- 产品信息包含功能描述和官网链接

### ⚡ 性能优化
- 批量处理避免API限制
- 智能延迟控制
- 错误重试机制
- 进度实时更新

### 🛡️ 安全特性
- 认证token保护
- 环境变量验证
- 错误处理和日志记录
- 数据完整性检查

## 故障排除

### 常见问题

1. **认证token获取失败**
   - 检查ADMIN_TOKEN环境变量
   - 确认API端点可访问

2. **数据生成失败**
   - 检查OpenAI API密钥
   - 确认Supabase连接正常
   - 查看控制台错误日志

3. **进度卡住不动**
   - 检查网络连接
   - 确认API服务正常
   - 查看浏览器控制台

### 调试模式

如需调试，可以：
1. 查看浏览器开发者工具控制台
2. 检查网络请求状态
3. 查看服务器日志输出

## 数据质量保证

### 内容质量
- 所有内容由GPT-4生成
- 专业投资人和技术视角
- 符合行业标准格式
- 包含真实新闻源引用

### 数据一致性
- 中英文内容对应
- 融资信息格式统一
- 公司分类标准化
- 时间格式规范化

## 扩展功能

### 自定义公司列表
可以通过修改API中的公司列表来添加更多公司：
- 海外公司：`overseasCompanies` 数组
- 国内公司：`domesticCompanies` 数组

### 自定义新闻源
可以添加更多新闻源：
- 海外：`newsSources` 数组
- 国内：`chineseTechMediaSources` 数组

### 自定义生成参数
可以调整：
- 每家公司生成的故事数量
- 融资轮次数量
- 产品数量
- 内容长度

## 注意事项

1. **API限制**：OpenAI API有速率限制，完整模式需要较长时间
2. **数据准确性**：生成的内容基于AI模型，建议人工审核
3. **存储空间**：完整模式会生成大量数据，确保数据库有足够空间
4. **网络稳定性**：长时间运行需要稳定的网络连接

## 技术支持

如遇到问题，请：
1. 检查环境变量配置
2. 查看控制台错误信息
3. 确认API服务状态
4. 联系技术支持团队
