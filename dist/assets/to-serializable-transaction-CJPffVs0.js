const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/resolveImplementation-_pIAxEUj.js","assets/Auth-DAqzl9N_.js","assets/index-lJi5ZKDq.js","assets/index-9Wd0Lgfa.css","assets/mail-rCMurYez.js","assets/eye-off-_xJlegA0.js","assets/eye-CgMDpV-8.js","assets/circle-alert-DSA0x7c1.js","assets/loader-circle-Cf5iuTbA.js","assets/read-contract-CPImL6fK.js","assets/utils-DDmVK8MX.js","assets/extractIPFS-C5OdZdhp.js","assets/getInstalledModules-BJo_AQos.js","assets/eth_estimateGas-rTnsHGsU.js","assets/send-eip712-transaction-B3Uk01wA.js","assets/eth_sendRawTransaction-DPdnXbFR.js","assets/concat-hex-B-sfdxxa.js","assets/sha2-DfRvPhqz.js","assets/eth_getTransactionCount-8mKUw_93.js"])))=>i.map(i=>d[i]);
import{_ as v}from"./index-lJi5ZKDq.js";import{H as Fe,I as Te,B as z,J as Ge,K as b,S as ue,L as Re,M as p,N as Me,O as Le,P as Oe,Q as Ue,R as Ce,T as ze,U as B,V as Ne,W as ke,X as De,Y as je,Z as D,d as F,_ as Z,$ as Ve,a0 as Ze,a1 as He,a2 as de,a3 as We,a4 as Ke,a5 as Ye,a6 as Je,a7 as Qe,z as Xe,a8 as le,e as J,a9 as m,g as fe,E as qe,C as et,aa as tt,ab as nt,i as rt,k as it,c as S,ac as te,ad as st,ae as at}from"./Auth-DAqzl9N_.js";function ot(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const ne=/^tuple(?<array>(\[(\d*)\])*)$/;function H(e){let t=e.type;if(ne.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=H(s),i<n-1&&(t+=", ")}const r=ot(ne,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,H({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function L(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=H(i),r!==n-1&&(t+=", ")}return t}function ct(e){var t;return e.type==="function"?`function ${e.name}(${L(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${L(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${L(e.inputs)})`:e.type==="error"?`error ${e.name}(${L(e.inputs)})`:e.type==="constructor"?`constructor(${L(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function Q(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const ut=e=>Fe(Te(e));function dt(e){return ut(e)}function lt(e){let t=!0,n="",r=0,i="",s=!1;for(let a=0;a<e.length;a++){const o=e[a];if(["(",")",","].includes(o)&&(t=!0),o==="("&&r++,o===")"&&r--,!!t){if(r===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=o,n+=o}}if(!s)throw new z("Unable to normalize signature.");return i}const ft=e=>{const t=typeof e=="string"?e:ct(e);return lt(t)};function pt(e){return dt(ft(e))}function R(e){return typeof e[0]=="string"?ht(e):yt(e)}function yt(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function ht(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function k(e,t,n,{strict:r}={}){return Ge(e,{strict:!1})?mt(e,t,n,{strict:r}):he(e,t,n,{strict:r})}function pe(e,t){if(typeof t=="number"&&t>0&&t>b(e)-1)throw new ue({offset:t,position:"start",size:b(e)})}function ye(e,t,n){if(typeof t=="number"&&typeof n=="number"&&b(e)!==n-t)throw new ue({offset:n,position:"end",size:b(e)})}function he(e,t,n,{strict:r}={}){pe(e,t);const i=e.slice(t,n);return r&&ye(i,t,n),i}function mt(e,t,n,{strict:r}={}){pe(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ye(i,t,n),i}function xr(e,t){if(e.length!==t.length)throw new Re({expectedLength:e.length,givenLength:t.length});const n=gt({params:e,values:t}),r=q(n);return r.length===0?"0x":r}function gt({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(X({param:e[r],value:t[r]}));return n}function X({param:e,value:t}){const n=ee(e.type);if(n){const[r,i]=n;return wt(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return At(t,{param:e});if(e.type==="address")return bt(t);if(e.type==="bool")return xt(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=Me.exec(e.type)??[];return vt(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return Pt(t,{param:e});if(e.type==="string")return $t(t);throw new Le(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function q(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?t+=32:t+=b(o)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:o}=e[s];a?(n.push(p(t+i,{size:32})),r.push(o),i+=b(o)):n.push(o)}return R([...n,...r])}function bt(e){if(!Ce(e))throw new ze({address:e});return{dynamic:!1,encoded:B(e.toLowerCase())}}function wt(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Oe(e);if(!r&&e.length!==t)throw new Ue({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let a=0;a<e.length;a++){const o=X({param:n,value:e[a]});o.dynamic&&(i=!0),s.push(o)}if(r||i){const a=q(s);if(r){const o=p(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?R([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:R(s.map(({encoded:a})=>a))}}function Pt(e,{param:t}){const[,n]=t.type.split("bytes"),r=b(e);if(!n){let i=e;return r%32!==0&&(i=B(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:R([B(p(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new De({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:B(e,{dir:"right"})}}function xt(e){if(typeof e!="boolean")throw new z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:B(Ne(e))}}function vt(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new ke({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:p(e,{size:32,signed:t})}}function $t(e){const t=je(e),n=Math.ceil(b(t)/32),r=[];for(let i=0;i<n;i++)r.push(B(k(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:R([B(p(b(t),{size:32})),...r])}}function At(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],a=Array.isArray(e)?i:s.name,o=X({param:s,value:e[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?q(r):R(r.map(({encoded:i})=>i))}}function ee(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const It=e=>k(pt(e),0,4),_t={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Et={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class re extends z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class St extends z{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}}class Bt extends z{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}const Ft={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Bt({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new St({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new re({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new re({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Tt(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ft);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Gt(e,t={}){typeof t.size<"u"&&D(e,{size:t.size});const n=F(e,t);return Ze(n,t)}function Rt(e,t={}){let n=e;if(typeof t.size<"u"&&(D(n,{size:t.size}),n=Q(n)),n.length>1||n[0]>1)throw new Ve(n);return!!n[0]}function A(e,t={}){typeof t.size<"u"&&D(e,{size:t.size});const n=F(e,t);return Z(n,t)}function Mt(e,t={}){let n=e;return typeof t.size<"u"&&(D(n,{size:t.size}),n=Q(n,{dir:"right"})),new TextDecoder().decode(n)}function Lt(e,t){const n=typeof t=="string"?He(t):t,r=Tt(n);if(b(n)===0&&e.length>0)throw new de;if(b(t)&&b(t)<32)throw new We({data:typeof t=="string"?t:F(t),params:e,size:b(t)});let i=0;const s=[];for(let a=0;a<e.length;++a){const o=e[a];r.setPosition(i);const[c,u]=G(r,o,{staticPosition:0});i+=u,s.push(c)}return s}function G(e,t,{staticPosition:n}){const r=ee(t.type);if(r){const[i,s]=r;return Ut(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return kt(e,t,{staticPosition:n});if(t.type==="address")return Ot(e);if(t.type==="bool")return Ct(e);if(t.type.startsWith("bytes"))return zt(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Nt(e,t);if(t.type==="string")return Dt(e,{staticPosition:n});throw new Ke(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ie=32,W=32;function Ot(e){const t=e.readBytes(32);return[Ye(F(he(t,-20))),32]}function Ut(e,t,{length:n,staticPosition:r}){if(!n){const a=A(e.readBytes(W)),o=r+a,c=o+ie;e.setPosition(o);const u=A(e.readBytes(ie)),d=C(t);let f=0;const l=[];for(let g=0;g<u;++g){e.setPosition(c+(d?g*32:f));const[w,P]=G(e,t,{staticPosition:c});f+=P,l.push(w)}return e.setPosition(r+32),[l,32]}if(C(t)){const a=A(e.readBytes(W)),o=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(o+u*32);const[d]=G(e,t,{staticPosition:o});c.push(d)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let a=0;a<n;++a){const[o,c]=G(e,t,{staticPosition:r+i});i+=c,s.push(o)}return[s,i]}function Ct(e){return[Rt(e.readBytes(32),{size:32}),32]}function zt(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const a=A(e.readBytes(32));e.setPosition(n+a);const o=A(e.readBytes(32));if(o===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(o);return e.setPosition(n+32),[F(c),32]}return[F(e.readBytes(Number.parseInt(i,10),32)),32]}function Nt(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?Gt(i,{signed:n}):A(i,{signed:n}),32]}function kt(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),i=r?[]:{};let s=0;if(C(t)){const a=A(e.readBytes(W)),o=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(o+s);const[d,f]=G(e,u,{staticPosition:o});s+=f,i[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[i,32]}for(let a=0;a<t.components.length;++a){const o=t.components[a],[c,u]=G(e,o,{staticPosition:n});i[r?a:o==null?void 0:o.name]=c,s+=u}return[i,s]}function Dt(e,{staticPosition:t}){const n=A(e.readBytes(32)),r=t+n;e.setPosition(r);const i=A(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),a=Mt(Q(s));return e.setPosition(t+32),[a,32]}function C(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(C);const n=ee(e.type);return!!(n&&C({...e,type:n[1]}))}function jt(e){const{abi:t,data:n}=e,r=k(n,0,4);if(r==="0x")throw new de;const s=[...t||[],_t,Et].find(a=>a.type==="error"&&r===It(Je(a)));if(!s)throw new Qe(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Lt(s.inputs,k(n,4)):void 0,errorName:s.name}}const Vt={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Zt(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Ht(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>F(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=p(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=p(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=p(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=p(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=p(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=p(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Vt[e.type]),typeof e.value<"u"&&(t.value=p(e.value)),t}function Ht(e){return e.map(t=>({address:t.address,r:t.r?p(BigInt(t.r)):t.r,s:t.s?p(BigInt(t.s)):t.s,chainId:p(t.chainId),nonce:p(t.nonce),...typeof t.yParity<"u"?{yParity:p(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:p(t.v)}:{}}))}const Wt={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Kt(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Z(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Z(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Wt[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=Yt(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function Yt(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Jt(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:Kt(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function Qt(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}async function Xt(e,t){const n=t.blockTag??"latest",r=t.includeTransactions??!1,i=t.blockNumber!==void 0?Xe(t.blockNumber):void 0,s=await e({method:"eth_getBlockByNumber",params:[i||n,r]});if(!s)throw new Error("Block not found");return Jt(s)}async function qt(e){const t=await e({method:"eth_maxPriorityFeePerGas"});return le(t)}function me(e,t){e.includes("e")&&(e=Number(e).toFixed(t));let[n,r=""]=e.split(".");const i=n.startsWith("-")?"-":"";if(i&&(n=n.slice(1)),r=r.padEnd(t,"0"),t===0)r[0]&&Number.parseInt(r[0])>=5&&(n=(BigInt(n)+1n).toString()),r="";else if(r.length>t){const s=r[t];s&&Number.parseInt(s,10)>=5?(r=(BigInt(r.substring(0,t))+1n).toString().padStart(t,"0"),r.length>t&&(n=(BigInt(n)+1n).toString(),r=r.substring(r.length-t))):r=r.substring(0,t)}return BigInt(`${i}${n}${r}`)}function vr(e){return me(e,18)}async function en(e){const t=await e({method:"eth_gasPrice"});return le(t)}async function se(e){const{client:t,chain:n,percentMultiplier:r}=e,i=J({chain:n,client:t}),s=await en(i),a=r?s/BigInt(100)*BigInt(r):0n;return s+a}function U(e){if(e===0n||(e&e-1n)===0n)return e;let t=1n;for(;e>0n;)e>>=1n,t<<=1n;return t}const tn=[78600,2040,248,9372,841,842,2016,9768,2442,1942999413,1952959480,994873017,19011,40875,1511670449,5464,2020,2021,98866,1417429182];async function nn(e){var a;const[t,n,r,i]=await Promise.all([m(e.maxFeePerGas),m(e.maxPriorityFeePerGas),m(e.gasPrice),m(e.type)]);if(t!==void 0&&n!==void 0)return{maxFeePerGas:t,maxPriorityFeePerGas:n};if(typeof r=="bigint")return{gasPrice:r};const s=await rn(e.client,e.chain,i==="legacy"?"legacy":"eip1559");return(a=e.chain.experimental)!=null&&a.increaseZeroByteCount?s.gasPrice?{gasPrice:U(s.gasPrice)}:{maxFeePerGas:t??U(s.maxFeePerGas??0n),maxPriorityFeePerGas:n??U(s.maxPriorityFeePerGas??0n)}:s.gasPrice!==void 0?s:{maxFeePerGas:t??s.maxFeePerGas,maxPriorityFeePerGas:n??s.maxPriorityFeePerGas}}async function rn(e,t,n){if((n??t.feeType)==="legacy"||tn.includes(t.id))return{gasPrice:await se({chain:t,client:e,percentMultiplier:10})};const i=await sn(e,t);return i.maxFeePerGas!==null&&i.maxPriorityFeePerGas!==null?{maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas}:{gasPrice:await se({chain:t,client:e,percentMultiplier:10})}}async function sn(e,t,n=10){let r=null,i=null;const s=J({chain:t,client:e}),[a,o]=await Promise.all([Xt(s,{blockTag:"latest"}),qt(s).catch(()=>null)]),c=a==null?void 0:a.baseFeePerGas,u=t.id;return u===220||u===1220?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(u===80002||u===137?i=await un(u):o!==null&&(i=o),i==null||c==null?{maxFeePerGas:null,maxPriorityFeePerGas:null}:(i=an(i,n),r=c*2n+i,(u===42220||u===44787||u===62320)&&(i=r),{maxFeePerGas:r,maxPriorityFeePerGas:i}))}function an(e,t=10){const n=e/BigInt(100)*BigInt(t);return e+n}function on(e){switch(e){case 137:return"https://gasstation.polygon.technology/v2";case 80002:return"https://gasstation.polygon.technology/amoy"}}const cn=31n;async function un(e){const t=on(e);try{const r=(await(await fetch(t)).json()).fast.maxPriorityFee;if(r>0){const i=Number.parseFloat(r).toFixed(9);return me(i,9)}}catch(n){console.error("failed to fetch gas",n)}return cn}const dn="1.0.8";class y extends Error{constructor(t,n={}){var a;const r=n.cause instanceof y?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,i=n.cause instanceof y&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${dn}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}}function I(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const ge=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,be=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,we=/^\(.+?\).*?$/,ae=/^tuple(?<array>(\[(\d*)\])*)$/;function K(e){let t=e.type;if(ae.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=K(s),i<n-1&&(t+=", ")}const r=I(ae,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,K({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function O(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=K(i),r!==n-1&&(t+=", ")}return t}function ln(e){var t;return e.type==="function"?`function ${e.name}(${O(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${O(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${O(e.inputs)})`:e.type==="error"?`error ${e.name}(${O(e.inputs)})`:e.type==="constructor"?`constructor(${O(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}function fn(e){const t=[],n=e.length;for(let r=0;r<n;r++){const i=e[r],s=ln(i);t.push(s)}return t}const Pe=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pn(e){return Pe.test(e)}function yn(e){return I(Pe,e)}const xe=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function hn(e){return xe.test(e)}function mn(e){return I(xe,e)}const ve=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function gn(e){return ve.test(e)}function bn(e){return I(ve,e)}const $e=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ae(e){return $e.test(e)}function wn(e){return I($e,e)}const Ie=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Pn(e){return Ie.test(e)}function xn(e){return I(Ie,e)}const _e=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vn(e){return _e.test(e)}function $n(e){return I(_e,e)}const An=/^receive\(\) external payable$/;function In(e){return An.test(e)}const _n=new Set(["indexed"]),Y=new Set(["calldata","memory","storage"]);class $r extends y{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class En extends y{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Sn extends y{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Bn extends y{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Fn extends y{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Tn extends y{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Gn extends y{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Rn extends y{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class M extends y{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Mn extends y{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ln extends y{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class On extends y{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Un extends y{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Cn(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const j=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zn(e,t={}){if(gn(e))return Nn(e,t);if(hn(e))return kn(e,t);if(pn(e))return Dn(e,t);if(Pn(e))return jn(e,t);if(vn(e))return Vn(e);if(In(e))return{type:"receive",stateMutability:"payable"};throw new Mn({signature:e})}function Nn(e,t={}){const n=bn(e);if(!n)throw new M({signature:e,type:"function"});const r=$(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(T(r[o],{modifiers:Y,structs:t,type:"function"}));const a=[];if(n.returns){const o=$(n.returns),c=o.length;for(let u=0;u<c;u++)a.push(T(o[u],{modifiers:Y,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:a}}function kn(e,t={}){const n=mn(e);if(!n)throw new M({signature:e,type:"event"});const r=$(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(T(r[a],{modifiers:_n,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Dn(e,t={}){const n=yn(e);if(!n)throw new M({signature:e,type:"error"});const r=$(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(T(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function jn(e,t={}){const n=xn(e);if(!n)throw new M({signature:e,type:"constructor"});const r=$(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(T(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Vn(e){const t=$n(e);if(!t)throw new M({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Zn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Hn=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wn=/^u?int$/;function T(e,t){var f,l;const n=Cn(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(j.has(n))return j.get(n);const r=we.test(e),i=I(r?Hn:Zn,e);if(!i)throw new Bn({param:e});if(i.name&&Yn(i.name))throw new Fn({param:e,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const g=$(i.type),w=[],P=g.length;for(let x=0;x<P;x++)w.push(T(g[x],{structs:o}));u={components:w}}else if(i.type in o)c="tuple",u={components:o[i.type]};else if(Wn.test(i.type))c=`${i.type}256`;else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!Ee(c))throw new Sn({type:c});if(i.modifier){if(!((l=(f=t==null?void 0:t.modifiers)==null?void 0:f.has)!=null&&l.call(f,i.modifier)))throw new Tn({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if(Y.has(i.modifier)&&!Jn(c,!!i.array))throw new Gn({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const d={type:`${c}${i.array??""}`,...s,...a,...u};return j.set(n,d),d}function $(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const a=e[s],o=e.slice(s+1);switch(a){case",":return r===0?$(o,[...t,n.trim()]):$(o,t,`${n}${a}`,r);case"(":return $(o,t,`${n}${a}`,r+1);case")":return $(o,t,`${n}${a}`,r-1);default:return $(o,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new Un({current:n,depth:r});return t.push(n.trim()),t}function Ee(e){return e==="address"||e==="bool"||e==="function"||e==="string"||ge.test(e)||be.test(e)}const Kn=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Yn(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||ge.test(e)||be.test(e)||Kn.test(e)}function Jn(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Qn(e){const t={},n=e.length;for(let a=0;a<n;a++){const o=e[a];if(!Ae(o))continue;const c=wn(o);if(!c)throw new M({signature:o,type:"struct"});const u=c.properties.split(";"),d=[],f=u.length;for(let l=0;l<f;l++){const w=u[l].trim();if(!w)continue;const P=T(w,{type:"struct"});d.push(P)}if(!d.length)throw new Ln({signature:o});t[c.name]=d}const r={},i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,c]=i[a];r[o]=Se(c,t)}return r}const Xn=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Se(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const a=e[s];if(we.test(a.type))r.push(a);else{const c=I(Xn,a.type);if(!(c!=null&&c.type))throw new Rn({abiParameter:a});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new On({type:d});r.push({...a,type:`tuple${u??""}`,components:Se(t[d]??[],t,new Set([...n,d]))})}else if(Ee(d))r.push(a);else throw new En({type:d})}}return r}function qn(e){const t=Qn(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];Ae(s)||n.push(zn(s,t))}return n}const er=Qt({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:8928790}},testnet:!0}),tr="https://{clientId}.ipfscdn.io/ipfs/{cid}";function nr(e){var t,n;if(e.uri.startsWith("ipfs://")){const r=((n=(t=e.client.config)==null?void 0:t.storage)==null?void 0:n.gatewayUrl)??tr,i=e.client.clientId,s=rr(e.uri);let a;return typeof globalThis<"u"&&"Application"in globalThis&&(a=globalThis.Application.applicationId),`${r.replace("{clientId}",i).split("/ipfs")[0]}/ipfs/${s}${a?`?bundleId=${a}`:""}`}if(e.uri.startsWith("http"))return e.uri;throw new Error('Invalid URI scheme, expected "ipfs://" or "http(s)://"')}function rr(e){if(!e.startsWith("ipfs://"))return e;const t=e.search(/\/(Qm|baf)/i);return e.slice(t+1)}async function ir(e){var r,i,s,a,o,c,u,d,f;let t;if(e.uri.startsWith("ar://")){const{resolveArweaveScheme:l}=await v(async()=>{const{resolveArweaveScheme:g}=await import("./arweave-CAGvOb64.js");return{resolveArweaveScheme:g}},[]);t=l(e)}else t=nr(e);const n=await fe(e.client)(t,{headers:(s=(i=(r=e.client.config)==null?void 0:r.storage)==null?void 0:i.fetch)==null?void 0:s.headers,keepalive:(c=(o=(a=e.client.config)==null?void 0:a.storage)==null?void 0:o.fetch)==null?void 0:c.keepalive,requestTimeoutMs:e.requestTimeoutMs??((f=(d=(u=e.client.config)==null?void 0:u.storage)==null?void 0:d.fetch)==null?void 0:f.requestTimeoutMs)??6e4});if(!n.ok){const l=await n.text();throw new Error(`Failed to download file: ${n.status} ${n.statusText} ${l||""}`)}return n}function sr(e,t="https://contract.thirdweb.com/abi"){return qe(async()=>{if(e.abi)return e.abi;if(e.chain.id===31337||e.chain.id===1337||e.chain.id===er.id)return await oe(e);try{return await ar(e,t)}catch{return await oe(e)}},{cacheKey:`${e.chain.id}-${e.address}`,cacheTime:1e3*60*60*1})}async function ar(e,t="https://contract.thirdweb.com/abi"){const r=await(await fe(e.client)(`${t}/${e.chain.id}/${e.address}`)).json();if(!r||r.error)throw new Error(`Failed to resolve ABI from contract API. ${r.error||""}`);return r}async function Be(e){const[{resolveImplementation:t},{extractIPFSUri:n}]=await Promise.all([v(()=>import("./resolveImplementation-_pIAxEUj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),v(()=>import("./extractIPFS-C5OdZdhp.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,8]))]),{bytecode:r}=await t(e);if(r==="0x"){const{id:s,name:a}=e.chain;throw new Error(`Failed to load contract bytecode. Make sure the contract [${e.address}] exists on the chain [${a||"Unknown Chain"} (chain id: ${s})]`)}const i=n(r);if(!i)return[];try{return(await(await ir({client:e.client,uri:i})).json()).output.abi}catch{return[]}}const or={inputs:[],name:"getAllPlugins",outputs:[{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"},{internalType:"address",name:"pluginAddress",type:"address"}],internalType:"struct IPluginMap.Plugin[]",name:"registered",type:"tuple[]"}],stateMutability:"view",type:"function"},cr={inputs:[],name:"getAllExtensions",outputs:[{components:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"metadataURI",type:"string"},{internalType:"address",name:"implementation",type:"address"}],internalType:"struct IExtension.ExtensionMetadata",name:"metadata",type:"tuple"},{components:[{internalType:"bytes4",name:"functionSelector",type:"bytes4"},{internalType:"string",name:"functionSignature",type:"string"}],internalType:"struct IExtension.ExtensionFunction[]",name:"functions",type:"tuple[]"}],internalType:"struct IExtension.Extension[]",name:"allExtensions",type:"tuple[]"}],stateMutability:"view",type:"function"},ur={inputs:[],name:"facets",outputs:[{components:[{internalType:"address",name:"facetAddress",type:"address"},{internalType:"bytes4[]",name:"functionSelectors",type:"bytes4[]"}],type:"tuple[]"}],stateMutability:"view",type:"function"};async function oe(e,t,n){const[r,i,s,a,o]=await Promise.all([Be(e),dr(e),lr(e),fr(e),pr(e)]),c=[...new Set([...i,...s,...a,...o])];if(!c.length)return r;const u=await yr({contract:e,plugins:c,resolveSubAbi:n});return hr({pluginAbis:u,rootAbi:r})}async function dr(e){try{const{readContract:t}=await v(async()=>{const{readContract:r}=await import("./read-contract-CPImL6fK.js");return{readContract:r}},__vite__mapDeps([9,1,2,3,4,5,6,7,8,10])),n=await t({contract:e,method:or});return n.length?[...new Set(n.map(r=>r.pluginAddress))]:[]}catch{}return[]}async function lr(e){try{const{readContract:t}=await v(async()=>{const{readContract:r}=await import("./read-contract-CPImL6fK.js");return{readContract:r}},__vite__mapDeps([9,1,2,3,4,5,6,7,8,10])),n=await t({contract:e,method:cr});return n.length?[...new Set(n.map(r=>r.metadata.implementation))]:[]}catch{}return[]}async function fr(e){try{const{getInstalledModules:t}=await v(async()=>{const{getInstalledModules:r}=await import("./getInstalledModules-BJo_AQos.js");return{getInstalledModules:r}},__vite__mapDeps([12,9,1,2,3,4,5,6,7,8,10])),n=await t({contract:e});return n.length?[...new Set(n.map(r=>r.implementation))]:[]}catch{}return[]}async function pr(e){try{const{readContract:t}=await v(async()=>{const{readContract:r}=await import("./read-contract-CPImL6fK.js");return{readContract:r}},__vite__mapDeps([9,1,2,3,4,5,6,7,8,10])),n=await t({contract:e,method:ur});return n.length?n.map(r=>r.facetAddress):[]}catch{}return[]}async function yr(e){return Promise.all(e.plugins.map(t=>{const n=et({...e.contract,address:t});return e.resolveSubAbi?e.resolveSubAbi(n):Be(n)}))}function hr(e){let t=e.pluginAbis.flat().filter(r=>r.type!=="constructor");e.rootAbi&&(t=[...e.rootAbi,...t].filter(r=>r.type!=="fallback"&&r.type!=="receive").filter(Boolean));const n=[...new Set(fn(t))];return qn(n)}async function ce(e){var s;const{error:t,contract:n,fromAddress:r}=e;tt(t)&&n&&nt({chainId:(s=n.chain)==null?void 0:s.id,client:n.client,contractAddress:n.address,error:t,walletAddress:r});const i=await mr({contract:n,error:t});return i?new gr(i,n):t}async function mr(e){const{error:t,contract:n}=e;if(typeof t=="object"){const r=t;if(r.data&&r.data!=="0x"&&rt(r.data)){let i=n==null?void 0:n.abi;n&&!i&&(i=await sr(n).catch(()=>{}));const s=jt({abi:i,data:r.data});return`${s.errorName}${s.args?` - ${s.args}`:""}`}}return`Execution Reverted: ${it(t)}`}class gr extends Error{constructor(t,n){var i;let r=t;super(r),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chainId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TransactionError",this.contractAddress=n==null?void 0:n.address,this.chainId=(i=n==null?void 0:n.chain)==null?void 0:i.id,this.message=r}}const V=new WeakMap;async function br(e){var s,a;const t=typeof e.from=="string"?e.from??void 0:((s=e.from)==null?void 0:s.address)??((a=e.account)==null?void 0:a.address),n={...e.transaction,from:t};if(V.has(n))return V.get(n);const{account:r}=e,i=(async()=>{var x,N;const o=await m(e.transaction.gas);if(o!==void 0)return o;if(r!=null&&r.estimateGas)try{let h=await r.estimateGas(e.transaction);return(x=e.transaction.chain.experimental)!=null&&x.increaseZeroByteCount&&(h=U(h)),h}catch(h){throw await ce({contract:e.transaction.__contract,error:h,fromAddress:t})}const{encode:c}=await v(async()=>{const{encode:h}=await import("./Auth-DAqzl9N_.js").then(_=>_.b0);return{encode:h}},__vite__mapDeps([1,2,3,4,5,6,7,8])),[u,d,f,l]=await Promise.all([c(e.transaction),m(e.transaction.to),m(e.transaction.value),m(e.transaction.authorizationList)]),[{getRpcClient:g},{eth_estimateGas:w}]=await Promise.all([v(()=>import("./Auth-DAqzl9N_.js").then(h=>h.b1),__vite__mapDeps([1,2,3,4,5,6,7,8])),v(()=>import("./eth_estimateGas-rTnsHGsU.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8]))]),P=g(e.transaction);try{const h=Zt({authorizationList:l==null?void 0:l.map(E=>({...E,address:S(E.address),nonce:Number(E.nonce),r:te(E.r),s:te(E.s)})),data:u,from:t?S(t):void 0,to:d?S(d):void 0,value:f});let _=await w(P,h);return(N=e.transaction.chain.experimental)!=null&&N.increaseZeroByteCount&&(_=U(_)),_}catch(h){throw await ce({contract:e.transaction.__contract,error:h,fromAddress:t})}})();return V.set(n,i),i}async function Ar(e){if(await st(e.transaction.chain)){const{getZkGasFees:P}=await v(async()=>{const{getZkGasFees:_}=await import("./send-eip712-transaction-B3Uk01wA.js").then(E=>E.a);return{getZkGasFees:_}},__vite__mapDeps([14,15,1,2,3,4,5,6,7,8,16,17])),{gas:x,maxFeePerGas:N,maxPriorityFeePerGas:h}=await P({from:typeof e.from=="string"?S(e.from):e.from!==void 0?S(e.from.address):void 0,transaction:e.transaction});e.transaction={...e.transaction,gas:x,maxFeePerGas:N,maxPriorityFeePerGas:h}}const n=J(e.transaction),r=e.transaction.chain.id,i=e.from;let[s,a,o,c,u,d,f,l,g]=await Promise.all([at(e.transaction),(async()=>{const P=await m(e.transaction.nonce);return P!==void 0?P:i?await v(async()=>{const{eth_getTransactionCount:x}=await import("./eth_getTransactionCount-8mKUw_93.js");return{eth_getTransactionCount:x}},__vite__mapDeps([18,1,2,3,4,5,6,7,8])).then(({eth_getTransactionCount:x})=>x(n,{address:typeof i=="string"?S(i):S(i.address),blockTag:"pending"})):void 0})(),br({...e,from:e.from}),nn(e.transaction),m(e.transaction.to),m(e.transaction.accessList),m(e.transaction.value),m(e.transaction.authorizationList),m(e.transaction.type)]);const w=await m(e.transaction.extraGas);return w&&(o+=w),{accessList:d,authorizationList:l,chainId:r,data:s,gas:o,nonce:a,to:u,type:g,value:f,...c}}export{$r as I,St as P,pt as a,It as b,jt as c,Lt as d,xr as e,Qn as f,me as g,vr as h,Ae as i,R as j,rn as k,Tt as l,Wt as m,zn as p,Ar as t};
