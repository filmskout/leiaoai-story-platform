import{az as h,P as p,aA as f,N as m,aB as b,aC as g}from"./vendor-thirdweb-B1z45yR6.js";const i=new h(1e3);async function H(r){const{account:t,calls:o}=r,s=[],a=m(65);if(i.set(a,s),t.sendBatchTransaction){const e=await b({account:t,transactions:o});s.push(e.transactionHash),i.set(a,s)}else for(const e of o){const c=await g({account:t,transaction:e});s.push(c.transactionHash),i.set(a,s)}return a}async function C(r){const{chain:t,client:o,id:s}=r,a=i.get(s);if(!a)throw new Error("Failed to get calls status, unknown bundle id");const e=p({chain:t,client:o});let c="success";const u=await Promise.all(a.map(l=>f(e,{hash:l}).then(n=>({blockHash:n.blockHash,blockNumber:n.blockNumber,gasUsed:n.gasUsed,logs:n.logs.map(d=>({address:d.address,data:d.data,topics:d.topics})),status:n.status,transactionHash:n.transactionHash})).catch(()=>(c="pending",null))));return{atomic:!1,chainId:t.id,id:s,receipts:u.filter(l=>l!==null),status:c,statusCode:200,version:"2.0.0"}}export{C as inAppWalletGetCallsStatus,H as inAppWalletSendCalls};
