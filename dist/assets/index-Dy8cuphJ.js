const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-ponyfill-CnxgsbQr.js","assets/vendor-react-CpsyMv2-.js","assets/Home-COykJ5CD.js","assets/vendor-ui-DPGpZYCr.js","assets/textarea-5MVSgXPD.js","assets/useAIChat-Ddb8Jkva.js","assets/proxy-CiyaKLYz.js","assets/index-IhUUfVPt.js","assets/sparkles-BIotQ2f6.js","assets/arrow-right-DhJs3CAv.js","assets/card-C2l9iz4D.js","assets/trending-up-BoNZ11Pw.js","assets/target-9TCDYyT8.js","assets/map-pin-DPQ64bBW.js","assets/loader-circle-C2IDBDno.js","assets/message-square-BPRcGS0x.js","assets/badge-Qj6g2PQt.js","assets/eye-CStPiHBG.js","assets/heart-DBCG8o3R.js","assets/plus-BKcLXqyR.js","assets/vendor-thirdweb-B1z45yR6.js","assets/Home-B_sUn6Hx.css","assets/Auth-D--Fh304.js","assets/mail-2b8o2FGV.js","assets/eye-off-5dQQKzLU.js","assets/circle-alert-BjoSExI5.js","assets/AdminLogin-CExr411x.js","assets/Profile-Cbw5U1iE.js","assets/avatar-BZtlRDXt.js","assets/tabs-D9JQ5S_y.js","assets/pen-line-B6Qq0gAS.js","assets/download-BJLNWxNO.js","assets/StoryDetail-IDVOy7VE.js","assets/arrow-left-BQOpDhzu.js","assets/square-pen-BAIU-vgS.js","assets/CreateStory-CAaq-bBx.js","assets/MultiTagSelector-b1_Xs0G4.js","assets/input-Bx0OIfR4.js","assets/copy-CnIIVAnc.js","assets/upload-BxvIUTSp.js","assets/image-D1Of3PSK.js","assets/EditStory-Dc7Or0Gi.js","assets/save-y6tr7anu.js","assets/refresh-cw-CKrYIAf3.js","assets/Stories-CGWAIxt4.js","assets/PageHero-t5HTcRHY.js","assets/UserProfile-Dk42bLvY.js","assets/AuthCallback-D9U-Bmy3.js","assets/AIChat-CBpaUodr.js","assets/vendor-markdown-Dm-LQHt5.js","assets/AIChat-BJFlLS00.css","assets/BPAnalysis-qbyimJbk.js","assets/Settings-Cs5cOwks.js","assets/DebugStories-BOmoVgev.js"])))=>i.map(i=>d[i]);
var Yr=Object.defineProperty;var Zr=(a,e,t)=>e in a?Yr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var We=(a,e,t)=>Zr(a,typeof e!="symbol"?e+"":e,t);import{j as h,S as Qr,a as ko,b as Lo,P as es,C as Co,I as To,c as Oo,d as Po,R as No,L as Ro,e as Io,f as ts,T as ns}from"./vendor-ui-DPGpZYCr.js";import{a as as,e as os,d as he,b as T,r as L,c as rs,u as jo,f as ss,L as we,O as is,B as cs,h as ls,i as ie,N as sa,g as ds}from"./vendor-react-CpsyMv2-.js";import{_ as re}from"./vendor-thirdweb-B1z45yR6.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();var Dn={},va=as;Dn.createRoot=va.createRoot,Dn.hydrateRoot=va.hydrateRoot;const us=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>re(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class ia extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class wa extends ia{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Aa extends ia{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _a extends ia{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bn;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Bn||(Bn={}));var ps=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};class hs{constructor(e,{headers:t={},customFetch:n,region:o=Bn.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=us(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ps(this,arguments,void 0,function*(t,n={}){var o;try{const{headers:r,method:s,body:i,signal:c}=n;let l={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${t}`);d&&d!=="any"&&(l["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let m;i&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",m=i):typeof i=="string"?(l["Content-Type"]="text/plain",m=i):typeof FormData<"u"&&i instanceof FormData?m=i:(l["Content-Type"]="application/json",m=JSON.stringify(i)));const u=yield this.fetch(p.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:m,signal:c}).catch(E=>{throw E.name==="AbortError"?E:new wa(E)}),x=u.headers.get("x-relay-error");if(x&&x==="true")throw new Aa(u);if(!u.ok)throw new _a(u);let y=((o=u.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield u.json():y==="application/octet-stream"?b=yield u.blob():y==="text/event-stream"?b=u:y==="multipart/form-data"?b=yield u.formData():b=yield u.text(),{data:b,error:null,response:u}}catch(r){return r instanceof Error&&r.name==="AbortError"?{data:null,error:new wa(r)}:{data:null,error:r,response:r instanceof _a||r instanceof Aa?r.context:void 0}}})}}var pe={},ca={},hn={},qt={},mn={},fn={},ms=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_t=ms();const fs=_t.fetch,Do=_t.fetch.bind(_t),Bo=_t.Headers,gs=_t.Request,xs=_t.Response,Et=Object.freeze(Object.defineProperty({__proto__:null,Headers:Bo,Request:gs,Response:xs,default:Do,fetch:fs},Symbol.toStringTag,{value:"Module"})),ys=os(Et);var gn={};Object.defineProperty(gn,"__esModule",{value:!0});let bs=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gn.default=bs;var $o=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fn,"__esModule",{value:!0});const vs=$o(ys),ws=$o(gn);let As=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vs.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let o=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var s,i,c,l;let d=null,p=null,m=null,u=r.status,x=r.statusText;if(r.ok){if(this.method!=="HEAD"){const f=await r.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?p=f:p=JSON.parse(f))}const b=(i=this.headers.get("Prefer"))===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),E=(c=r.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&E&&E.length>1&&(m=parseInt(E[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,u=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const b=await r.text();try{d=JSON.parse(b),Array.isArray(d)&&r.status===404&&(p=[],d=null,u=200,x="OK")}catch{r.status===404&&b===""?(u=204,x="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,u=200,x="OK"),d&&this.shouldThrowOnError)throw new ws.default(d)}return{error:d,data:p,count:m,status:u,statusText:x}});return this.shouldThrowOnError||(o=o.catch(r=>{var s,i,c;return{error:{message:`${(s=r==null?void 0:r.name)!==null&&s!==void 0?s:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(i=r==null?void 0:r.stack)!==null&&i!==void 0?i:""}`,hint:"",code:`${(c=r==null?void 0:r.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};fn.default=As;var _s=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(mn,"__esModule",{value:!0});const Ss=_s(fn);let Es=class extends Ss.default{select(e){let t=!1;const n=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:o,referencedTable:r=o}={}){const s=r?`${r}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:o=n}={}){const r=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:o=!1,wal:r=!1,format:s="text"}={}){var i;const c=[e?"analyze":null,t?"verbose":null,n?"settings":null,o?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};mn.default=Es;var ks=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qt,"__esModule",{value:!0});const Ls=ks(mn);let Cs=class extends Ls.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:o}={}){let r="";o==="plain"?r="pl":o==="phrase"?r="ph":o==="websearch"&&(r="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const o=n?`${n}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};qt.default=Cs;var Ts=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hn,"__esModule",{value:!0});const Ot=Ts(qt);let Os=class{constructor(e,{headers:t={},schema:n,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=o}select(e,t){const{head:n=!1,count:o}=t??{},r=n?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join("");return this.url.searchParams.set("select",i),o&&this.headers.append("Prefer",`count=${o}`),new Ot.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var o;const r="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((i,c)=>i.concat(Object.keys(c)),[]);if(s.length>0){const i=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",i.join(","))}}return new Ot.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:o,defaultToNull:r=!0}={}){var s;const i="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){const l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ot.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Ot.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ot.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};hn.default=Os;var Fo=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ca,"__esModule",{value:!0});const Ps=Fo(hn),Ns=Fo(qt);let Rs=class Mo{constructor(e,{headers:t={},schema:n,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=o}from(e){const t=new URL(`${this.url}/${e}`);return new Ps.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Mo(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:o=!1,count:r}={}){var s;let i;const c=new URL(`${this.url}/rpc/${e}`);let l;n||o?(i=n?"HEAD":"GET",Object.entries(t).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(i="POST",l=t);const d=new Headers(this.headers);return r&&d.set("Prefer",`count=${r}`),new Ns.default({method:i,url:c,headers:d,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ca.default=Rs;var kt=he&&he.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pe,"__esModule",{value:!0});pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const Uo=kt(ca);pe.PostgrestClient=Uo.default;const zo=kt(hn);pe.PostgrestQueryBuilder=zo.default;const Ho=kt(qt);pe.PostgrestFilterBuilder=Ho.default;const qo=kt(mn);pe.PostgrestTransformBuilder=qo.default;const Go=kt(fn);pe.PostgrestBuilder=Go.default;const Ko=kt(gn);pe.PostgrestError=Ko.default;var Is=pe.default={PostgrestClient:Uo.default,PostgrestQueryBuilder:zo.default,PostgrestFilterBuilder:Ho.default,PostgrestTransformBuilder:qo.default,PostgrestBuilder:Go.default,PostgrestError:Ko.default};const{PostgrestClient:js,PostgrestQueryBuilder:wp,PostgrestFilterBuilder:Ap,PostgrestTransformBuilder:_p,PostgrestBuilder:Sp,PostgrestError:Ep}=Is;class Ds{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const n=t.node,o=parseInt(n.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const n=this.getWebSocketConstructor();return new n(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bs="2.75.0",$s=`realtime-js/${Bs}`,Fs="1.0.0",$n=1e4,Ms=1e3,Us=100;var jt;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(jt||(jt={}));var se;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(se||(se={}));var Se;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Se||(Se={}));var Fn;(function(a){a.websocket="websocket"})(Fn||(Fn={}));var Ze;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ze||(Ze={}));class zs{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const o=t.getUint8(1),r=t.getUint8(2);let s=this.HEADER_LENGTH+2;const i=n.decode(e.slice(s,s+o));s=s+o;const c=n.decode(e.slice(s,s+r));s=s+r;const l=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{ref:null,topic:i,event:c,payload:l}}}class Vo{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Y||(Y={}));const Sa=(a,e,t={})=>{var n;const o=(n=t.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((r,s)=>(r[s]=Hs(s,a,e,o),r),{}):{}},Hs=(a,e,t,n)=>{const o=e.find(i=>i.name===a),r=o==null?void 0:o.type,s=t[a];return r&&!n.includes(r)?Wo(r,s):Mn(s)},Wo=(a,e)=>{if(a.charAt(0)==="_"){const t=a.slice(1,a.length);return Vs(e,t)}switch(a){case Y.bool:return qs(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Gs(e);case Y.json:case Y.jsonb:return Ks(e);case Y.timestamp:return Ws(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Mn(e);default:return Mn(e)}},Mn=a=>a,qs=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},Gs=a=>{if(typeof a=="string"){const e=parseFloat(a);if(!Number.isNaN(e))return e}return a},Ks=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(e){return console.log(`JSON parse error: ${e}`),a}return a},Vs=(a,e)=>{if(typeof a!="string")return a;const t=a.length-1,n=a[t];if(a[0]==="{"&&n==="}"){let r;const s=a.slice(1,t);try{r=JSON.parse("["+s+"]")}catch{r=s?s.split(","):[]}return r.map(i=>Wo(e,i))}return a},Ws=a=>typeof a=="string"?a.replace(" ","T"):a,Jo=a=>{let e=a;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class _n{constructor(e,t,n={},o=$n){this.channel=e,this.event=t,this.payload=n,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ea;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Ea||(Ea={}));class Dt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},o=>{const{onJoin:r,onLeave:s,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dt.syncState(this.state,o,r,s),this.pendingDiffs.forEach(c=>{this.state=Dt.syncDiff(this.state,c,r,s)}),this.pendingDiffs=[],i()}),this.channel._on(n.diff,{},o=>{const{onJoin:r,onLeave:s,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Dt.syncDiff(this.state,o,r,s),i())}),this.onJoin((o,r,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:r,newPresences:s})}),this.onLeave((o,r,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:r,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,o){const r=this.cloneDeep(e),s=this.transformState(t),i={},c={};return this.map(r,(l,d)=>{s[l]||(c[l]=d)}),this.map(s,(l,d)=>{const p=r[l];if(p){const m=d.map(b=>b.presence_ref),u=p.map(b=>b.presence_ref),x=d.filter(b=>u.indexOf(b.presence_ref)<0),y=p.filter(b=>m.indexOf(b.presence_ref)<0);x.length>0&&(i[l]=x),y.length>0&&(c[l]=y)}else i[l]=d}),this.syncDiff(r,{joins:i,leaves:c},n,o)}static syncDiff(e,t,n,o){const{joins:r,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),o||(o=()=>{}),this.map(r,(i,c)=>{var l;const d=(l=e[i])!==null&&l!==void 0?l:[];if(e[i]=this.cloneDeep(c),d.length>0){const p=e[i].map(u=>u.presence_ref),m=d.filter(u=>p.indexOf(u.presence_ref)<0);e[i].unshift(...m)}n(i,d,c)}),this.map(s,(i,c)=>{let l=e[i];if(!l)return;const d=c.map(p=>p.presence_ref);l=l.filter(p=>d.indexOf(p.presence_ref)<0),e[i]=l,o(i,l,c),l.length===0&&delete e[i]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const o=e[n];return"metas"in o?t[n]=o.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):t[n]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ka;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(ka||(ka={}));var Bt;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(Bt||(Bt={}));var Pe;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(Pe||(Pe={}));class la{constructor(e,t={config:{}},n){var o,r;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new _n(this,Se.join,this.params,this.timeout),this.rejoinTimer=new Vo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Se.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Dt(this),this.broadcastEndpointURL=Jo(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var n,o,r;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:s,presence:i,private:c}}=this.params,l=(o=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&o!==void 0?o:[],d=!!this.bindings[Bt.PRESENCE]&&this.bindings[Bt.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,p={},m={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(u=>e==null?void 0:e(Pe.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Pe.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:u})=>{var x;if(this.socket.setAuth(),u===void 0){e==null||e(Pe.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,E=[];for(let f=0;f<b;f++){const g=y[f],{filter:{event:w,schema:_,table:v,filter:A}}=g,k=u&&u[f];if(k&&k.event===w&&k.schema===_&&k.table===v&&k.filter===A)E.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(Pe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Pe.SUBSCRIBED);return}}).receive("error",u=>{this.state=se.errored,e==null||e(Pe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Pe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===se.joined&&e===Bt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e,t={}){var n,o;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:s}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((o=l.body)===null||o===void 0?void 0:o.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var s,i,c;const l=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(i=(s=this.params)===null||s===void 0?void 0:s.config)===null||i===void 0?void 0:i.broadcast)===null||c===void 0)&&c.ack)&&r("ok"),l.receive("ok",()=>r("ok")),l.receive("error",()=>r("error")),l.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Se.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(o=>{n=new _n(this,Se.leave,{},e),n.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const o=new AbortController,r=setTimeout(()=>o.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(r),s}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _n(this,e,t,n);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Us){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var o,r;const s=e.toLocaleLowerCase(),{close:i,error:c,leave:l,join:d}=Se;if(n&&[i,c,l,d].indexOf(s)>=0&&n!==this._joinRef())return;let m=this._onMessage(s,t,n);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(u=>{var x,y,b;return((x=u.filter)===null||x===void 0?void 0:x.event)==="*"||((b=(y=u.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(u=>u.callback(m,n)):(r=this.bindings[s])===null||r===void 0||r.filter(u=>{var x,y,b,E,f,g;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in u){const w=u.id,_=(x=u.filter)===null||x===void 0?void 0:x.event;return w&&((y=t.ids)===null||y===void 0?void 0:y.includes(w))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=t.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(f=(E=u==null?void 0:u.filter)===null||E===void 0?void 0:E.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((g=t==null?void 0:t.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return u.type.toLocaleLowerCase()===s}).map(u=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:y,table:b,commit_timestamp:E,type:f,errors:g}=x;m=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:E,eventType:f,new:{},old:{},errors:g}),this._getPayloadRecords(x))}u.callback(m,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const o=e.toLocaleLowerCase(),r={type:o,filter:t,callback:n};return this.bindings[o]?this.bindings[o].push(r):this.bindings[o]=[r],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(o=>{var r;return!(((r=o.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&la.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Se.close,{},e)}_onError(e){this._on(Se.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Sa(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Sa(e.columns,e.old_record)),t}}const Sn=()=>{},Jt={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Js=[1e3,2e3,5e3,1e4],Xs=1e4,Ys=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zs{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$n,this.transport=null,this.heartbeatIntervalMs=Jt.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sn,this.ref=0,this.reconnectTimer=null,this.logger=Sn,this.conn=null,this.sendBuffer=[],this.serializer=new zs,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>re(async()=>{const{default:i}=await Promise.resolve().then(()=>Et);return{default:i}},void 0).then(({default:i})=>i(...s)).catch(i=>{throw new Error(`Failed to load @supabase/node-fetch: ${i.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...s)=>r(...s)},!(!((n=t==null?void 0:t.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Fn.websocket}`,this.httpEndpoint=Jo(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ds.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fs}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jt.connecting:return Ze.Connecting;case jt.open:return Ze.Open;case jt.closing:return Ze.Closing;default:return Ze.Closed}}isConnected(){return this.connectionState()===Ze.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const n=`realtime:${e}`,o=this.getChannels().find(r=>r.topic===n);if(o)return o;{const r=new la(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){const{topic:t,event:n,payload:o,ref:r}=e,s=()=>{this.encode(e,i=>{var c;(c=this.conn)===null||c===void 0||c.send(i)})};this.log("push",`${t} ${n} (${r})`,o),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Ms,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Jt.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(l){this.log("error","error in heartbeat callback",l)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:o,payload:r,ref:s}=t,i=s?`(${s})`:"",c=r.status||"";this.log("receive",`${c} ${n} ${o} ${i}`.trim(),r),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(o,r,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Se.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${n}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([Ys],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{const o={access_token:t,version:$s};t&&n.updateJoinPayload(o),n.joinedOnce&&n._isJoined()&&n._push(Se.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vo(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jt.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,o,r,s,i,c,l,d;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:$n,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Jt.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(i=e==null?void 0:e.heartbeatCallback)!==null&&i!==void 0?i:Sn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:p=>Js[p-1]||Xs,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(p,m)=>m(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class da extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Qs extends da{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Un extends da{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ei=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};const Xo=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>re(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},ti=()=>ei(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield re(()=>Promise.resolve().then(()=>Et),void 0)).Response:Response}),zn=a=>{if(Array.isArray(a))return a.map(t=>zn(t));if(typeof a=="function"||a!==Object(a))return a;const e={};return Object.entries(a).forEach(([t,n])=>{const o=t.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[o]=zn(n)}),e},ni=a=>{if(typeof a!="object"||a===null)return!1;const e=Object.getPrototypeOf(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)};var ot=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};const En=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),ai=(a,e,t)=>ot(void 0,void 0,void 0,function*(){const n=yield ti();a instanceof n&&!(t!=null&&t.noResolveJson)?a.json().then(o=>{const r=a.status||500,s=(o==null?void 0:o.statusCode)||r+"";e(new Qs(En(o),r,s))}).catch(o=>{e(new Un(En(o),o))}):e(new Un(En(a),a))}),oi=(a,e,t,n)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"||!n?o:(ni(n)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(n)):o.body=n,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Gt(a,e,t,n,o,r){return ot(this,void 0,void 0,function*(){return new Promise((s,i)=>{a(t,oi(e,n,o,r)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>ai(c,i,n))})})}function an(a,e,t,n){return ot(this,void 0,void 0,function*(){return Gt(a,"GET",e,t,n)})}function Ce(a,e,t,n,o){return ot(this,void 0,void 0,function*(){return Gt(a,"POST",e,n,o,t)})}function Hn(a,e,t,n,o){return ot(this,void 0,void 0,function*(){return Gt(a,"PUT",e,n,o,t)})}function ri(a,e,t,n){return ot(this,void 0,void 0,function*(){return Gt(a,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Yo(a,e,t,n,o){return ot(this,void 0,void 0,function*(){return Gt(a,"DELETE",e,n,o,t)})}var si=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};class ii{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return si(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}var ci=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};class li{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new ii(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return ci(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}}var de=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};const di={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},La={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ui{constructor(e,t={},n,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Xo(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,n,o){return de(this,void 0,void 0,function*(){try{let r;const s=Object.assign(Object.assign({},La),o);let i=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",s.cacheControl),c&&r.append("metadata",this.encodeMetadata(c)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",s.cacheControl),c&&r.append("metadata",this.encodeMetadata(c))):(r=n,i["cache-control"]=`max-age=${s.cacheControl}`,i["content-type"]=s.contentType,c&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o!=null&&o.headers&&(i=Object.assign(Object.assign({},i),o.headers));const l=this._removeEmptyFolders(t),d=this._getFinalPath(l),p=yield(e=="PUT"?Hn:Ce)(this.fetch,`${this.url}/object/${d}`,r,Object.assign({headers:i},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:p.Id,fullPath:p.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}upload(e,t,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,o){return de(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),s=this._getFinalPath(r),i=new URL(this.url+`/object/upload/sign/${s}`);i.searchParams.set("token",t);try{let c;const l=Object.assign({upsert:La.upsert},o),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);const p=yield Hn(this.fetch,i.toString(),c,{headers:d});return{data:{path:r,fullPath:p.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(ae(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const r=yield Ce(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:o}),s=new URL(this.url+r.url),i=s.searchParams.get("token");if(!i)throw new da("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:i},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}update(e,t,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return de(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}copy(e,t,n){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Ce(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,n){return de(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),r=yield Ce(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${s}`)},{data:r,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,n){return de(this,void 0,void 0,function*(){try{const o=yield Ce(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${r}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),c=()=>an(this.fetch,`${this.url}/${o}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new li(c,this.shouldThrowOnError)}info(e){return de(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield an(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:zn(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}exists(e){return de(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ri(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n)&&n instanceof Un){const o=n.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),o=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&o.push(r);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}remove(e){return de(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}list(e,t,n){return de(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},di),t),{prefix:e||""});return{data:yield Ce(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}listV2(e,t){return de(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ce(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},t),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const pi="2.75.0",hi={"X-Client-Info":`storage-js/${pi}`};var lt=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};class mi{constructor(e,t={},n,o){this.shouldThrowOnError=!1;const r=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hi),t),this.fetch=Xo(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return lt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}createBucket(e){return lt(this,arguments,void 0,function*(t,n={public:!1}){try{return{data:yield Ce(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ae(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return lt(this,void 0,void 0,function*(){try{return{data:yield Hn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Ce(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}deleteBucket(e){return lt(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}}class fi extends mi{constructor(e,t={},n,o){super(e,t,n,o)}from(e){return new ui(this.url,this.headers,e,this.fetch)}}const gi="2.75.0";let It="";typeof Deno<"u"?It="deno":typeof document<"u"?It="web":typeof navigator<"u"&&navigator.product==="ReactNative"?It="react-native":It="node";const xi={"X-Client-Info":`supabase-js-${It}/${gi}`},yi={headers:xi},bi={schema:"public"},vi={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wi={};var Ai=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};const _i=a=>{let e;return a?e=a:typeof fetch>"u"?e=Do:e=fetch,(...t)=>e(...t)},Si=()=>typeof Headers>"u"?Bo:Headers,Ei=(a,e,t)=>{const n=_i(t),o=Si();return(r,s)=>Ai(void 0,void 0,void 0,function*(){var i;const c=(i=yield e())!==null&&i!==void 0?i:a;let l=new o(s==null?void 0:s.headers);return l.has("apikey")||l.set("apikey",a),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),n(r,Object.assign(Object.assign({},s),{headers:l}))})};var ki=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};function Li(a){return a.endsWith("/")?a:a+"/"}function Ci(a,e){var t,n;const{db:o,auth:r,realtime:s,global:i}=a,{db:c,auth:l,realtime:d,global:p}=e,m={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),r),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},p),i),{headers:Object.assign(Object.assign({},(t=p==null?void 0:p.headers)!==null&&t!==void 0?t:{}),(n=i==null?void 0:i.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ki(this,void 0,void 0,function*(){return""})};return a.accessToken?m.accessToken=a.accessToken:delete m.accessToken,m}function Ti(a){const e=a==null?void 0:a.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Li(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Zo="2.75.0",bt=30*1e3,qn=3,kn=qn*bt,Oi="http://localhost:9999",Pi="supabase.auth.token",Ni={"X-Client-Info":`gotrue-js/${Zo}`},Gn="X-Supabase-Api-Version",Qo={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ri=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ii=10*60*1e3;class Ft extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function R(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class ji extends Ft{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function Di(a){return R(a)&&a.name==="AuthApiError"}class Qe extends Ft{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class qe extends Ft{constructor(e,t,n,o){super(e,n,o),this.name=t,this.status=n}}class Ue extends qe{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bi(a){return R(a)&&a.name==="AuthSessionMissingError"}class dt extends qe{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xt extends qe{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yt extends qe{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $i(a){return R(a)&&a.name==="AuthImplicitGrantRedirectError"}class Ca extends qe{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kn extends qe{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ln(a){return R(a)&&a.name==="AuthRetryableFetchError"}class Ta extends qe{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Vn extends qe{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oa=` 	
\r=`.split(""),Fi=(()=>{const a=new Array(128);for(let e=0;e<a.length;e+=1)a[e]=-1;for(let e=0;e<Oa.length;e+=1)a[Oa[e].charCodeAt(0)]=-2;for(let e=0;e<on.length;e+=1)a[on[e].charCodeAt(0)]=e;return a})();function Pa(a,e,t){if(a!==null)for(e.queue=e.queue<<8|a,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(on[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;t(on[n]),e.queuedBits-=6}}function er(a,e,t){const n=Fi[a];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function Na(a){const e=[],t=s=>{e.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},r=s=>{zi(s,n,t)};for(let s=0;s<a.length;s+=1)er(a.charCodeAt(s),o,r);return e.join("")}function Mi(a,e){if(a<=127){e(a);return}else if(a<=2047){e(192|a>>6),e(128|a&63);return}else if(a<=65535){e(224|a>>12),e(128|a>>6&63),e(128|a&63);return}else if(a<=1114111){e(240|a>>18),e(128|a>>12&63),e(128|a>>6&63),e(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function Ui(a,e){for(let t=0;t<a.length;t+=1){let n=a.charCodeAt(t);if(n>55295&&n<=56319){const o=(n-55296)*1024&65535;n=(a.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}Mi(n,e)}}function zi(a,e,t){if(e.utf8seq===0){if(a<=127){t(a);return}for(let n=1;n<6;n+=1)if(!(a>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=a&31;else if(e.utf8seq===3)e.codepoint=a&15;else if(e.utf8seq===4)e.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|a&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function wt(a){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};for(let o=0;o<a.length;o+=1)er(a.charCodeAt(o),t,n);return new Uint8Array(e)}function Hi(a){const e=[];return Ui(a,t=>e.push(t)),new Uint8Array(e)}function tt(a){const e=[],t={queue:0,queuedBits:0},n=o=>{e.push(o)};return a.forEach(o=>Pa(o,t,n)),Pa(null,t,n),e.join("")}function qi(a){return Math.round(Date.now()/1e3)+a}function Gi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const e=Math.random()*16|0;return(a=="x"?e:e&3|8).toString(16)})}const fe=()=>typeof window<"u"&&typeof document<"u",Je={tested:!1,writable:!1},tr=()=>{if(!fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Je.tested)return Je.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Je.tested=!0,Je.writable=!0}catch{Je.tested=!0,Je.writable=!1}return Je.writable};function Ki(a){const e={},t=new URL(a);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,r)=>{e[r]=o})}catch{}return t.searchParams.forEach((n,o)=>{e[o]=n}),e}const nr=a=>{let e;return a?e=a:typeof fetch>"u"?e=(...t)=>re(async()=>{const{default:n}=await Promise.resolve().then(()=>Et);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Vi=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",vt=async(a,e,t)=>{await a.setItem(e,JSON.stringify(t))},Xe=async(a,e)=>{const t=await a.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},$e=async(a,e)=>{await a.removeItem(e)};class xn{constructor(){this.promise=new xn.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}xn.promiseConstructor=Promise;function Cn(a){const e=a.split(".");if(e.length!==3)throw new Vn("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ri.test(e[n]))throw new Vn("JWT not in base64url format");return{header:JSON.parse(Na(e[0])),payload:JSON.parse(Na(e[1])),signature:wt(e[2]),raw:{header:e[0],payload:e[1]}}}async function Wi(a){return await new Promise(e=>{setTimeout(()=>e(null),a)})}function Ji(a,e){return new Promise((n,o)=>{(async()=>{for(let r=0;r<1/0;r++)try{const s=await a(r);if(!e(r,null,s)){n(s);return}}catch(s){if(!e(r,s)){o(s);return}}})()})}function Xi(a){return("0"+a.toString(16)).substr(-2)}function Yi(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let o="";for(let r=0;r<56;r++)o+=t.charAt(Math.floor(Math.random()*n));return o}return crypto.getRandomValues(e),Array.from(e,Xi).join("")}async function Zi(a){const t=new TextEncoder().encode(a),n=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(n);return Array.from(o).map(r=>String.fromCharCode(r)).join("")}async function Qi(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const t=await Zi(a);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ut(a,e,t=!1){const n=Yi();let o=n;t&&(o+="/PASSWORD_RECOVERY"),await vt(a,`${e}-code-verifier`,o);const r=await Qi(n);return[r,n===r?"plain":"s256"]}const ec=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tc(a){const e=a.headers.get(Gn);if(!e||!e.match(ec))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nc(a){if(!a)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(a<=e)throw new Error("JWT has expired")}function ac(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oc=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pt(a){if(!oc.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tn(){const a={};return new Proxy(a,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const n=t.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ra(a){return JSON.parse(JSON.stringify(a))}var rc=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t};const Ye=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),sc=[502,503,504];async function Ia(a){var e;if(!Vi(a))throw new Kn(Ye(a),0);if(sc.includes(a.status))throw new Kn(Ye(a),a.status);let t;try{t=await a.json()}catch(r){throw new Qe(Ye(r),r)}let n;const o=tc(a);if(o&&o.getTime()>=Qo["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Ta(Ye(t),a.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ue}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0))throw new Ta(Ye(t),a.status,t.weak_password.reasons);throw new ji(Ye(t),a.status||500,n)}const ic=(a,e,t,n)=>{const o={method:a,headers:(e==null?void 0:e.headers)||{}};return a==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(n),Object.assign(Object.assign({},o),t))};async function D(a,e,t,n){var o;const r=Object.assign({},n==null?void 0:n.headers);r[Gn]||(r[Gn]=Qo["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const s=(o=n==null?void 0:n.query)!==null&&o!==void 0?o:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const i=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await cc(a,e,t+i,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function cc(a,e,t,n,o,r){const s=ic(e,n,o,r);let i;try{i=await a(t,Object.assign({},s))}catch(c){throw console.error(c),new Kn(Ye(c),0)}if(i.ok||await Ia(i),n!=null&&n.noResolveJson)return i;try{return await i.json()}catch(c){await Ia(c)}}function _e(a){var e;let t=null;uc(a)&&(t=Object.assign({},a),a.expires_at||(t.expires_at=qi(a.expires_in)));const n=(e=a.user)!==null&&e!==void 0?e:a;return{data:{session:t,user:n},error:null}}function ja(a){const e=_e(a);return!e.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=a.weak_password),e}function ze(a){var e;return{data:{user:(e=a.user)!==null&&e!==void 0?e:a},error:null}}function lc(a){return{data:a,error:null}}function dc(a){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:r}=a,s=rc(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),i={action_link:e,email_otp:t,hashed_token:n,redirect_to:o,verification_type:r},c=Object.assign({},s);return{data:{properties:i,user:c},error:null}}function Da(a){return a}function uc(a){return a.access_token&&a.refresh_token&&a.expires_in}const On=["global","local","others"];var pc=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t};class hc{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=nr(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=On[0]){if(On.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${On.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ze})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=pc(e,["options"]),o=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(o.new_email=n==null?void 0:n.newEmail,delete o.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dc,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(R(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ze})}catch(t){if(R(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,o,r,s,i,c;try{const l={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(r=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&r!==void 0?r:""},xform:Da});if(d.error)throw d.error;const p=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,u=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);l[`${b}Page`]=y}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},p),l),error:null}}catch(l){if(R(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){pt(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ze})}catch(t){if(R(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){pt(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ze})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){pt(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ze})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){pt(e.userId);try{const{data:t,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:n}}catch(t){if(R(t))return{data:null,error:t};throw t}}async _deleteFactor(e){pt(e.userId),pt(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(R(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,o,r,s,i,c;try{const l={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(r=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&r!==void 0?r:""},xform:Da});if(d.error)throw d.error;const p=await d.json(),m=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,u=(c=(i=d.headers.get("link"))===null||i===void 0?void 0:i.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(x=>{const y=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(x.split(";")[1].split("=")[1]);l[`${b}Page`]=y}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},p),l),error:null}}catch(l){if(R(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(R(t))return{data:null,error:t};throw t}}}function Ba(a={}){return{getItem:e=>a[e]||null,setItem:(e,t)=>{a[e]=t},removeItem:e=>{delete a[e]}}}const ht={debug:!!(globalThis&&tr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ar extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mc extends ar{}async function fc(a,e,t){ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ht.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async o=>{if(o){ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,o.name);try{return await t()}finally{ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,o.name)}}else{if(e===0)throw ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new mc(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(ht.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function gc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function or(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function xc(a){return parseInt(a,16)}function yc(a){const e=new TextEncoder().encode(a);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function bc(a){var e;const{chainId:t,domain:n,expirationTime:o,issuedAt:r=new Date,nonce:s,notBefore:i,requestId:c,resources:l,scheme:d,uri:p,version:m}=a;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=a.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const u=or(a.address),x=d?`${d}://${n}`:n,y=a.statement?`${a.statement}
`:"",b=`${x} wants you to sign in with your Ethereum account:
${u}

${y}`;let E=`URI: ${p}
Version: ${m}
Chain ID: ${t}${s?`
Nonce: ${s}`:""}
Issued At: ${r.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),i&&(E+=`
Not Before: ${i.toISOString()}`),c&&(E+=`
Request ID: ${c}`),l){let f=`
Resources:`;for(const g of l){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);f+=`
- ${g}`}E+=f}return`${b}
${E}`}class ne extends Error{constructor({message:e,code:t,cause:n,name:o}){var r;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(r=o??(n instanceof Error?n.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=t}}class rn extends ne{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function vc({error:a,options:e}){var t,n,o;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((t=r.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(e.mediation==="conditional"&&((n=r.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((o=r.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ne({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return r.pubKeyCredParams.filter(i=>i.type==="public-key").length===0?new ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const s=window.location.hostname;if(sr(s)){if(r.rp.id!==s)return new ne({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function wc({error:a,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ne({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const n=window.location.hostname;if(sr(n)){if(t.rpId!==n)return new ne({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}var rr=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(a);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(a,n[o])&&(t[n[o]]=a[n[o]]);return t};class Ac{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _c=new Ac;function Sc(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:e,user:t,excludeCredentials:n}=a,o=rr(a,["challenge","user","excludeCredentials"]),r=wt(e).buffer,s=Object.assign(Object.assign({},t),{id:wt(t.id).buffer}),i=Object.assign(Object.assign({},o),{challenge:r,user:s});if(n&&n.length>0){i.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const l=n[c];i.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:wt(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Ec(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:e,allowCredentials:t}=a,n=rr(a,["challenge","allowCredentials"]),o=wt(e).buffer,r=Object.assign(Object.assign({},n),{challenge:o});if(t&&t.length>0){r.allowCredentials=new Array(t.length);for(let s=0;s<t.length;s++){const i=t[s];r.allowCredentials[s]=Object.assign(Object.assign({},i),{id:wt(i.id).buffer,type:i.type||"public-key",transports:i.transports})}}return r}function kc(a){var e;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const t=a;return{id:a.id,rawId:a.id,response:{attestationObject:tt(new Uint8Array(a.response.attestationObject)),clientDataJSON:tt(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lc(a){var e;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const t=a,n=a.getClientExtensionResults(),o=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:tt(new Uint8Array(o.authenticatorData)),clientDataJSON:tt(new Uint8Array(o.clientDataJSON)),signature:tt(new Uint8Array(o.signature)),userHandle:o.userHandle?tt(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sr(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function $a(){var a,e;return!!(fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Cc(a){try{const e=await navigator.credentials.create(a);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rn("Browser returned unexpected credential type",e)}:{data:null,error:new rn("Empty credential response",e)}}catch(e){return{data:null,error:vc({error:e,options:a})}}}async function Tc(a){try{const e=await navigator.credentials.get(a);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rn("Browser returned unexpected credential type",e)}:{data:null,error:new rn("Empty credential response",e)}}catch(e){return{data:null,error:wc({error:e,options:a})}}}const Oc={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Pc={userVerification:"preferred",hints:["security-key"]};function sn(...a){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),n={};for(const o of a)if(o)for(const r in o){const s=o[r];if(s!==void 0)if(Array.isArray(s))n[r]=s;else if(t(s))n[r]=s;else if(e(s)){const i=n[r];e(i)?n[r]=sn(i,s):n[r]=sn(s)}else n[r]=s}return n}function Nc(a,e){return sn(Oc,a,e||{})}function Rc(a,e){return sn(Pc,a,e||{})}class Ic{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:o},r){try{const{data:s,error:i}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!s)return{data:null,error:i};const c=o??_c.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:l}=s.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${n}`),l.displayName||(l.displayName=l.name)}switch(s.webauthn.type){case"create":{const l=Nc(s.webauthn.credential_options.publicKey,r==null?void 0:r.create),{data:d,error:p}=await Cc({publicKey:l,signal:c});return d?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const l=Rc(s.webauthn.credential_options.publicKey,r==null?void 0:r.request),{data:d,error:p}=await Tc(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:l,signal:c}));return d?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(s){return R(s)?{data:null,error:s}:{data:null,error:new Qe("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o}},r){if(!t)return{data:null,error:new Ft("rpId is required for WebAuthn authentication")};try{if(!$a())return{data:null,error:new Qe("Browser does not support WebAuthn",null)};const{data:s,error:i}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:o},{request:r});if(!s)return{data:null,error:i};const{webauthn:c}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:c.type,rpId:t,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return R(s)?{data:null,error:s}:{data:null,error:new Qe("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:o},r){if(!t)return{data:null,error:new Ft("rpId is required for WebAuthn registration")};try{if(!$a())return{data:null,error:new Qe("Browser does not support WebAuthn",null)};const{data:s,error:i}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:i};const{data:c,error:l}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:o},{create:r});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:t,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(s){return R(s)?{data:null,error:s}:{data:null,error:new Qe("Unexpected error in register",s)}}}}gc();const jc={url:Oi,storageKey:Pi,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ni,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fa(a,e,t){return await t()}const mt={};class Mt{get jwks(){var e,t;return(t=(e=mt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){mt[this.storageKey]=Object.assign(Object.assign({},mt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=mt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mt[this.storageKey]=Object.assign(Object.assign({},mt[this.storageKey]),{cachedAt:e})}constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mt.nextInstanceID,Mt.nextInstanceID+=1,this.instanceID>0&&fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},jc),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new hc({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=nr(o.fetch),this.lock=o.lock||Fa,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fe()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=fc:this.lock=Fa,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ic(this)},this.persistSession?(o.storage?this.storage=o.storage:tr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ba(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ba(this.memoryStorage)),fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Ki(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),fe()&&this.detectSessionInUrl&&n!=="none"){const{data:o,error:r}=await this._getSessionFromURL(t,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),$i(r)){const c=(e=r.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:s,redirectType:i}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return R(t)?{error:t}:{error:new Qe("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,o;try{const r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:_e}),{data:s,error:i}=r;if(i||!s)return{data:{user:null,session:null},error:i};const c=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var t,n,o;try{let r;if("email"in e){const{email:d,password:p,options:m}=e;let u=null,x=null;this.flowType==="pkce"&&([u,x]=await ut(this.storage,this.storageKey)),r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:p,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:u,code_challenge_method:x},xform:_e})}else if("phone"in e){const{phone:d,password:p,options:m}=e;r=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_e})}else throw new Xt("You must provide either an email or phone number and a password");const{data:s,error:i}=r;if(i||!s)return{data:{user:null,session:null},error:i};const c=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:s,options:i}=e;t=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ja})}else if("phone"in e){const{phone:r,password:s,options:i}=e;t=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ja})}else throw new Xt("You must provide either an email or phone number and a password");const{data:n,error:o}=t;return o?{data:{user:null,session:null},error:o}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dt}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:o})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,o,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,n,o,r,s,i,c,l,d,p,m;let u,x;if("message"in e)u=e.message,x=e.signature;else{const{chain:y,wallet:b,statement:E,options:f}=e;let g;if(fe())if(typeof b=="object")g=b;else{const S=window;if("ethereum"in S&&typeof S.ethereum=="object"&&"request"in S.ethereum&&typeof S.ethereum.request=="function")g=S.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const w=new URL((t=f==null?void 0:f.url)!==null&&t!==void 0?t:window.location.href),_=await g.request({method:"eth_requestAccounts"}).then(S=>S).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const v=or(_[0]);let A=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!A){const S=await g.request({method:"eth_chainId"});A=xc(S)}const k={domain:w.host,address:v,statement:E,uri:w.href,version:"1",chainId:A,nonce:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(r=f==null?void 0:f.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.expirationTime,notBefore:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};u=bc(k),x=await g.request({method:"personal_sign",params:[yc(u),v]})}try{const{data:y,error:b}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:u,signature:x},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:_e});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new dt}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(R(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var t,n,o,r,s,i,c,l,d,p,m,u;let x,y;if("message"in e)x=e.message,y=e.signature;else{const{chain:b,wallet:E,statement:f,options:g}=e;let w;if(fe())if(typeof E=="object")w=E;else{const v=window;if("solana"in v&&typeof v.solana=="object"&&("signIn"in v.solana&&typeof v.solana.signIn=="function"||"signMessage"in v.solana&&typeof v.solana.signMessage=="function"))w=v.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=E}const _=new URL((t=g==null?void 0:g.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in w&&w.signIn){const v=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let A;if(Array.isArray(v)&&v[0]&&typeof v[0]=="object")A=v[0];else if(v&&typeof v=="object"&&"signedMessage"in v&&"signature"in v)A=v;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)x=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),y=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${_.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(o=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((r=g==null?void 0:g.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((p=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...g.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const v=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!v||!(v instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=v}}try{const{data:b,error:E}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:tt(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:_e});if(E)throw E;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new dt}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:E})}catch(b){if(R(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const t=await Xe(this.storage,`${this.storageKey}-code-verifier`),[n,o]=(t??"").split("/");try{const{data:r,error:s}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_e});if(await $e(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new dt}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:o??null}),error:s})}catch(r){if(R(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:t,provider:n,token:o,access_token:r,nonce:s}=e,i=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:o,access_token:r,nonce:s,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:_e}),{data:c,error:l}=i;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new dt}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,o,r,s;try{if("email"in e){const{email:i,options:c}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await ut(this.storage,this.storageKey));const{error:p}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:i,data:(t=c==null?void 0:c.data)!==null&&t!==void 0?t:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:i,options:c}=e,{data:l,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:i,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Xt("You must provide either an email or phone number.")}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,n;try{let o,r;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,r=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:i}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:o,xform:_e});if(i)throw i;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,l=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(o){if(R(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,n,o;try{let r=null,s=null;return this.flowType==="pkce"&&([r,s]=await ut(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:s}),headers:this.headers,xform:lc})}catch(r){if(R(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ue;const{error:o}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:o,options:r}=e,{error:s}=await D(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in e){const{phone:n,type:o,options:r}=e,{data:s,error:i}=await D(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:i}}throw new Xt("You must provide either an email or phone number and a type")}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Xe(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<kn:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const s=await Xe(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=Tn()}if(this.storage.isServer&&e.user){let s=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,d)=>(!s&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,d))})}return{data:{session:e},error:null}}const{data:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ze}):await this._useSession(async t=>{var n,o,r;const{data:s,error:i}=t;if(i)throw i;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ue}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:void 0,xform:ze})})}catch(t){if(R(t))return Bi(t)&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:o,error:r}=n;if(r)throw r;if(!o.session)throw new Ue;const s=o.session;let i=null,c=null;this.flowType==="pkce"&&e.email!=null&&([i,c]=await ut(this.storage,this.storageKey));const{data:l,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:c}),jwt:s.access_token,xform:ze});if(d)throw d;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ue;const t=Date.now()/1e3;let n=t,o=!0,r=null;const{payload:s}=Cn(e.access_token);if(s.exp&&(n=s.exp,o=n<=t),o){const{data:i,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!i)return{data:{user:null,session:null},error:null};r=i}else{const{data:i,error:c}=await this._getUser(e.access_token);if(c)throw c;r={access_token:e.access_token,refresh_token:e.refresh_token,user:i.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(t){if(R(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:s,error:i}=t;if(i)throw i;e=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ue;const{data:o,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!fe())throw new Yt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ca("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yt("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ca("No code detected.");const{data:f,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:o,access_token:r,refresh_token:s,expires_in:i,expires_at:c,token_type:l}=e;if(!r||!i||!s||!l)throw new Yt("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(i);let m=d+p;c&&(m=parseInt(c));const u=m-d;u*1e3<=bt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${u}s, should have been closer to ${p}s`);const x=m-p;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:y,error:b}=await this._getUser(r);if(b)throw b;const E={provider_token:n,provider_refresh_token:o,access_token:r,expires_in:p,expires_at:m,refresh_token:s,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Xe(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:o,error:r}=t;if(r)return{error:r};const s=(n=o.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:i}=await this.admin.signOut(s,e);if(i&&!(Di(i)&&(i.status===404||i.status===401||i.status===403)))return{error:i}}return e!=="others"&&(await this._removeSession(),await $e(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=Gi(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,o;try{const{data:{session:r},error:s}=t;if(s)throw s;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,t={}){let n=null,o=null;this.flowType==="pkce"&&([n,o]=await ut(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(R(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(R(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:o}=await this._useSession(async r=>{var s,i,c,l,d;const{data:p,error:m}=r;if(m)throw m;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",u,{headers:this.headers,jwt:(d=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(o)throw o;return fe()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:o,data:{session:r}}=t;if(o)throw o;const{options:s,provider:i,token:c,access_token:l,nonce:d}=e,p=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=r==null?void 0:r.access_token)!==null&&n!==void 0?n:void 0,body:{provider:i,id_token:c,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_e}),{data:m,error:u}=p;return u?{data:{user:null,session:null},error:u}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new dt}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:u})}catch(o){if(R(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,o;const{data:r,error:s}=t;if(s)throw s;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await Ji(async o=>(o>0&&await Wi(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_e})),(o,r)=>{const s=200*Math.pow(2,o);return r&&Ln(r)&&Date.now()+s-n<bt})}catch(n){if(this._debug(t,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),fe()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const o=await Xe(this.storage,this.storageKey);if(o&&this.userStorage){let s=await Xe(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await vt(this.userStorage,this.storageKey+"-user",s)),o.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:Tn()}else if(o&&!o.user&&!o.user){const s=await Xe(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(o.user=s.user,await $e(this.storage,this.storageKey+"-user"),await vt(this.storage,this.storageKey,o)):o.user=Tn()}if(this._debug(n,"session from storage",o),!this._isValidSession(o)){this._debug(n,"session is not valid"),o!==null&&await this._removeSession();return}const r=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kn;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${kn}s`),r){if(this.autoRefreshToken&&o.refresh_token){const{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),Ln(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:i}=await this._getUser(o.access_token);!i&&(s!=null&&s.user)?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(n,"error",o),console.error(o);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ue;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new xn;const{data:r,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!r.session)throw new Ue;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const i={data:r.session,error:null};return this.refreshingDeferred.resolve(i),i}catch(r){if(this._debug(o,"error",r),R(r)){const s={data:null,error:r};return Ln(r)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,n=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],s=Array.from(this.stateChangeEmitters.values()).map(async i=>{try{await i.callback(e,t)}catch(c){r.push(c)}});if(await Promise.all(s),r.length>0){for(let i=0;i<r.length;i+=1)console.error(r[i]);throw r[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await vt(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const r=Ra(o);await vt(this.storage,this.storageKey,r)}else{const o=Ra(t);await vt(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await $e(this.storage,this.storageKey),await $e(this.storage,this.storageKey+"-code-verifier"),await $e(this.storage,this.storageKey+"-user"),this.userStorage&&await $e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),bt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((n.expires_at*1e3-e)/bt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${bt}ms, refresh threshold is ${qn} ticks`),o<=qn&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ar)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const o=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&o.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&o.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,s]=await ut(this.storage,this.storageKey),i=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(i.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);o.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&o.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;return r?{data:null,error:r}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,o;const{data:r,error:s}=t;if(s)return{data:null,error:s};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:l}=await D(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&c.type==="totp"&&(!((o=c==null?void 0:c.totp)===null||o===void 0)&&o.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(t){if(R(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;if(r)return{data:null,error:r};const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?kc(e.webauthn.credential_response):Lc(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:c}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(t){if(R(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:o,error:r}=t;if(r)return{data:null,error:r};const s=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:i}=s;if(i.type!=="webauthn")return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Sc(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Ec(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(R(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const o={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(r),r.status==="verified"&&o[r.factor_type].push(r);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:o},error:r}=e;if(r)return{data:null,error:r};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Cn(o.access_token);let i=null;s.aal&&(i=s.aal);let c=i;((n=(t=o.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:i,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(i=>i.kid===e);if(n)return n;const o=Date.now();if(n=this.jwks.keys.find(i=>i.kid===e),n&&this.jwks_cached_at+Ii>o)return n;const{data:r,error:s}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=o,n=r.keys.find(i=>i.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){const{data:u,error:x}=await this.getSession();if(x||!u.session)return{data:null,error:x};n=u.session.access_token}const{header:o,payload:r,signature:s,raw:{header:i,payload:c}}=Cn(n);t!=null&&t.allowExpired||nc(r.exp);const l=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!l){const{error:u}=await this.getUser(n);if(u)throw u;return{data:{claims:r,header:o,signature:s},error:null}}const d=ac(o.alg),p=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,s,Hi(`${i}.${c}`)))throw new Vn("Invalid JWT signature");return{data:{claims:r,header:o,signature:s},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Mt.nextInstanceID=0;const Dc=Mt;class Bc extends Dc{constructor(e){super(e)}}var $c=function(a,e,t,n){function o(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function i(d){try{l(n.next(d))}catch(p){s(p)}}function c(d){try{l(n.throw(d))}catch(p){s(p)}}function l(d){d.done?r(d.value):o(d.value).then(i,c)}l((n=n.apply(a,e||[])).next())})};class Fc{constructor(e,t,n){var o,r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Ti(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const c=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:bi,realtime:wi,auth:Object.assign(Object.assign({},vi),{storageKey:c}),global:yi},d=Ci(n??{},l);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Ei(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new js(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new fi(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return $c(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:r,storageKey:s,flowType:i,lock:c,debug:l},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bc({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:o,userStorage:r,flowType:i,lock:c,debug:l,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(u=>u.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zs(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mc=(a,e,t)=>new Fc(a,e,t);function Uc(){if(typeof window<"u"||typeof process>"u")return!1;const a=process.version;if(a==null)return!1;const e=a.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Uc()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zc="https://nineezxjxfzwnsdtgjcu.supabase.co",Hc="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pbmVlenhqeGZ6d25zZHRnamN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk4MjQ0OTgsImV4cCI6MjA3NTQwMDQ5OH0.Pv7q5NzDevRcL8QWpN5yf_Q-_J1XhYUEFFso3pmA_l8",Le=Mc(zc,Hc,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce"},global:{headers:{"X-Client-Info":"leoai-social-platform"}}}),et=class et{constructor(){We(this,"authListeners",[]);We(this,"currentUser",null);We(this,"currentProfile",null);We(this,"initialized",!1);this.initialize()}static getInstance(){return et.instance||(et.instance=new et),et.instance}async initialize(){try{const{data:{session:e},error:t}=await Le.auth.getSession();t?console.error("Error getting initial session:",t):e!=null&&e.user&&(this.currentUser=e.user,await this.loadUserProfile(e.user.id)),Le.auth.onAuthStateChange(async(n,o)=>{var r;console.log("Auth state changed:",n,(r=o==null?void 0:o.user)==null?void 0:r.email),this.currentUser=(o==null?void 0:o.user)||null,this.currentUser?await this.loadUserProfile(this.currentUser.id):this.currentProfile=null,this.authListeners.forEach(s=>s(this.currentUser))}),this.initialized=!0}catch(e){console.error("Auth service initialization failed:",e)}}async waitForInitialization(){for(;!this.initialized;)await new Promise(e=>setTimeout(e,100))}async loadUserProfile(e){try{const{data:t,error:n}=await Le.from("profiles").select("*").eq("user_id",e).maybeSingle();if(n){console.error("Error loading profile:",n);return}this.currentProfile=t}catch(t){console.error("Failed to load user profile:",t)}}getCurrentUser(){return this.currentUser}getCurrentProfile(){return this.currentProfile}async signIn(e,t){try{const{data:n,error:o}=await Le.auth.signInWithPassword({email:e,password:t});if(o)throw o;return n.user&&await this.ensureProfileExists(n.user),{data:n,error:null}}catch(n){return console.error("Sign in failed:",n),{data:null,error:n}}}async signUp(e,t,n){try{const{data:o,error:r}=await Le.auth.signUp({email:e,password:t,options:{data:n||{}}});if(r)throw r;return o.user&&await this.ensureProfileExists(o.user),{data:o,error:null}}catch(o){return console.error("Sign up failed:",o),{data:null,error:o}}}async signOut(){try{const{error:e}=await Le.auth.signOut();if(e)throw e;return this.currentUser=null,this.currentProfile=null,{error:null}}catch(e){return console.error("Sign out failed:",e),{error:e}}}async ensureProfileExists(e){var t,n,o,r;try{const{data:s}=await Le.from("profiles").select("id").eq("user_id",e.id).maybeSingle();if(!s){const i={user_id:e.id,email:e.email,full_name:((t=e.user_metadata)==null?void 0:t.full_name)||null,username:((n=e.user_metadata)==null?void 0:n.username)||((o=e.email)==null?void 0:o.split("@")[0])||null,avatar_url:((r=e.user_metadata)==null?void 0:r.avatar_url)||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:c}=await Le.from("profiles").insert(i);c?console.error("Failed to create profile:",c):(console.log("Profile created successfully for user:",e.email),await this.loadUserProfile(e.id))}}catch(s){console.error("Error ensuring profile exists:",s)}}async updateProfile(e){if(!this.currentUser)throw new Error("No user logged in");try{const{data:t,error:n}=await Le.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("user_id",this.currentUser.id).select().single();if(n)throw n;return this.currentProfile=t,{data:t,error:null}}catch(t){return console.error("Profile update failed:",t),{data:null,error:t}}}addAuthListener(e){return this.authListeners.push(e),e(this.currentUser),()=>{const t=this.authListeners.indexOf(e);t>-1&&this.authListeners.splice(t,1)}}isAuthenticated(){return this.currentUser!==null}};We(et,"instance");let Wn=et;const ke=Wn.getInstance();var qc=a=>{switch(a){case"success":return Vc;case"info":return Jc;case"warning":return Wc;case"error":return Xc;default:return null}},Gc=Array(12).fill(0),Kc=({visible:a,className:e})=>T.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":a},T.createElement("div",{className:"sonner-spinner"},Gc.map((t,n)=>T.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Vc=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Wc=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jc=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Xc=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},T.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Yc=T.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},T.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),T.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Zc=()=>{let[a,e]=T.useState(document.hidden);return T.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),a},Jn=1,Qc=class{constructor(){this.subscribe=a=>(this.subscribers.push(a),()=>{let e=this.subscribers.indexOf(a);this.subscribers.splice(e,1)}),this.publish=a=>{this.subscribers.forEach(e=>e(a))},this.addToast=a=>{this.publish(a),this.toasts=[...this.toasts,a]},this.create=a=>{var e;let{message:t,...n}=a,o=typeof(a==null?void 0:a.id)=="number"||((e=a.id)==null?void 0:e.length)>0?a.id:Jn++,r=this.toasts.find(i=>i.id===o),s=a.dismissible===void 0?!0:a.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),r?this.toasts=this.toasts.map(i=>i.id===o?(this.publish({...i,...a,id:o,title:t}),{...i,...a,id:o,dismissible:s,title:t}):i):this.addToast({title:t,...n,dismissible:s,id:o}),o},this.dismiss=a=>(this.dismissedToasts.add(a),a||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:a,dismiss:!0})),a),this.message=(a,e)=>this.create({...e,message:a}),this.error=(a,e)=>this.create({...e,message:a,type:"error"}),this.success=(a,e)=>this.create({...e,type:"success",message:a}),this.info=(a,e)=>this.create({...e,type:"info",message:a}),this.warning=(a,e)=>this.create({...e,type:"warning",message:a}),this.loading=(a,e)=>this.create({...e,type:"loading",message:a}),this.promise=(a,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:a,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=a instanceof Promise?a:a(),o=t!==void 0,r,s=n.then(async c=>{if(r=["resolve",c],T.isValidElement(c))o=!1,this.create({id:t,type:"default",message:c});else if(tl(c)&&!c.ok){o=!1;let l=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:t,type:"error",message:l,description:d})}else if(e.success!==void 0){o=!1;let l=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"success",message:l,description:d})}}).catch(async c=>{if(r=["reject",c],e.error!==void 0){o=!1;let l=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:t,type:"error",message:l,description:d})}}).finally(()=>{var c;o&&(this.dismiss(t),t=void 0),(c=e.finally)==null||c.call(e)}),i=()=>new Promise((c,l)=>s.then(()=>r[0]==="reject"?l(r[1]):c(r[1])).catch(l));return typeof t!="string"&&typeof t!="number"?{unwrap:i}:Object.assign(t,{unwrap:i})},this.custom=(a,e)=>{let t=(e==null?void 0:e.id)||Jn++;return this.create({jsx:a(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(a=>!this.dismissedToasts.has(a.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ue=new Qc,el=(a,e)=>{let t=(e==null?void 0:e.id)||Jn++;return ue.addToast({title:a,...e,id:t}),t},tl=a=>a&&typeof a=="object"&&"ok"in a&&typeof a.ok=="boolean"&&"status"in a&&typeof a.status=="number",nl=el,al=()=>ue.toasts,ol=()=>ue.getActiveToasts(),me=Object.assign(nl,{success:ue.success,info:ue.info,warning:ue.warning,error:ue.error,custom:ue.custom,message:ue.message,promise:ue.promise,dismiss:ue.dismiss,loading:ue.loading},{getHistory:al,getToasts:ol});function rl(a,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a))}rl(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zt(a){return a.label!==void 0}var sl=3,il="32px",cl="16px",Ma=4e3,ll=356,dl=14,ul=20,pl=200;function Ae(...a){return a.filter(Boolean).join(" ")}function hl(a){let[e,t]=a.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}var ml=a=>{var e,t,n,o,r,s,i,c,l,d,p;let{invert:m,toast:u,unstyled:x,interacting:y,setHeights:b,visibleToasts:E,heights:f,index:g,toasts:w,expanded:_,removeToast:v,defaultRichColors:A,closeButton:k,style:S,cancelButtonStyle:O,actionButtonStyle:N,className:C="",descriptionClassName:V="",duration:q,position:le,gap:W,loadingIcon:K,expandByDefault:M,classNames:P,icons:G,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:I}=a,[H,U]=T.useState(null),[te,xe]=T.useState(null),[X,Ge]=T.useState(!1),[Re,Ie]=T.useState(!1),[Ee,Ct]=T.useState(!1),[rt,$r]=T.useState(!1),[Fr,ha]=T.useState(!1),[Mr,vn]=T.useState(0),[Ur,ma]=T.useState(0),Tt=T.useRef(u.duration||q||Ma),fa=T.useRef(null),Ke=T.useRef(null),zr=g===0,Hr=g+1<=E,ge=u.type,st=u.dismissible!==!1,qr=u.className||"",Gr=u.descriptionClassName||"",Wt=T.useMemo(()=>f.findIndex(B=>B.toastId===u.id)||0,[f,u.id]),Kr=T.useMemo(()=>{var B;return(B=u.closeButton)!=null?B:k},[u.closeButton,k]),ga=T.useMemo(()=>u.duration||q||Ma,[u.duration,q]),wn=T.useRef(0),it=T.useRef(0),xa=T.useRef(0),ct=T.useRef(null),[Vr,Wr]=le.split("-"),ya=T.useMemo(()=>f.reduce((B,J,ee)=>ee>=Wt?B:B+J.height,0),[f,Wt]),ba=Zc(),Jr=u.invert||m,An=ge==="loading";it.current=T.useMemo(()=>Wt*W+ya,[Wt,ya]),T.useEffect(()=>{Tt.current=ga},[ga]),T.useEffect(()=>{Ge(!0)},[]),T.useEffect(()=>{let B=Ke.current;if(B){let J=B.getBoundingClientRect().height;return ma(J),b(ee=>[{toastId:u.id,height:J,position:u.position},...ee]),()=>b(ee=>ee.filter(ye=>ye.toastId!==u.id))}},[b,u.id]),T.useLayoutEffect(()=>{if(!X)return;let B=Ke.current,J=B.style.height;B.style.height="auto";let ee=B.getBoundingClientRect().height;B.style.height=J,ma(ee),b(ye=>ye.find(be=>be.toastId===u.id)?ye.map(be=>be.toastId===u.id?{...be,height:ee}:be):[{toastId:u.id,height:ee,position:u.position},...ye])},[X,u.title,u.description,b,u.id]);let je=T.useCallback(()=>{Ie(!0),vn(it.current),b(B=>B.filter(J=>J.toastId!==u.id)),setTimeout(()=>{v(u)},pl)},[u,v,b,it]);T.useEffect(()=>{if(u.promise&&ge==="loading"||u.duration===1/0||u.type==="loading")return;let B;return _||y||I&&ba?(()=>{if(xa.current<wn.current){let J=new Date().getTime()-wn.current;Tt.current=Tt.current-J}xa.current=new Date().getTime()})():Tt.current!==1/0&&(wn.current=new Date().getTime(),B=setTimeout(()=>{var J;(J=u.onAutoClose)==null||J.call(u,u),je()},Tt.current)),()=>clearTimeout(B)},[_,y,u,ge,I,ba,je]),T.useEffect(()=>{u.delete&&je()},[je,u.delete]);function Xr(){var B,J,ee;return G!=null&&G.loading?T.createElement("div",{className:Ae(P==null?void 0:P.loader,(B=u==null?void 0:u.classNames)==null?void 0:B.loader,"sonner-loader"),"data-visible":ge==="loading"},G.loading):K?T.createElement("div",{className:Ae(P==null?void 0:P.loader,(J=u==null?void 0:u.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":ge==="loading"},K):T.createElement(Kc,{className:Ae(P==null?void 0:P.loader,(ee=u==null?void 0:u.classNames)==null?void 0:ee.loader),visible:ge==="loading"})}return T.createElement("li",{tabIndex:0,ref:Ke,className:Ae(C,qr,P==null?void 0:P.toast,(e=u==null?void 0:u.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[ge],(t=u==null?void 0:u.classNames)==null?void 0:t[ge]),"data-sonner-toast":"","data-rich-colors":(n=u.richColors)!=null?n:A,"data-styled":!(u.jsx||u.unstyled||x),"data-mounted":X,"data-promise":!!u.promise,"data-swiped":Fr,"data-removed":Re,"data-visible":Hr,"data-y-position":Vr,"data-x-position":Wr,"data-index":g,"data-front":zr,"data-swiping":Ee,"data-dismissible":st,"data-type":ge,"data-invert":Jr,"data-swipe-out":rt,"data-swipe-direction":te,"data-expanded":!!(_||M&&X),style:{"--index":g,"--toasts-before":g,"--z-index":w.length-g,"--offset":`${Re?Mr:it.current}px`,"--initial-height":M?"auto":`${Ur}px`,...S,...u.style},onDragEnd:()=>{Ct(!1),U(null),ct.current=null},onPointerDown:B=>{An||!st||(fa.current=new Date,vn(it.current),B.target.setPointerCapture(B.pointerId),B.target.tagName!=="BUTTON"&&(Ct(!0),ct.current={x:B.clientX,y:B.clientY}))},onPointerUp:()=>{var B,J,ee,ye;if(rt||!st)return;ct.current=null;let be=Number(((B=Ke.current)==null?void 0:B.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),De=Number(((J=Ke.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ve=new Date().getTime()-((ee=fa.current)==null?void 0:ee.getTime()),ve=H==="x"?be:De,Be=Math.abs(ve)/Ve;if(Math.abs(ve)>=ul||Be>.11){vn(it.current),(ye=u.onDismiss)==null||ye.call(u,u),xe(H==="x"?be>0?"right":"left":De>0?"down":"up"),je(),$r(!0),ha(!1);return}Ct(!1),U(null)},onPointerMove:B=>{var J,ee,ye,be;if(!ct.current||!st||((J=window.getSelection())==null?void 0:J.toString().length)>0)return;let De=B.clientY-ct.current.y,Ve=B.clientX-ct.current.x,ve=(ee=a.swipeDirections)!=null?ee:hl(le);!H&&(Math.abs(Ve)>1||Math.abs(De)>1)&&U(Math.abs(Ve)>Math.abs(De)?"x":"y");let Be={x:0,y:0};H==="y"?(ve.includes("top")||ve.includes("bottom"))&&(ve.includes("top")&&De<0||ve.includes("bottom")&&De>0)&&(Be.y=De):H==="x"&&(ve.includes("left")||ve.includes("right"))&&(ve.includes("left")&&Ve<0||ve.includes("right")&&Ve>0)&&(Be.x=Ve),(Math.abs(Be.x)>0||Math.abs(Be.y)>0)&&ha(!0),(ye=Ke.current)==null||ye.style.setProperty("--swipe-amount-x",`${Be.x}px`),(be=Ke.current)==null||be.style.setProperty("--swipe-amount-y",`${Be.y}px`)}},Kr&&!u.jsx?T.createElement("button",{"aria-label":z,"data-disabled":An,"data-close-button":!0,onClick:An||!st?()=>{}:()=>{var B;je(),(B=u.onDismiss)==null||B.call(u,u)},className:Ae(P==null?void 0:P.closeButton,(o=u==null?void 0:u.classNames)==null?void 0:o.closeButton)},(r=G==null?void 0:G.close)!=null?r:Yc):null,u.jsx||L.isValidElement(u.title)?u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title:T.createElement(T.Fragment,null,ge||u.icon||u.promise?T.createElement("div",{"data-icon":"",className:Ae(P==null?void 0:P.icon,(s=u==null?void 0:u.classNames)==null?void 0:s.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||Xr():null,u.type!=="loading"?u.icon||(G==null?void 0:G[ge])||qc(ge):null):null,T.createElement("div",{"data-content":"",className:Ae(P==null?void 0:P.content,(i=u==null?void 0:u.classNames)==null?void 0:i.content)},T.createElement("div",{"data-title":"",className:Ae(P==null?void 0:P.title,(c=u==null?void 0:u.classNames)==null?void 0:c.title)},typeof u.title=="function"?u.title():u.title),u.description?T.createElement("div",{"data-description":"",className:Ae(V,Gr,P==null?void 0:P.description,(l=u==null?void 0:u.classNames)==null?void 0:l.description)},typeof u.description=="function"?u.description():u.description):null),L.isValidElement(u.cancel)?u.cancel:u.cancel&&Zt(u.cancel)?T.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||O,onClick:B=>{var J,ee;Zt(u.cancel)&&st&&((ee=(J=u.cancel).onClick)==null||ee.call(J,B),je())},className:Ae(P==null?void 0:P.cancelButton,(d=u==null?void 0:u.classNames)==null?void 0:d.cancelButton)},u.cancel.label):null,L.isValidElement(u.action)?u.action:u.action&&Zt(u.action)?T.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||N,onClick:B=>{var J,ee;Zt(u.action)&&((ee=(J=u.action).onClick)==null||ee.call(J,B),!B.defaultPrevented&&je())},className:Ae(P==null?void 0:P.actionButton,(p=u==null?void 0:u.classNames)==null?void 0:p.actionButton)},u.action.label):null))};function Ua(){if(typeof window>"u"||typeof document>"u")return"ltr";let a=document.documentElement.getAttribute("dir");return a==="auto"||!a?window.getComputedStyle(document.documentElement).direction:a}function fl(a,e){let t={};return[a,e].forEach((n,o)=>{let r=o===1,s=r?"--mobile-offset":"--offset",i=r?cl:il;function c(l){["top","right","bottom","left"].forEach(d=>{t[`${s}-${d}`]=typeof l=="number"?`${l}px`:l})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(l=>{n[l]===void 0?t[`${s}-${l}`]=i:t[`${s}-${l}`]=typeof n[l]=="number"?`${n[l]}px`:n[l]}):c(i)}),t}var gl=L.forwardRef(function(a,e){let{invert:t,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:r,closeButton:s,className:i,offset:c,mobileOffset:l,theme:d="light",richColors:p,duration:m,style:u,visibleToasts:x=sl,toastOptions:y,dir:b=Ua(),gap:E=dl,loadingIcon:f,icons:g,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:_}=a,[v,A]=T.useState([]),k=T.useMemo(()=>Array.from(new Set([n].concat(v.filter(I=>I.position).map(I=>I.position)))),[v,n]),[S,O]=T.useState([]),[N,C]=T.useState(!1),[V,q]=T.useState(!1),[le,W]=T.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=T.useRef(null),M=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=T.useRef(null),G=T.useRef(!1),z=T.useCallback(I=>{A(H=>{var U;return(U=H.find(te=>te.id===I.id))!=null&&U.delete||ue.dismiss(I.id),H.filter(({id:te})=>te!==I.id)})},[]);return T.useEffect(()=>ue.subscribe(I=>{if(I.dismiss){A(H=>H.map(U=>U.id===I.id?{...U,delete:!0}:U));return}setTimeout(()=>{rs.flushSync(()=>{A(H=>{let U=H.findIndex(te=>te.id===I.id);return U!==-1?[...H.slice(0,U),{...H[U],...I},...H.slice(U+1)]:[I,...H]})})})}),[]),T.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let I=window.matchMedia("(prefers-color-scheme: dark)");try{I.addEventListener("change",({matches:H})=>{W(H?"dark":"light")})}catch{I.addListener(({matches:U})=>{try{W(U?"dark":"light")}catch(te){console.error(te)}})}},[d]),T.useEffect(()=>{v.length<=1&&C(!1)},[v]),T.useEffect(()=>{let I=H=>{var U,te;o.every(xe=>H[xe]||H.code===xe)&&(C(!0),(U=K.current)==null||U.focus()),H.code==="Escape"&&(document.activeElement===K.current||(te=K.current)!=null&&te.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[o]),T.useEffect(()=>{if(K.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,G.current=!1)}},[K.current]),T.createElement("section",{ref:e,"aria-label":`${w} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((I,H)=>{var U;let[te,xe]=I.split("-");return v.length?T.createElement("ol",{key:I,dir:b==="auto"?Ua():b,tabIndex:-1,ref:K,className:i,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":te,"data-lifted":N&&v.length>1&&!r,"data-x-position":xe,style:{"--front-toast-height":`${((U=S[0])==null?void 0:U.height)||0}px`,"--width":`${ll}px`,"--gap":`${E}px`,...u,...fl(c,l)},onBlur:X=>{G.current&&!X.currentTarget.contains(X.relatedTarget)&&(G.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||G.current||(G.current=!0,P.current=X.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{V||C(!1)},onDragEnd:()=>C(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},v.filter(X=>!X.position&&H===0||X.position===I).map((X,Ge)=>{var Re,Ie;return T.createElement(ml,{key:X.id,icons:g,index:Ge,toast:X,defaultRichColors:p,duration:(Re=y==null?void 0:y.duration)!=null?Re:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:x,closeButton:(Ie=y==null?void 0:y.closeButton)!=null?Ie:s,interacting:V,position:I,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:z,toasts:v.filter(Ee=>Ee.position==X.position),heights:S.filter(Ee=>Ee.position==X.position),setHeights:O,expandByDefault:r,gap:E,loadingIcon:f,expanded:N,pauseWhenPageIsHidden:_,swipeDirections:a.swipeDirections})})):null}))});const ir=L.createContext(void 0),Kt=()=>{const a=L.useContext(ir);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},xl=({children:a})=>{const[e,t]=L.useState(null),[n,o]=L.useState(null),[r,s]=L.useState(!0);L.useEffect(()=>{let u=null;return(async()=>{try{await ke.waitForInitialization();const y=ke.getCurrentUser(),b=ke.getCurrentProfile();t(y),o(b),u=ke.addAuthListener(E=>{t(E),o(ke.getCurrentProfile())})}catch(y){console.error("Auth initialization failed:",y)}finally{s(!1)}})(),()=>{u&&u()}},[]);const m={user:e,profile:n,loading:r,isAuthenticated:!!e,signIn:async(u,x)=>{try{s(!0);const{data:y,error:b}=await ke.signIn(u,x);return b?(me.error(b.message||"Login failed"),{error:b}):y!=null&&y.user?(me.success("Successfully signed in!"),{error:null}):{error:new Error("Login failed")}}catch(y){return me.error(y.message||"Login failed"),{error:y}}finally{s(!1)}},signUp:async(u,x,y)=>{try{s(!0);const{data:b,error:E}=await ke.signUp(u,x,y);return E?(me.error(E.message||"Registration failed"),{error:E}):b!=null&&b.user?(b.user.email_confirmed_at?me.success("Account created successfully!"):me.success("Account created! Please check your email for verification."),{error:null}):{error:new Error("Registration failed")}}catch(b){return me.error(b.message||"Registration failed"),{error:b}}finally{s(!1)}},signOut:async()=>{try{s(!0),t(null),o(null),await ke.signOut(),localStorage.removeItem("leoai-language"),sessionStorage.clear(),localStorage.getItem("thirdweb_wallet_data")&&localStorage.removeItem("thirdweb_wallet_data"),me.success("Successfully signed out")}catch(u){console.error("Sign out error:",u),t(null),o(null),localStorage.removeItem("thirdweb_wallet_data"),me.error("Sign out completed with issues")}finally{s(!1)}},updateProfile:async u=>{try{const{data:x,error:y}=await ke.updateProfile(u);return y?(me.error(y.message||"Profile update failed"),{error:y}):x?(o(x),me.success("Profile updated successfully!"),{error:null}):{error:new Error("Profile update failed")}}catch(x){return me.error(x.message||"Profile update failed"),{error:x}}},refreshProfile:async()=>{if(e){const u=ke.getCurrentProfile();o(u)}}};return h.jsx(ir.Provider,{value:m,"data-matrix-id":"src/contexts/AuthContext.tsx:210:4","data-matrix-name":"AuthContext.Provider","data-component-path":"src/contexts/AuthContext.tsx","data-component-line":"210","data-component-file":"AuthContext.tsx","data-component-name":"AuthContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:a})},cr=L.createContext(void 0),lr=()=>{const a=L.useContext(cr);if(a===void 0)throw new Error("useAdmin must be used within an AdminProvider");return a},yl=({children:a})=>{const[e,t]=L.useState(!1),[n,o]=L.useState(!1),{isAuthenticated:r,user:s}=Kt(),i=()=>{if(!r||!s)return!1;const p=localStorage.getItem("leoai-admin-verified")==="true",m=localStorage.getItem("leoai-admin-session");if(!p||!m)return!1;const u=parseInt(m,10);return Date.now()-u<864e5?!0:(c(),!1)},c=()=>{localStorage.removeItem("leoai-admin-verified"),localStorage.removeItem("leoai-admin-session"),t(!1),o(!1)};L.useEffect(()=>{const p=i();t(p),o(p)},[r,s]),L.useEffect(()=>{const p=setInterval(()=>{const m=i();t(m),o(m)},6e4);return()=>clearInterval(p)},[]);const d={isAdmin:e,adminSessionValid:n,checkAdminStatus:i,revokeAdminAccess:c,adminFeatures:{canViewDebugInfo:e&&n,canManageUsers:e&&n,canAccessAnalytics:e&&n,canModifyContent:e&&n}};return h.jsx(cr.Provider,{value:d,"data-matrix-id":"src/contexts/AdminContext.tsx:107:4","data-matrix-name":"AdminContext.Provider","data-component-path":"src/contexts/AdminContext.tsx","data-component-line":"107","data-component-file":"AdminContext.tsx","data-component-name":"AdminContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:a})},dr=L.createContext(void 0);function za(){return typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function bl(){const e=new Date().getHours();return e>=19||e<7?"dark":"light"}function vl({children:a}){const[e,t]=L.useState(()=>typeof window>"u"?"auto":localStorage.getItem("leoai-theme")||"auto"),[n,o]=L.useState(()=>typeof window>"u"?"light":za());L.useEffect(()=>{const c=()=>{if(e==="auto"){const l=za(),d=bl();o(l||d)}else o(e)};if(c(),e==="auto"){const l=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>c();l.addEventListener("change",d);const p=setInterval(()=>{c()},6e4);return()=>{l.removeEventListener("change",d),clearInterval(p)}}},[e]),L.useEffect(()=>{const c=document.documentElement;c.classList.remove("light","dark"),c.classList.add(n),c.style.setProperty("--theme-transition","background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease");const l=document.querySelector('meta[name="theme-color"]');l&&l.setAttribute("content",n==="dark"?"#0f0f0f":"#ffffff"),document.body.style.backgroundColor=n==="dark"?"#0f0f0f":"#ffffff",document.body.style.color=n==="dark"?"#f5f5f5":"#0f0f0f",typeof window<"u"&&localStorage.setItem("leoai-theme",e)},[n,e]);const r=c=>{t(c),typeof window<"u"&&localStorage.setItem("leoai-theme",c)},i={theme:e,actualTheme:n,setTheme:r,toggleTheme:()=>{r(e==="light"?"dark":e==="dark"?"auto":"light")}};return h.jsx(dr.Provider,{value:i,"data-matrix-id":"src/contexts/ThemeContext.tsx:136:4","data-matrix-name":"ThemeContext.Provider","data-component-path":"src/contexts/ThemeContext.tsx","data-component-line":"136","data-component-file":"ThemeContext.tsx","data-component-name":"ThemeContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:a})}function ua(){const a=L.useContext(dr);if(a===void 0)throw new Error("useTheme must be used within a ThemeProvider");return a}const ur=L.createContext(void 0);function wl({children:a}){const[e,t]=L.useState("overseas"),[n,o]=L.useState("deepseek"),[r,s]=L.useState("dall-e"),[i,c]=L.useState(null),[l,d]=L.useState(!0),p=async()=>{d(!0);try{const{data:v,error:A}=await Le.functions.invoke("geo-ai-model-selection",{method:"GET"});if(A)throw new Error(`模型选择服务错误: ${A.message}`);console.log("获取到地理定位数据:",v);const k=v.data;t(k.region);const S=k.recommendedModels.chat;c(k.modelConfigs),localStorage.getItem("leoai-chat-model")||o(S),localStorage.getItem("leoai-image-model")||s(k.recommendedModels.image),localStorage.setItem("leoai-region",k.region),localStorage.setItem("leoai-recommended-model",S)}catch(v){console.error("获取基于地理位置的模型配置失败:",v),t("overseas"),o("deepseek"),s("dall-e"),c({chat:{available:[{id:"deepseek",name:"DeepSeek",enabled:!0,recommended:!0},{id:"openai",name:"OpenAI GPT-4o",enabled:!0,recommended:!1},{id:"qwen",name:"Qwen Turbo",enabled:!0,recommended:!1}]},image:{available:[{id:"dall-e",name:"DALL·E",enabled:!0,recommended:!0}]}})}finally{d(!1)}};L.useEffect(()=>{(async()=>{try{d(!0);const A=localStorage.getItem("leoai-chat-model"),k=localStorage.getItem("leoai-image-model"),S=localStorage.getItem("leoai-region"),O=localStorage.getItem("leoai-recommended-model");if(A)o(A);else if(O)o(O);else{const N=localStorage.getItem("i18nextLng")||"en",C=f(N);o(C),i||c({chat:{available:[{id:"deepseek",name:"DeepSeek",enabled:!0,recommended:!0},{id:"openai",name:"OpenAI GPT-4o",enabled:!0,recommended:!1},{id:"qwen",name:"Qwen Turbo",enabled:!0,recommended:!1}]},image:{available:[{id:"dall-e",name:"DALL·E",enabled:!0,recommended:!0}]}})}k&&s(k),S&&t(S),await p()}catch(A){console.error("初始化AI上下文失败:",A)}finally{d(!1)}})()},[]);const m=v=>{console.log(`切换模型为: ${v}`),o(v),localStorage.setItem("leoai-chat-model",v),window.dispatchEvent(new CustomEvent("model-changed",{detail:{model:v}}))},u=v=>{s(v),localStorage.setItem("leoai-image-model",v)},x=(v,A)=>{w(v,A)},y=v=>{if(!i)return;const A=i.chat.available.find(k=>k.id===v);if(A!=null&&A.avgResponseTime)return Math.round(A.avgResponseTime/1e3)},b=v=>{const A=y(v);return A===void 0?"⚙️":A<=10?"⚡":A<=20?"🜀":"🚀"},E=()=>i?[...i.chat.available].sort((A,k)=>{const S=A.avgResponseTime||Number.MAX_SAFE_INTEGER,O=k.avgResponseTime||Number.MAX_SAFE_INTEGER;return S-O}):[],f=v=>v.toLowerCase().startsWith("zh")||new Date().getTimezoneOffset()/-60===8?"qwen":"openai",g=()=>{const v=localStorage.getItem("leoai-chat-model-preference");if(v)return v;const A=localStorage.getItem("i18nextLng")||"en",k=f(A),O=E().find(C=>C.enabled),N=(O==null?void 0:O.id)||"deepseek";return k||N},w=(v,A)=>{i&&c(k=>{if(!k)return k;const S={...k,chat:{...k.chat,available:[...k.chat.available]}},O=S.chat.available.findIndex(N=>N.id===v);if(O!==-1){const N=S.chat.available[O],C=N.responseCount||0,V=N.avgResponseTime||0,q=C+1,le=A*1e3,W=Math.round((V*C+le)/q);S.chat.available[O]={...N,avgResponseTime:W,responseCount:q};const K=[...S.chat.available].sort((P,G)=>{const z=P.avgResponseTime||Number.MAX_SAFE_INTEGER,I=G.avgResponseTime||Number.MAX_SAFE_INTEGER;return z-I});if(K.length>0){const P=K[0].id;S.chat.available=S.chat.available.map(G=>({...G,recommended:G.id===P}))}localStorage.setItem(`leoai-model-${v}-avgTime`,W.toString()),localStorage.setItem(`leoai-model-${v}-count`,q.toString());const M=K[0];M&&M.id!==n&&localStorage.setItem("leoai-fastest-model",M.id)}return S})};L.useEffect(()=>{(()=>{if(i){const A={...i,chat:{...i.chat,available:[...i.chat.available]}};A.chat.available.forEach((k,S)=>{const O=localStorage.getItem(`leoai-model-${k.id}-avgTime`),N=localStorage.getItem(`leoai-model-${k.id}-count`);O&&N&&(A.chat.available[S]={...k,avgResponseTime:parseInt(O),responseCount:parseInt(N)})}),c(A)}})()},[i==null?void 0:i.chat.available.length]);const _={region:e,selectedChatModel:n,selectedImageModel:r,modelConfigs:i,isLoading:l,setSelectedChatModel:m,setSelectedImageModel:u,refreshGeoLocation:p,updateModelResponseTime:x,getModelResponseTime:y,getPerformanceIndicator:b,getSortedModels:E,getRecommendedModel:g,updateAverageResponseTime:w};return h.jsx(ur.Provider,{value:_,"data-matrix-id":"src/contexts/AIContext.tsx:402:4","data-matrix-name":"AIContext.Provider","data-component-path":"src/contexts/AIContext.tsx","data-component-line":"402","data-component-file":"AIContext.tsx","data-component-name":"AIContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:a})}function kp(){const a=L.useContext(ur);if(a===void 0)throw new Error("useAI must be used within an AIProvider");return a}const Al=(a,e,t,n)=>{var r,s,i,c;const o=[t,{code:e,...n||{}}];if((s=(r=a==null?void 0:a.services)==null?void 0:r.logger)!=null&&s.forward)return a.services.logger.forward(o,"warn","react-i18next::",!0);nt(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(c=(i=a==null?void 0:a.services)==null?void 0:i.logger)!=null&&c.warn?a.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Ha={},Xn=(a,e,t,n)=>{nt(t)&&Ha[t]||(nt(t)&&(Ha[t]=new Date),Al(a,e,t,n))},pr=(a,e)=>()=>{if(a.isInitialized)e();else{const t=()=>{setTimeout(()=>{a.off("initialized",t)},0),e()};a.on("initialized",t)}},Yn=(a,e,t)=>{a.loadNamespaces(e,pr(a,t))},qa=(a,e,t,n)=>{if(nt(t)&&(t=[t]),a.options.preload&&a.options.preload.indexOf(e)>-1)return Yn(a,t,n);t.forEach(o=>{a.options.ns.indexOf(o)<0&&a.options.ns.push(o)}),a.loadLanguages(e,pr(a,n))},_l=(a,e,t={})=>!e.languages||!e.languages.length?(Xn(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(a,{lng:t.lng,precheck:(n,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!o(n.isLanguageChangingTo,a))return!1}}),nt=a=>typeof a=="string",Sl=a=>typeof a=="object"&&a!==null,El=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kl={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ll=a=>kl[a],Cl=a=>a.replace(El,Ll);let Zn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Cl};const Tl=(a={})=>{Zn={...Zn,...a}},Ol=()=>Zn;let hr;const Pl=a=>{hr=a},Nl=()=>hr,Rl={type:"3rdParty",init(a){Tl(a.options.react),Pl(a)}},Il=L.createContext();class jl{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Dl=(a,e)=>{const t=L.useRef();return L.useEffect(()=>{t.current=a},[a,e]),t.current},mr=(a,e,t,n)=>a.getFixedT(e,t,n),Bl=(a,e,t,n)=>L.useCallback(mr(a,e,t,n),[a,e,t,n]),Vt=(a,e={})=>{var w,_,v,A;const{i18n:t}=e,{i18n:n,defaultNS:o}=L.useContext(Il)||{},r=t||n||Nl();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new jl),!r){Xn(r,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const k=(O,N)=>nt(N)?N:Sl(N)&&nt(N.defaultValue)?N.defaultValue:Array.isArray(O)?O[O.length-1]:O,S=[k,{},!1];return S.t=k,S.i18n={},S.ready=!1,S}(w=r.options.react)!=null&&w.wait&&Xn(r,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...Ol(),...r.options.react,...e},{useSuspense:i,keyPrefix:c}=s;let l=o||((_=r.options)==null?void 0:_.defaultNS);l=nt(l)?[l]:l||["translation"],(A=(v=r.reportNamespaces).addUsedNamespaces)==null||A.call(v,l);const d=(r.isInitialized||r.initializedStoreOnce)&&l.every(k=>_l(k,r,s)),p=Bl(r,e.lng||null,s.nsMode==="fallback"?l:l[0],c),m=()=>p,u=()=>mr(r,e.lng||null,s.nsMode==="fallback"?l:l[0],c),[x,y]=L.useState(m);let b=l.join();e.lng&&(b=`${e.lng}${b}`);const E=Dl(b),f=L.useRef(!0);L.useEffect(()=>{const{bindI18n:k,bindI18nStore:S}=s;f.current=!0,!d&&!i&&(e.lng?qa(r,e.lng,l,()=>{f.current&&y(u)}):Yn(r,l,()=>{f.current&&y(u)})),d&&E&&E!==b&&f.current&&y(u);const O=()=>{f.current&&y(u)};return k&&(r==null||r.on(k,O)),S&&(r==null||r.store.on(S,O)),()=>{f.current=!1,r&&k&&(k==null||k.split(" ").forEach(N=>r.off(N,O))),S&&r&&S.split(" ").forEach(N=>r.store.off(N,O))}},[r,b]),L.useEffect(()=>{f.current&&d&&y(m)},[r,c,d]);const g=[x,r,d];if(g.t=x,g.i18n=r,g.ready=d,d||!d&&!i)return g;throw new Promise(k=>{e.lng?qa(r,e.lng,l,()=>k()):Yn(r,l,()=>k())})},$l=[{code:"zh-CN",name:"简体中文",flag:"🇨🇳"},{code:"zh-TW",name:"繁體中文",flag:"🇹🇼"},{code:"en-US",name:"English",flag:"🇺🇸"},{code:"ja-JP",name:"日本語",flag:"🇯🇵"},{code:"ko-KR",name:"한국어",flag:"🇰🇷"},{code:"fr-FR",name:"Français",flag:"🇫🇷"},{code:"de-DE",name:"Deutsch",flag:"🇩🇪"},{code:"es-ES",name:"Español",flag:"🇪🇸"},{code:"pt-PT",name:"Português",flag:"🇵🇹"},{code:"it-IT",name:"Italiano",flag:"🇮🇹"},{code:"ru-RU",name:"Русский",flag:"🇷🇺"},{code:"ar-SA",name:"العربية",flag:"🇸🇦"},{code:"hi-IN",name:"हिन्दी",flag:"🇮🇳"}],fr=L.createContext(void 0);function Fl({children:a}){const{i18n:e}=Vt(),[t,n]=L.useState(e.language||"zh-CN"),[o,r]=L.useState(!1);L.useEffect(()=>{const l=d=>{n(d),r(d.startsWith("ar")),document.documentElement.dir=d.startsWith("ar")?"rtl":"ltr",document.documentElement.lang=d};return l(e.language),e.on("languageChanged",l),()=>{e.off("languageChanged",l)}},[e]);const c={currentLanguage:t,changeLanguage:async l=>{try{await e.changeLanguage(l),localStorage.setItem("leoai-language",l)}catch(d){console.error("Failed to change language:",d)}},getSupportedLanguages:()=>$l,isRTL:o};return h.jsx(fr.Provider,{value:c,"data-matrix-id":"src/contexts/LanguageContext.tsx:81:4","data-matrix-name":"LanguageContext.Provider","data-component-path":"src/contexts/LanguageContext.tsx","data-component-line":"81","data-component-file":"LanguageContext.tsx","data-component-name":"LanguageContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:a})}function Lp(){const a=L.useContext(fr);if(a===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return a}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ml={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(a,e)=>{const t=L.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:c,...l},d)=>L.createElement("svg",{ref:d,...Ml,width:o,height:o,stroke:n,strokeWidth:s?Number(r)*24/Number(o):r,className:["lucide",`lucide-${Ul(a)}`,i].join(" "),...l},[...e.map(([p,m])=>L.createElement(p,m)),...Array.isArray(c)?c:[c]]));return t.displayName=`${a}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=Q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Q("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=Q("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function yr(a){var e,t,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var o=a.length;for(e=0;e<o;e++)a[e]&&(t=yr(a[e]))&&(n&&(n+=" "),n+=t)}else for(t in a)a[t]&&(n&&(n+=" "),n+=t);return n}function br(){for(var a,e,t=0,n="",o=arguments.length;t<o;t++)(a=arguments[t])&&(e=yr(a))&&(n&&(n+=" "),n+=e);return n}const Wa=a=>typeof a=="boolean"?`${a}`:a===0?"0":a,Ja=br,rd=(a,e)=>t=>{var n;if((e==null?void 0:e.variants)==null)return Ja(a,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:r}=e,s=Object.keys(o).map(l=>{const d=t==null?void 0:t[l],p=r==null?void 0:r[l];if(d===null)return null;const m=Wa(d)||Wa(p);return o[l][m]}),i=t&&Object.entries(t).reduce((l,d)=>{let[p,m]=d;return m===void 0||(l[p]=m),l},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((l,d)=>{let{class:p,className:m,...u}=d;return Object.entries(u).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...r,...i}[y]):{...r,...i}[y]===b})?[...l,p,m]:l},[]);return Ja(a,s,c,t==null?void 0:t.class,t==null?void 0:t.className)},pa="-",sd=a=>{const e=cd(a),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=a;return{getClassGroupId:s=>{const i=s.split(pa);return i[0]===""&&i.length!==1&&i.shift(),vr(i,e)||id(s)},getConflictingClassGroupIds:(s,i)=>{const c=t[s]||[];return i&&n[s]?[...c,...n[s]]:c}}},vr=(a,e)=>{var s;if(a.length===0)return e.classGroupId;const t=a[0],n=e.nextPart.get(t),o=n?vr(a.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const r=a.join(pa);return(s=e.validators.find(({validator:i})=>i(r)))==null?void 0:s.classGroupId},Xa=/^\[(.+)\]$/,id=a=>{if(Xa.test(a)){const e=Xa.exec(a)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},cd=a=>{const{theme:e,prefix:t}=a,n={nextPart:new Map,validators:[]};return dd(Object.entries(a.classGroups),t).forEach(([r,s])=>{ea(s,n,r,e)}),n},ea=(a,e,t,n)=>{a.forEach(o=>{if(typeof o=="string"){const r=o===""?e:Ya(e,o);r.classGroupId=t;return}if(typeof o=="function"){if(ld(o)){ea(o(n),e,t,n);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([r,s])=>{ea(s,Ya(e,r),t,n)})})},Ya=(a,e)=>{let t=a;return e.split(pa).forEach(n=>{t.nextPart.has(n)||t.nextPart.set(n,{nextPart:new Map,validators:[]}),t=t.nextPart.get(n)}),t},ld=a=>a.isThemeGetter,dd=(a,e)=>e?a.map(([t,n])=>{const o=n.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([s,i])=>[e+s,i])):r);return[t,o]}):a,ud=a=>{if(a<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,n=new Map;const o=(r,s)=>{t.set(r,s),e++,e>a&&(e=0,n=t,t=new Map)};return{get(r){let s=t.get(r);if(s!==void 0)return s;if((s=n.get(r))!==void 0)return o(r,s),s},set(r,s){t.has(r)?t.set(r,s):o(r,s)}}},wr="!",pd=a=>{const{separator:e,experimentalParseClassName:t}=a,n=e.length===1,o=e[0],r=e.length,s=i=>{const c=[];let l=0,d=0,p;for(let b=0;b<i.length;b++){let E=i[b];if(l===0){if(E===o&&(n||i.slice(b,b+r)===e)){c.push(i.slice(d,b)),d=b+r;continue}if(E==="/"){p=b;continue}}E==="["?l++:E==="]"&&l--}const m=c.length===0?i:i.substring(d),u=m.startsWith(wr),x=u?m.substring(1):m,y=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:u,baseClassName:x,maybePostfixModifierPosition:y}};return t?i=>t({className:i,parseClassName:s}):s},hd=a=>{if(a.length<=1)return a;const e=[];let t=[];return a.forEach(n=>{n[0]==="["?(e.push(...t.sort(),n),t=[]):t.push(n)}),e.push(...t.sort()),e},md=a=>({cache:ud(a.cacheSize),parseClassName:pd(a),...sd(a)}),fd=/\s+/,gd=(a,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o}=e,r=[],s=a.trim().split(fd);let i="";for(let c=s.length-1;c>=0;c-=1){const l=s[c],{modifiers:d,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:u}=t(l);let x=!!u,y=n(x?m.substring(0,u):m);if(!y){if(!x){i=l+(i.length>0?" "+i:i);continue}if(y=n(m),!y){i=l+(i.length>0?" "+i:i);continue}x=!1}const b=hd(d).join(":"),E=p?b+wr:b,f=E+y;if(r.includes(f))continue;r.push(f);const g=o(y,x);for(let w=0;w<g.length;++w){const _=g[w];r.push(E+_)}i=l+(i.length>0?" "+i:i)}return i};function xd(){let a=0,e,t,n="";for(;a<arguments.length;)(e=arguments[a++])&&(t=Ar(e))&&(n&&(n+=" "),n+=t);return n}const Ar=a=>{if(typeof a=="string")return a;let e,t="";for(let n=0;n<a.length;n++)a[n]&&(e=Ar(a[n]))&&(t&&(t+=" "),t+=e);return t};function yd(a,...e){let t,n,o,r=s;function s(c){const l=e.reduce((d,p)=>p(d),a());return t=md(l),n=t.cache.get,o=t.cache.set,r=i,i(c)}function i(c){const l=n(c);if(l)return l;const d=gd(c,t);return o(c,d),d}return function(){return r(xd.apply(null,arguments))}}const Z=a=>{const e=t=>t[a]||[];return e.isThemeGetter=!0,e},_r=/^\[(?:([a-z-]+):)?(.+)\]$/i,bd=/^\d+\/\d+$/,vd=new Set(["px","full","screen"]),wd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ad=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_d=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Sd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Ed=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oe=a=>At(a)||vd.has(a)||bd.test(a),Fe=a=>Lt(a,"length",Rd),At=a=>!!a&&!Number.isNaN(Number(a)),Nn=a=>Lt(a,"number",At),Pt=a=>!!a&&Number.isInteger(Number(a)),kd=a=>a.endsWith("%")&&At(a.slice(0,-1)),$=a=>_r.test(a),Me=a=>wd.test(a),Ld=new Set(["length","size","percentage"]),Cd=a=>Lt(a,Ld,Sr),Td=a=>Lt(a,"position",Sr),Od=new Set(["image","url"]),Pd=a=>Lt(a,Od,jd),Nd=a=>Lt(a,"",Id),Nt=()=>!0,Lt=(a,e,t)=>{const n=_r.exec(a);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):t(n[2]):!1},Rd=a=>Ad.test(a)&&!_d.test(a),Sr=()=>!1,Id=a=>Sd.test(a),jd=a=>Ed.test(a),Dd=()=>{const a=Z("colors"),e=Z("spacing"),t=Z("blur"),n=Z("brightness"),o=Z("borderColor"),r=Z("borderRadius"),s=Z("borderSpacing"),i=Z("borderWidth"),c=Z("contrast"),l=Z("grayscale"),d=Z("hueRotate"),p=Z("invert"),m=Z("gap"),u=Z("gradientColorStops"),x=Z("gradientColorStopPositions"),y=Z("inset"),b=Z("margin"),E=Z("opacity"),f=Z("padding"),g=Z("saturate"),w=Z("scale"),_=Z("sepia"),v=Z("skew"),A=Z("space"),k=Z("translate"),S=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",$,e],C=()=>[$,e],V=()=>["",Oe,Fe],q=()=>["auto",At,$],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",$],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[At,$];return{cacheSize:500,separator:":",theme:{colors:[Nt],spacing:[Oe,Fe],blur:["none","",Me,$],brightness:z(),borderColor:[a],borderRadius:["none","","full",Me,$],borderSpacing:C(),borderWidth:V(),contrast:z(),grayscale:P(),hueRotate:z(),invert:P(),gap:C(),gradientColorStops:[a],gradientColorStopPositions:[kd,Fe],inset:N(),margin:N(),opacity:z(),padding:C(),saturate:z(),scale:z(),sepia:P(),skew:z(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",$]}],container:["container"],columns:[{columns:[Me]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),$]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pt,$]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Pt,$]}],"grid-cols":[{"grid-cols":[Nt]}],"col-start-end":[{col:["auto",{span:["full",Pt,$]},$]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[Nt]}],"row-start-end":[{row:["auto",{span:[Pt,$]},$]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$,e]}],"min-w":[{"min-w":[$,e,"min","max","fit"]}],"max-w":[{"max-w":[$,e,"none","full","min","max","fit","prose",{screen:[Me]},Me]}],h:[{h:[$,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Me,Fe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nn]}],"font-family":[{font:[Nt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$]}],"line-clamp":[{"line-clamp":["none",At,Nn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oe,$]}],"list-image":[{"list-image":["none",$]}],"list-style-type":[{list:["none","disc","decimal",$]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oe,Fe]}],"underline-offset":[{"underline-offset":["auto",Oe,$]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),Td]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cd]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pd]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[u]}],"gradient-via":[{via:[u]}],"gradient-to":[{to:[u]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:W()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[Oe,$]}],"outline-w":[{outline:[Oe,Fe]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Oe,Fe]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",Me,Nd]}],"shadow-color":[{shadow:[Nt]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Me,$]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",$]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",$]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Pt,$]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[v]}],"skew-y":[{"skew-y":[v]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[Oe,Fe,Nn]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bd=yd(Dd);function F(...a){return Bd(br(a))}function Cp(a){const e=["Bytes","KB","MB","GB"];if(a===0)return"0 Bytes";const t=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,t)*100)/100+" "+e[t]}const $d=rd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary-500 text-white hover:bg-primary-600 active:bg-primary-700",destructive:"bg-error-500 text-white hover:bg-error-600 active:bg-error-700",outline:"border border-border bg-background hover:bg-neutral-100 dark:hover:bg-neutral-800",secondary:"bg-neutral-100 text-neutral-900 hover:bg-neutral-200 dark:bg-neutral-800 dark:text-neutral-100 dark:hover:bg-neutral-700",ghost:"hover:bg-neutral-100 dark:hover:bg-neutral-800",link:"text-primary-500 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ne=L.forwardRef(({className:a,variant:e,size:t,asChild:n=!1,...o},r)=>{const s=n?Qr:"button";return h.jsx(s,{className:F($d({variant:e,size:t,className:a})),ref:r,...o,"data-matrix-id":"src/components/ui/button.tsx:45:6","data-matrix-name":"Comp","data-component-path":"src/components/ui/button.tsx","data-component-line":"45","data-component-file":"button.tsx","data-component-name":"Comp","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"})});Ne.displayName="Button";const Za=ts,Qa=ns,Fd=L.forwardRef(({className:a,inset:e,children:t,...n},o)=>h.jsxs(ko,{ref:o,className:F("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",a),...n,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:27:2","data-matrix-name":"DropdownMenuPrimitive.SubTrigger","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"27","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.SubTrigger","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[t,h.jsx(Vl,{className:"ml-auto h-4 w-4","data-matrix-id":"src/components/ui/dropdown-menu.tsx:37:4","data-matrix-name":"ChevronRight","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"37","data-component-file":"dropdown-menu.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22ml-auto%20h-4%20w-4%22%7D"})]}));Fd.displayName=ko.displayName;const Md=L.forwardRef(({className:a,...e},t)=>h.jsx(Lo,{ref:t,className:F("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...e,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:47:2","data-matrix-name":"DropdownMenuPrimitive.SubContent","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"47","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.SubContent","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));Md.displayName=Lo.displayName;const ta=L.forwardRef(({className:a,sideOffset:e=4,...t},n)=>h.jsx(es,{"data-matrix-id":"src/components/ui/dropdown-menu.tsx:63:2","data-matrix-name":"DropdownMenuPrimitive.Portal","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"63","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.Portal",children:h.jsx(Co,{ref:n,sideOffset:e,className:F("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...t,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:64:4","data-matrix-name":"DropdownMenuPrimitive.Content","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"64","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.Content","data-component-content":"%7B%22sideOffset%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"})}));ta.displayName=Co.displayName;const tn=L.forwardRef(({className:a,inset:e,...t},n)=>h.jsx(To,{ref:n,className:F("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",a),...t,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:84:2","data-matrix-name":"DropdownMenuPrimitive.Item","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"84","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.Item","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));tn.displayName=To.displayName;const Ud=L.forwardRef(({className:a,children:e,checked:t,...n},o)=>h.jsxs(Oo,{ref:o,className:F("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:t,...n,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:100:2","data-matrix-name":"DropdownMenuPrimitive.CheckboxItem","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"100","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.CheckboxItem","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22checked%22%3A%22%5BIdentifier%5D%22%2C%22...spread%22%3Atrue%7D",children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center","data-matrix-id":"src/components/ui/dropdown-menu.tsx:109:4","data-matrix-name":"span","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"109","data-component-file":"dropdown-menu.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20left-2%20flex%20h-3.5%20w-3.5%20items-center%20justify-center%22%7D",children:h.jsx(Po,{"data-matrix-id":"src/components/ui/dropdown-menu.tsx:110:6","data-matrix-name":"DropdownMenuPrimitive.ItemIndicator","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"110","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.ItemIndicator",children:h.jsx(Qn,{className:"h-4 w-4","data-matrix-id":"src/components/ui/dropdown-menu.tsx:111:8","data-matrix-name":"Check","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"111","data-component-file":"dropdown-menu.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})}),e]}));Ud.displayName=Oo.displayName;const zd=L.forwardRef(({className:a,children:e,...t},n)=>h.jsxs(No,{ref:n,className:F("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...t,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:124:2","data-matrix-name":"DropdownMenuPrimitive.RadioItem","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"124","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.RadioItem","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center","data-matrix-id":"src/components/ui/dropdown-menu.tsx:132:4","data-matrix-name":"span","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"132","data-component-file":"dropdown-menu.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20left-2%20flex%20h-3.5%20w-3.5%20items-center%20justify-center%22%7D",children:h.jsx(Po,{"data-matrix-id":"src/components/ui/dropdown-menu.tsx:133:6","data-matrix-name":"DropdownMenuPrimitive.ItemIndicator","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"133","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.ItemIndicator",children:h.jsx(Jl,{className:"h-2 w-2 fill-current","data-matrix-id":"src/components/ui/dropdown-menu.tsx:134:8","data-matrix-name":"Circle","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"134","data-component-file":"dropdown-menu.tsx","data-component-name":"Circle","data-component-content":"%7B%22className%22%3A%22h-2%20w-2%20fill-current%22%7D"})})}),e]}));zd.displayName=No.displayName;const Hd=L.forwardRef(({className:a,inset:e,...t},n)=>h.jsx(Ro,{ref:n,className:F("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",a),...t,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:148:2","data-matrix-name":"DropdownMenuPrimitive.Label","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"148","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.Label","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));Hd.displayName=Ro.displayName;const qd=L.forwardRef(({className:a,...e},t)=>h.jsx(Io,{ref:t,className:F("-mx-1 my-1 h-px bg-muted",a),...e,"data-matrix-id":"src/components/ui/dropdown-menu.tsx:164:2","data-matrix-name":"DropdownMenuPrimitive.Separator","data-component-path":"src/components/ui/dropdown-menu.tsx","data-component-line":"164","data-component-file":"dropdown-menu.tsx","data-component-name":"DropdownMenuPrimitive.Separator","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"}));qd.displayName=Io.displayName;const Qt=[{code:"zh-CN",name:"简体中文",nativeName:"简体中文",flag:"🇨🇳"},{code:"zh-TW",name:"繁體中文",nativeName:"繁體中文",flag:"🇭🇰"},{code:"en-US",name:"English",nativeName:"English",flag:"🇺🇸"},{code:"ja-JP",name:"日本語",nativeName:"日本語",flag:"🇯🇵"},{code:"ko-KR",name:"한국어",nativeName:"한국어",flag:"🇰🇷"},{code:"fr-FR",name:"Français",nativeName:"Français",flag:"🇫🇷"},{code:"de-DE",name:"Deutsch",nativeName:"Deutsch",flag:"🇩🇪"},{code:"es-ES",name:"Español",nativeName:"Español",flag:"🇪🇸"},{code:"it-IT",name:"Italiano",nativeName:"Italiano",flag:"🇮🇹"},{code:"pt-PT",name:"Português",nativeName:"Português",flag:"🇵🇹"},{code:"ru-RU",name:"Русский",nativeName:"Русский",flag:"🇷🇺"},{code:"ar-SA",name:"العربية",nativeName:"العربية",flag:"🇸🇦"},{code:"hi-IN",name:"हिन्दी",nativeName:"हिन्दी",flag:"🇮🇳"}];function eo({className:a,variant:e="default"}){const{i18n:t,t:n}=Vt(),[o,r]=L.useState(t.language),[s,i]=L.useState(!1),c=()=>Qt.find(m=>m.code===o)||Qt[0],l=async m=>{try{await t.changeLanguage(m),r(m),localStorage.setItem("leoai-language",m),document.documentElement.lang=m,console.log(`Language changed to: ${m}`)}catch(u){console.error("Failed to change language:",u)}},d=async()=>{if(!s){i(!0);try{const m=await fetch("https://ipapi.co/json/");if(m.ok){const x=(await m.json()).country_code,b={CN:"zh-CN",TW:"zh-TW",HK:"zh-TW",MO:"zh-TW",JP:"ja-JP",KR:"ko-KR",FR:"fr-FR",DE:"de-DE",ES:"es-ES",PT:"pt-PT",BR:"pt-PT",RU:"ru-RU",IN:"hi-IN",SA:"ar-SA",AE:"ar-SA",EG:"ar-SA",IT:"it-IT"}[x]||"en-US";localStorage.getItem("leoai-language")||await l(b)}}catch(m){console.error("IP-based language detection failed:",m)}finally{i(!1)}}};L.useEffect(()=>{d();const m=()=>{r(t.language)};return t.on("languageChanged",m),()=>{t.off("languageChanged",m)}},[t]);const p=c();return e==="footer"?h.jsxs("div",{className:F("flex items-center space-x-2",a),"data-matrix-id":"src/components/ui/LanguageSelector.tsx:181:6","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"181","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsx(Pn,{size:16,className:"text-foreground-muted","data-matrix-id":"src/components/ui/LanguageSelector.tsx:182:8","data-matrix-name":"Globe","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"182","data-component-file":"LanguageSelector.tsx","data-component-name":"Globe","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22text-foreground-muted%22%7D"}),h.jsxs(Za,{"data-matrix-id":"src/components/ui/LanguageSelector.tsx:183:8","data-matrix-name":"DropdownMenu","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"183","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenu",children:[h.jsx(Qa,{asChild:!0,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:184:10","data-matrix-name":"DropdownMenuTrigger","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"184","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuTrigger","data-component-content":"%7B%22asChild%22%3Atrue%7D",children:h.jsx(Ne,{variant:"ghost",size:"sm",className:"h-auto p-1 text-sm text-foreground-muted hover:text-foreground",disabled:s,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:185:12","data-matrix-name":"Button","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"185","data-component-file":"LanguageSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22className%22%3A%22h-auto%20p-1%20text-sm%20text-foreground-muted%20hover%3Atext-foreground%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D",children:s?n("detecting","Detecting..."):p.nativeName})}),h.jsx(ta,{align:"start",className:"min-w-[180px]","data-matrix-id":"src/components/ui/LanguageSelector.tsx:194:10","data-matrix-name":"DropdownMenuContent","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"194","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuContent","data-component-content":"%7B%22align%22%3A%22start%22%2C%22className%22%3A%22min-w-%5B180px%5D%22%7D",children:Qt.map(m=>h.jsxs(tn,{onClick:()=>l(m.code),className:"flex items-center justify-between py-2 px-3 cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/20","data-matrix-id":"src/components/ui/LanguageSelector.tsx:196:14","data-matrix-name":"DropdownMenuItem","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"196","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuItem","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20py-2%20px-3%20cursor-pointer%20hover%3Abg-primary-50%20dark%3Ahover%3Abg-primary-900%2F20%22%7D",children:[h.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/components/ui/LanguageSelector.tsx:201:16","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"201","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[h.jsx("span",{"data-matrix-id":"src/components/ui/LanguageSelector.tsx:202:18","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"202","data-component-file":"LanguageSelector.tsx","data-component-name":"span",children:m.flag}),h.jsx("span",{"data-matrix-id":"src/components/ui/LanguageSelector.tsx:203:18","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"203","data-component-file":"LanguageSelector.tsx","data-component-name":"span",children:m.nativeName})]}),o===m.code&&h.jsx(Qn,{size:16,className:"text-primary-500","data-matrix-id":"src/components/ui/LanguageSelector.tsx:206:18","data-matrix-name":"Check","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"206","data-component-file":"LanguageSelector.tsx","data-component-name":"Check","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22text-primary-500%22%7D"})]},m.code))})]})]}):h.jsxs(Za,{"data-matrix-id":"src/components/ui/LanguageSelector.tsx:217:4","data-matrix-name":"DropdownMenu","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"217","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenu",children:[h.jsx(Qa,{asChild:!0,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:218:6","data-matrix-name":"DropdownMenuTrigger","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"218","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuTrigger","data-component-content":"%7B%22asChild%22%3Atrue%7D",children:h.jsxs(Ne,{variant:e==="header"?"ghost":"outline",size:"sm",className:F("flex items-center space-x-2",e==="header"&&"text-foreground-muted hover:text-foreground",a),disabled:s,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:219:8","data-matrix-name":"Button","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"219","data-component-file":"LanguageSelector.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22%5BConditionalExpression%5D%22%2C%22size%22%3A%22sm%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D",children:[h.jsx(Pn,{size:16,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:229:10","data-matrix-name":"Globe","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"229","data-component-file":"LanguageSelector.tsx","data-component-name":"Globe","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{className:e==="header"?"hidden sm:inline":"","data-matrix-id":"src/components/ui/LanguageSelector.tsx:230:10","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"230","data-component-file":"LanguageSelector.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BConditionalExpression%5D%22%7D",children:s?n("detecting","Detecting..."):p.flag}),e!=="header"&&h.jsx("span",{className:"hidden sm:inline","data-matrix-id":"src/components/ui/LanguageSelector.tsx:234:12","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"234","data-component-file":"LanguageSelector.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ainline%22%7D",children:p.nativeName})]})}),h.jsxs(ta,{align:"end",className:"min-w-[200px] z-[100] bg-background border border-border shadow-lg","data-matrix-id":"src/components/ui/LanguageSelector.tsx:240:6","data-matrix-name":"DropdownMenuContent","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"240","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuContent","data-component-content":"%7B%22align%22%3A%22end%22%2C%22className%22%3A%22min-w-%5B200px%5D%20z-%5B100%5D%20bg-background%20border%20border-border%20shadow-lg%22%7D",children:[h.jsx("div",{className:"px-3 py-2 text-sm font-medium text-foreground border-b border-border","data-matrix-id":"src/components/ui/LanguageSelector.tsx:241:8","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"241","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%20text-sm%20font-medium%20text-foreground%20border-b%20border-border%22%7D",children:n("language_selector","Select Language")}),Qt.map(m=>h.jsxs(tn,{onClick:()=>l(m.code),className:"flex items-center justify-between py-2 px-3 cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/20","data-matrix-id":"src/components/ui/LanguageSelector.tsx:245:10","data-matrix-name":"DropdownMenuItem","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"245","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuItem","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20justify-between%20py-2%20px-3%20cursor-pointer%20hover%3Abg-primary-50%20dark%3Ahover%3Abg-primary-900%2F20%22%7D",children:[h.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/components/ui/LanguageSelector.tsx:250:12","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"250","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[h.jsx("span",{className:"text-lg","data-matrix-id":"src/components/ui/LanguageSelector.tsx:251:14","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"251","data-component-file":"LanguageSelector.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-lg%22%7D",children:m.flag}),h.jsxs("div",{"data-matrix-id":"src/components/ui/LanguageSelector.tsx:252:14","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"252","data-component-file":"LanguageSelector.tsx","data-component-name":"div",children:[h.jsx("div",{className:"font-medium","data-matrix-id":"src/components/ui/LanguageSelector.tsx:253:16","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"253","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:m.nativeName}),m.nativeName!==m.name&&h.jsx("div",{className:"text-xs text-foreground-muted","data-matrix-id":"src/components/ui/LanguageSelector.tsx:255:18","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"255","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%22%7D",children:m.name})]})]}),o===m.code&&h.jsx(Qn,{size:16,className:"text-primary-500","data-matrix-id":"src/components/ui/LanguageSelector.tsx:260:14","data-matrix-name":"Check","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"260","data-component-file":"LanguageSelector.tsx","data-component-name":"Check","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22text-primary-500%22%7D"})]},m.code)),h.jsx("div",{className:"border-t border-border pt-2 mt-2","data-matrix-id":"src/components/ui/LanguageSelector.tsx:265:8","data-matrix-name":"div","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"265","data-component-file":"LanguageSelector.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20pt-2%20mt-2%22%7D",children:h.jsxs(tn,{onClick:d,disabled:s,className:"flex items-center space-x-2 py-2 px-3 cursor-pointer text-foreground-muted hover:bg-primary-50 dark:hover:bg-primary-900/20","data-matrix-id":"src/components/ui/LanguageSelector.tsx:266:10","data-matrix-name":"DropdownMenuItem","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"266","data-component-file":"LanguageSelector.tsx","data-component-name":"DropdownMenuItem","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20py-2%20px-3%20cursor-pointer%20text-foreground-muted%20hover%3Abg-primary-50%20dark%3Ahover%3Abg-primary-900%2F20%22%7D",children:[h.jsx(Pn,{size:14,"data-matrix-id":"src/components/ui/LanguageSelector.tsx:271:12","data-matrix-name":"Globe","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"271","data-component-file":"LanguageSelector.tsx","data-component-name":"Globe","data-component-content":"%7B%22size%22%3A14%7D"}),h.jsx("span",{className:"text-sm","data-matrix-id":"src/components/ui/LanguageSelector.tsx:272:12","data-matrix-name":"span","data-component-path":"src/components/ui/LanguageSelector.tsx","data-component-line":"272","data-component-file":"LanguageSelector.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:s?n("detecting","Detecting..."):n("auto_detect_language","Auto Detect Language")})]})})]})]})}const Gd=({onClose:a})=>{const{isAdmin:e,adminSessionValid:t,revokeAdminAccess:n,adminFeatures:o}=lr(),{user:r}=Kt(),{actualTheme:s}=ua();if(!e||!t)return null;const i=()=>{n(),me.success("Admin access revoked"),a&&a()},c=localStorage.getItem("leoai-admin-session"),l=c?new Date(parseInt(c,10)):null;return h.jsx("div",{className:F("fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50","animate-in fade-in duration-200"),"data-matrix-id":"src/components/AdminPanel.tsx:33:4","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"33","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:h.jsxs("div",{className:F("w-full max-w-md rounded-lg shadow-xl",s==="dark"?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"),"data-matrix-id":"src/components/AdminPanel.tsx:37:6","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"37","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsxs("div",{className:F("px-6 py-4 border-b flex items-center justify-between",s==="dark"?"border-gray-700":"border-gray-200"),"data-matrix-id":"src/components/AdminPanel.tsx:44:8","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"44","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/components/AdminPanel.tsx:48:10","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"48","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[h.jsx(cn,{className:"w-5 h-5 text-red-500","data-matrix-id":"src/components/AdminPanel.tsx:49:12","data-matrix-name":"Shield","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"49","data-component-file":"AdminPanel.tsx","data-component-name":"Shield","data-component-content":"%7B%22className%22%3A%22w-5%20h-5%20text-red-500%22%7D"}),h.jsx("h2",{className:F("text-lg font-semibold",s==="dark"?"text-white":"text-gray-900"),"data-matrix-id":"src/components/AdminPanel.tsx:50:12","data-matrix-name":"h2","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"50","data-component-file":"AdminPanel.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"Admin Panel"})]}),a&&h.jsx("button",{onClick:a,className:F("text-gray-400 hover:text-gray-600 transition-colors",s==="dark"?"hover:text-gray-300":"hover:text-gray-600"),"data-matrix-id":"src/components/AdminPanel.tsx:58:12","data-matrix-name":"button","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"58","data-component-file":"AdminPanel.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"✕"})]}),h.jsxs("div",{className:"px-6 py-4 space-y-4","data-matrix-id":"src/components/AdminPanel.tsx:71:8","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"71","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20space-y-4%22%7D",children:[h.jsxs("div",{className:F("p-3 rounded-lg border",s==="dark"?"bg-green-900/20 border-green-800 text-green-400":"bg-green-50 border-green-200 text-green-600"),"data-matrix-id":"src/components/AdminPanel.tsx:73:10","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"73","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/components/AdminPanel.tsx:79:12","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"79","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[h.jsx("span",{className:"text-sm font-medium","data-matrix-id":"src/components/AdminPanel.tsx:80:14","data-matrix-name":"span","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"80","data-component-file":"AdminPanel.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%22%7D",children:"Admin Status: Active"}),h.jsx(cn,{className:"w-4 h-4","data-matrix-id":"src/components/AdminPanel.tsx:81:14","data-matrix-name":"Shield","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"81","data-component-file":"AdminPanel.tsx","data-component-name":"Shield","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"})]}),l&&h.jsxs("div",{className:"flex items-center space-x-1 mt-1 text-xs opacity-75","data-matrix-id":"src/components/AdminPanel.tsx:84:14","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"84","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%20mt-1%20text-xs%20opacity-75%22%7D",children:[h.jsx(Xl,{className:"w-3 h-3","data-matrix-id":"src/components/AdminPanel.tsx:85:16","data-matrix-name":"Clock","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"85","data-component-file":"AdminPanel.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22w-3%20h-3%22%7D"}),h.jsxs("span",{"data-matrix-id":"src/components/AdminPanel.tsx:86:16","data-matrix-name":"span","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"86","data-component-file":"AdminPanel.tsx","data-component-name":"span",children:["Session started: ",l.toLocaleTimeString()]})]})]}),h.jsx("div",{className:F("p-3 rounded-lg border",s==="dark"?"bg-gray-700 border-gray-600":"bg-gray-50 border-gray-200"),"data-matrix-id":"src/components/AdminPanel.tsx:92:10","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"92","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:h.jsxs("div",{className:"text-sm space-y-1","data-matrix-id":"src/components/AdminPanel.tsx:98:12","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"98","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20space-y-1%22%7D",children:[h.jsx("div",{className:F("font-medium",s==="dark"?"text-white":"text-gray-900"),"data-matrix-id":"src/components/AdminPanel.tsx:99:14","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"99","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"Logged in as:"}),h.jsx("div",{className:F("text-xs font-mono",s==="dark"?"text-gray-300":"text-gray-600"),"data-matrix-id":"src/components/AdminPanel.tsx:105:14","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"105","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:r==null?void 0:r.email})]})}),h.jsxs("div",{className:"space-y-2","data-matrix-id":"src/components/AdminPanel.tsx:115:10","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"115","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[h.jsx("h3",{className:F("text-sm font-medium",s==="dark"?"text-gray-200":"text-gray-700"),"data-matrix-id":"src/components/AdminPanel.tsx:116:12","data-matrix-name":"h3","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"116","data-component-file":"AdminPanel.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"Available Features:"}),h.jsx("div",{className:"space-y-1","data-matrix-id":"src/components/AdminPanel.tsx:123:12","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"123","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",children:[{icon:zl,label:"Analytics Access",enabled:o.canAccessAnalytics},{icon:ad,label:"User Management",enabled:o.canManageUsers},{icon:xr,label:"Debug Information",enabled:o.canViewDebugInfo},{icon:Va,label:"Content Moderation",enabled:o.canModifyContent}].map((d,p)=>h.jsxs("div",{className:F("flex items-center space-x-2 px-2 py-1 rounded text-xs",d.enabled?s==="dark"?"text-green-400 bg-green-900/20":"text-green-600 bg-green-50":s==="dark"?"text-gray-500 bg-gray-800":"text-gray-400 bg-gray-100"),"data-matrix-id":"src/components/AdminPanel.tsx:130:16","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"130","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsx(d.icon,{className:"w-3 h-3"}),h.jsx("span",{"data-matrix-id":"src/components/AdminPanel.tsx:144:18","data-matrix-name":"span","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"144","data-component-file":"AdminPanel.tsx","data-component-name":"span",children:d.label}),h.jsx("span",{className:"ml-auto","data-matrix-id":"src/components/AdminPanel.tsx:145:18","data-matrix-name":"span","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"145","data-component-file":"AdminPanel.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-auto%22%7D",children:d.enabled?"✓":"✗"})]},p))})]}),h.jsx("div",{className:F("p-3 rounded-lg border text-xs",s==="dark"?"bg-yellow-900/20 border-yellow-800 text-yellow-400":"bg-yellow-50 border-yellow-200 text-yellow-600"),"data-matrix-id":"src/components/AdminPanel.tsx:154:10","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"154","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:h.jsxs("div",{className:"flex items-start space-x-2","data-matrix-id":"src/components/AdminPanel.tsx:160:12","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"160","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-2%22%7D",children:[h.jsx(Va,{className:"w-4 h-4 flex-shrink-0 mt-0.5","data-matrix-id":"src/components/AdminPanel.tsx:161:14","data-matrix-name":"AlertTriangle","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"161","data-component-file":"AdminPanel.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20flex-shrink-0%20mt-0.5%22%7D"}),h.jsxs("div",{"data-matrix-id":"src/components/AdminPanel.tsx:162:14","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"162","data-component-file":"AdminPanel.tsx","data-component-name":"div",children:[h.jsx("div",{className:"font-medium","data-matrix-id":"src/components/AdminPanel.tsx:163:16","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"163","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:"Security Notice"}),h.jsx("div",{className:"mt-1 opacity-75","data-matrix-id":"src/components/AdminPanel.tsx:164:16","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"164","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-1%20opacity-75%22%7D",children:"Admin session expires after 24 hours. All admin actions are logged and monitored."})]})]})})]}),h.jsx("div",{className:F("px-6 py-4 border-t",s==="dark"?"border-gray-700":"border-gray-200"),"data-matrix-id":"src/components/AdminPanel.tsx:173:8","data-matrix-name":"div","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"173","data-component-file":"AdminPanel.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:h.jsxs("button",{onClick:i,className:F("w-full flex items-center justify-center space-x-2 py-2 px-4 rounded-lg transition-colors text-sm font-medium","bg-red-600 hover:bg-red-700 text-white"),"data-matrix-id":"src/components/AdminPanel.tsx:177:10","data-matrix-name":"button","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"177","data-component-file":"AdminPanel.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsx(gr,{className:"w-4 h-4","data-matrix-id":"src/components/AdminPanel.tsx:184:12","data-matrix-name":"LogOut","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"184","data-component-file":"AdminPanel.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%22%7D"}),h.jsx("span",{"data-matrix-id":"src/components/AdminPanel.tsx:185:12","data-matrix-name":"span","data-component-path":"src/components/AdminPanel.tsx","data-component-line":"185","data-component-file":"AdminPanel.tsx","data-component-name":"span",children:"Revoke Admin Access"})]})})]})})},Kd=768,Vd=1024;function Er(){const[a,e]=L.useState("desktop");return L.useEffect(()=>{const t=()=>{const n=window.innerWidth;n<Kd?e("mobile"):n<Vd?e("tablet"):e("desktop")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),a}function Wd(){return Er()==="mobile"}function Jd(){const a=Er();return a==="mobile"||a==="tablet"}function Xd(){const{user:a,profile:e,isAuthenticated:t,signOut:n}=Kt(),{isAdmin:o,adminSessionValid:r}=lr(),{theme:s,actualTheme:i,toggleTheme:c}=ua(),{t:l}=Vt(),d=jo(),p=ss(),m=Wd();Jd();const[u,x]=L.useState(!1),[y,b]=L.useState(!1),[E,f]=L.useState(!1),[g,w]=L.useState(""),_=L.useRef(null);L.useEffect(()=>{const C=V=>{_.current&&!_.current.contains(V.target)&&x(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const v=async()=>{try{await n(),p("/auth")}catch(C){console.error("Sign out error:",C)}},A=()=>{var C,V;if(a){const q=(e==null?void 0:e.avatar_url)||((C=a.user_metadata)==null?void 0:C.avatar_url)||"/default_user_avatar_placeholder_modern_clean.jpg";return{name:(e==null?void 0:e.full_name)||((V=a.user_metadata)==null?void 0:V.full_name)||a.email||"User",email:a.email||"",avatar:q,isAuthenticated:!0}}return{name:"Guest",email:"",avatar:"/default_user_avatar_placeholder_modern_clean.jpg",isAuthenticated:!1}},k=C=>d.pathname===C,S=C=>{C.preventDefault(),g.trim()&&console.log("搜索:",g)},O=()=>{switch(s){case"light":return h.jsx(td,{size:16,"data-matrix-id":"src/components/Layout.tsx:108:27","data-matrix-name":"Sun","data-component-path":"src/components/Layout.tsx","data-component-line":"108","data-component-file":"Layout.tsx","data-component-name":"Sun","data-component-content":"%7B%22size%22%3A16%7D"});case"dark":return h.jsx(ed,{size:16,"data-matrix-id":"src/components/Layout.tsx:109:26","data-matrix-name":"Moon","data-component-path":"src/components/Layout.tsx","data-component-line":"109","data-component-file":"Layout.tsx","data-component-name":"Moon","data-component-content":"%7B%22size%22%3A16%7D"});case"auto":return h.jsx(Ga,{size:16,"data-matrix-id":"src/components/Layout.tsx:110:26","data-matrix-name":"Monitor","data-component-path":"src/components/Layout.tsx","data-component-line":"110","data-component-file":"Layout.tsx","data-component-name":"Monitor","data-component-content":"%7B%22size%22%3A16%7D"});default:return h.jsx(Ga,{size:16,"data-matrix-id":"src/components/Layout.tsx:111:22","data-matrix-name":"Monitor","data-component-path":"src/components/Layout.tsx","data-component-line":"111","data-component-file":"Layout.tsx","data-component-name":"Monitor","data-component-content":"%7B%22size%22%3A16%7D"})}},N=[{path:"/",label:l("nav.home"),icon:h.jsx(Zl,{size:18,"data-matrix-id":"src/components/Layout.tsx:119:12","data-matrix-name":"HomeIcon","data-component-path":"src/components/Layout.tsx","data-component-line":"119","data-component-file":"Layout.tsx","data-component-name":"HomeIcon","data-component-content":"%7B%22size%22%3A18%7D"})},{path:"/ai-chat",label:l("nav.ai_chat"),icon:h.jsx(Gl,{size:18,"data-matrix-id":"src/components/Layout.tsx:124:12","data-matrix-name":"Bot","data-component-path":"src/components/Layout.tsx","data-component-line":"124","data-component-file":"Layout.tsx","data-component-name":"Bot","data-component-content":"%7B%22size%22%3A18%7D"})},{path:"/stories",label:l("nav.stories"),icon:h.jsx(ql,{size:18,"data-matrix-id":"src/components/Layout.tsx:129:12","data-matrix-name":"BookOpen","data-component-path":"src/components/Layout.tsx","data-component-line":"129","data-component-file":"Layout.tsx","data-component-name":"BookOpen","data-component-content":"%7B%22size%22%3A18%7D"})},{path:"/bp-analysis",label:l("nav.bp_analysis"),icon:h.jsx(Yl,{size:18,"data-matrix-id":"src/components/Layout.tsx:134:12","data-matrix-name":"FileText","data-component-path":"src/components/Layout.tsx","data-component-line":"134","data-component-file":"Layout.tsx","data-component-name":"FileText","data-component-content":"%7B%22size%22%3A18%7D"})}];return h.jsxs("div",{className:"min-h-screen bg-background","data-matrix-id":"src/components/Layout.tsx:139:4","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"139","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-background%22%7D",children:[h.jsxs("header",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border","data-matrix-id":"src/components/Layout.tsx:141:6","data-matrix-name":"header","data-component-path":"src/components/Layout.tsx","data-component-line":"141","data-component-file":"Layout.tsx","data-component-name":"header","data-component-content":"%7B%22className%22%3A%22sticky%20top-0%20z-50%20bg-background%2F95%20backdrop-blur%20supports-%5Bbackdrop-filter%5D%3Abg-background%2F60%20border-b%20border-border%22%7D",children:[h.jsx("div",{className:"container-custom","data-matrix-id":"src/components/Layout.tsx:142:8","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"142","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container-custom%22%7D",children:h.jsxs("div",{className:"flex justify-between items-center h-16","data-matrix-id":"src/components/Layout.tsx:143:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"143","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20h-16%22%7D",children:[h.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-8","data-matrix-id":"src/components/Layout.tsx:145:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"145","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%20sm%3Aspace-x-8%22%7D",children:[h.jsxs(we,{to:"/",className:"flex items-center space-x-2 sm:space-x-3 hover:opacity-80 transition-opacity","data-matrix-id":"src/components/Layout.tsx:146:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"146","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20sm%3Aspace-x-3%20hover%3Aopacity-80%20transition-opacity%22%7D",children:[h.jsx("img",{src:i==="dark"?"/leiaoai-logo-light.png":"/leiaoai-logo-dark.png",alt:l("app_name"),className:F("h-6 sm:h-8 w-auto object-contain",m&&"h-6"),"data-matrix-id":"src/components/Layout.tsx:147:16","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"147","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BConditionalExpression%5D%22%2C%22alt%22%3A%22%5BCallExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D"}),h.jsx("span",{className:F("font-bold text-foreground",m?"text-lg":"text-xl"),"data-matrix-id":"src/components/Layout.tsx:155:16","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"155","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:l("app_name")})]}),h.jsx("nav",{className:"hidden xl:flex space-x-1","data-matrix-id":"src/components/Layout.tsx:164:14","data-matrix-name":"nav","data-component-path":"src/components/Layout.tsx","data-component-line":"164","data-component-file":"Layout.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22hidden%20xl%3Aflex%20space-x-1%22%7D",children:N.map(C=>h.jsxs(we,{to:C.path,className:F("flex items-center space-x-2 px-2 lg:px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200",k(C.path)?"text-primary-600 bg-primary-50 dark:bg-primary-900/20":"text-foreground-secondary hover:text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800"),"data-matrix-id":"src/components/Layout.tsx:166:18","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"166","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[C.icon,h.jsx("span",{className:"hidden lg:inline","data-matrix-id":"src/components/Layout.tsx:177:20","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"177","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22hidden%20lg%3Ainline%22%7D",children:C.label})]},C.path))})]}),h.jsx("div",{className:"flex-1 max-w-md mx-4 lg:mx-8 hidden lg:block","data-matrix-id":"src/components/Layout.tsx:184:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"184","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20max-w-md%20mx-4%20lg%3Amx-8%20hidden%20lg%3Ablock%22%7D",children:h.jsxs("form",{onSubmit:S,className:"relative","data-matrix-id":"src/components/Layout.tsx:185:14","data-matrix-name":"form","data-component-path":"src/components/Layout.tsx","data-component-line":"185","data-component-file":"Layout.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22relative%22%7D",children:[h.jsx(Ka,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-muted","data-matrix-id":"src/components/Layout.tsx:186:16","data-matrix-name":"Search","data-component-path":"src/components/Layout.tsx","data-component-line":"186","data-component-file":"Layout.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-foreground-muted%22%7D"}),h.jsx("input",{type:"text",value:g,onChange:C=>w(C.target.value),placeholder:l("search"),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200","data-matrix-id":"src/components/Layout.tsx:187:16","data-matrix-name":"input","data-component-path":"src/components/Layout.tsx","data-component-line":"187","data-component-file":"Layout.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-4%20py-2%20bg-background%20border%20border-border%20rounded-lg%20text-sm%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aborder-transparent%20transition-all%20duration-200%22%7D"})]})}),h.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2","data-matrix-id":"src/components/Layout.tsx:198:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"198","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%20sm%3Aspace-x-2%22%7D",children:[h.jsx(eo,{variant:"header",className:"hidden lg:flex","data-matrix-id":"src/components/Layout.tsx:200:14","data-matrix-name":"LanguageSelector","data-component-path":"src/components/Layout.tsx","data-component-line":"200","data-component-file":"Layout.tsx","data-component-name":"LanguageSelector","data-component-content":"%7B%22variant%22%3A%22header%22%2C%22className%22%3A%22hidden%20lg%3Aflex%22%7D"}),t&&o&&r&&h.jsxs(Ne,{variant:"ghost",size:"sm",onClick:()=>f(!0),className:F("p-0 relative",m?"w-7 h-7":"w-8 h-8"),title:"Admin Panel","data-matrix-id":"src/components/Layout.tsx:204:16","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"204","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22title%22%3A%22Admin%20Panel%22%7D",children:[h.jsx(cn,{size:16,className:"text-red-500","data-matrix-id":"src/components/Layout.tsx:214:18","data-matrix-name":"Shield","data-component-path":"src/components/Layout.tsx","data-component-line":"214","data-component-file":"Layout.tsx","data-component-name":"Shield","data-component-content":"%7B%22size%22%3A16%2C%22className%22%3A%22text-red-500%22%7D"}),h.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full animate-pulse","data-matrix-id":"src/components/Layout.tsx:215:18","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"215","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22absolute%20-top-0.5%20-right-0.5%20w-2%20h-2%20bg-red-500%20rounded-full%20animate-pulse%22%7D"})]}),h.jsx(Ne,{variant:"ghost",size:"sm",onClick:c,className:F("p-0",m?"w-7 h-7":"w-8 h-8"),title:l("settings.theme"),"data-matrix-id":"src/components/Layout.tsx:220:14","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"220","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22title%22%3A%22%5BCallExpression%5D%22%7D",children:O()}),t?h.jsxs(h.Fragment,{children:[h.jsx(Ne,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 hidden lg:flex","data-matrix-id":"src/components/Layout.tsx:236:18","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"236","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22className%22%3A%22w-8%20h-8%20p-0%20hidden%20lg%3Aflex%22%7D",children:h.jsx(Hl,{size:16,"data-matrix-id":"src/components/Layout.tsx:237:20","data-matrix-name":"Bell","data-component-path":"src/components/Layout.tsx","data-component-line":"237","data-component-file":"Layout.tsx","data-component-name":"Bell","data-component-content":"%7B%22size%22%3A16%7D"})}),h.jsxs("div",{className:"relative",ref:_,"data-matrix-id":"src/components/Layout.tsx:241:18","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"241","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[h.jsxs(Ne,{variant:"ghost",onClick:()=>x(!u),className:F("flex items-center space-x-2 px-2",m?"h-7":"h-8"),"data-matrix-id":"src/components/Layout.tsx:242:20","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"242","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsx("img",{src:A().avatar,alt:l("user.avatar"),className:F("rounded-full object-cover",m?"w-5 h-5":"w-6 h-6"),"data-matrix-id":"src/components/Layout.tsx:250:22","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"250","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BMemberExpression%5D%22%2C%22alt%22%3A%22%5BCallExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D"}),h.jsx(Kl,{size:12,className:"hidden lg:block","data-matrix-id":"src/components/Layout.tsx:258:22","data-matrix-name":"ChevronDown","data-component-path":"src/components/Layout.tsx","data-component-line":"258","data-component-file":"Layout.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22size%22%3A12%2C%22className%22%3A%22hidden%20lg%3Ablock%22%7D"})]}),u&&h.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-background border border-border rounded-lg shadow-lg py-1 z-[110]","data-matrix-id":"src/components/Layout.tsx:262:22","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"262","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20right-0%20mt-2%20w-56%20bg-background%20border%20border-border%20rounded-lg%20shadow-lg%20py-1%20z-%5B110%5D%22%7D",children:[h.jsxs("div",{className:"px-3 py-2 border-b border-border","data-matrix-id":"src/components/Layout.tsx:263:24","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"263","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%20border-b%20border-border%22%7D",children:[h.jsx("p",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/Layout.tsx:264:26","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"264","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:A().name}),h.jsx("p",{className:"text-xs text-foreground-muted","data-matrix-id":"src/components/Layout.tsx:267:26","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"267","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-foreground-muted%22%7D",children:A().email})]}),h.jsxs(we,{to:"/dashboard",className:"flex items-center space-x-2 px-3 py-2 text-sm text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",onClick:()=>x(!1),"data-matrix-id":"src/components/Layout.tsx:272:24","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"272","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fdashboard%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-3%20py-2%20text-sm%20text-foreground%20hover%3Abg-neutral-100%20dark%3Ahover%3Abg-neutral-800%20transition-colors%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[h.jsx(nd,{size:16,"data-matrix-id":"src/components/Layout.tsx:277:26","data-matrix-name":"User","data-component-path":"src/components/Layout.tsx","data-component-line":"277","data-component-file":"Layout.tsx","data-component-name":"User","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:278:26","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"278","data-component-file":"Layout.tsx","data-component-name":"span",children:l("nav.dashboard","Dashboard")})]}),h.jsxs(we,{to:"/profile/edit",className:"flex items-center space-x-2 px-3 py-2 text-sm text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",onClick:()=>x(!1),"data-matrix-id":"src/components/Layout.tsx:281:24","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"281","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fprofile%2Fedit%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-3%20py-2%20text-sm%20text-foreground%20hover%3Abg-neutral-100%20dark%3Ahover%3Abg-neutral-800%20transition-colors%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[h.jsx(xr,{size:16,"data-matrix-id":"src/components/Layout.tsx:286:26","data-matrix-name":"Settings","data-component-path":"src/components/Layout.tsx","data-component-line":"286","data-component-file":"Layout.tsx","data-component-name":"Settings","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:287:26","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"287","data-component-file":"Layout.tsx","data-component-name":"span",children:l("nav.settings")})]}),h.jsx("div",{className:"border-t border-border my-1","data-matrix-id":"src/components/Layout.tsx:290:24","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"290","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20my-1%22%7D"}),t&&o&&r&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{f(!0),x(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors","data-matrix-id":"src/components/Layout.tsx:295:28","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"295","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20w-full%20px-3%20py-2%20text-sm%20text-red-600%20hover%3Abg-red-50%20dark%3Ahover%3Abg-red-900%2F20%20transition-colors%22%7D",children:[h.jsx(cn,{size:16,"data-matrix-id":"src/components/Layout.tsx:302:30","data-matrix-name":"Shield","data-component-path":"src/components/Layout.tsx","data-component-line":"302","data-component-file":"Layout.tsx","data-component-name":"Shield","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:303:30","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"303","data-component-file":"Layout.tsx","data-component-name":"span",children:"Admin Panel"})]}),h.jsx("div",{className:"border-t border-border my-1","data-matrix-id":"src/components/Layout.tsx:305:28","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"305","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20my-1%22%7D"})]}),h.jsxs(we,{to:"/create-story",className:"flex items-center space-x-2 px-3 py-2 text-sm text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",onClick:()=>x(!1),"data-matrix-id":"src/components/Layout.tsx:309:24","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"309","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fcreate-story%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20px-3%20py-2%20text-sm%20text-foreground%20hover%3Abg-neutral-100%20dark%3Ahover%3Abg-neutral-800%20transition-colors%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[h.jsx(Wl,{size:16,"data-matrix-id":"src/components/Layout.tsx:314:26","data-matrix-name":"PlusCircle","data-component-path":"src/components/Layout.tsx","data-component-line":"314","data-component-file":"Layout.tsx","data-component-name":"PlusCircle","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:315:26","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"315","data-component-file":"Layout.tsx","data-component-name":"span",children:l("stories.create_story")})]}),h.jsx("div",{className:"border-t border-border my-1","data-matrix-id":"src/components/Layout.tsx:318:24","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"318","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20my-1%22%7D"}),h.jsxs("button",{onClick:()=>{v(),x(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 text-sm text-error-600 hover:bg-error-50 dark:hover:bg-error-900/20 transition-colors","data-matrix-id":"src/components/Layout.tsx:320:24","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"320","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22flex%20items-center%20space-x-2%20w-full%20px-3%20py-2%20text-sm%20text-error-600%20hover%3Abg-error-50%20dark%3Ahover%3Abg-error-900%2F20%20transition-colors%22%7D",children:[h.jsx(gr,{size:16,"data-matrix-id":"src/components/Layout.tsx:327:26","data-matrix-name":"LogOut","data-component-path":"src/components/Layout.tsx","data-component-line":"327","data-component-file":"Layout.tsx","data-component-name":"LogOut","data-component-content":"%7B%22size%22%3A16%7D"}),h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:328:26","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"328","data-component-file":"Layout.tsx","data-component-name":"span",children:l("auth.sign_out")})]})]})]})]}):h.jsx(we,{to:"/auth","data-matrix-id":"src/components/Layout.tsx:335:16","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"335","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fauth%22%7D",children:h.jsx(Ne,{size:"sm",className:"bg-orange-500 hover:bg-orange-600 text-white border-0","data-matrix-id":"src/components/Layout.tsx:336:18","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"336","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22className%22%3A%22bg-orange-500%20hover%3Abg-orange-600%20text-white%20border-0%22%7D",children:l("auth.sign_in")})}),h.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>b(!y),className:F("xl:hidden p-0",m?"w-7 h-7":"w-8 h-8"),"data-matrix-id":"src/components/Layout.tsx:346:14","data-matrix-name":"Button","data-component-path":"src/components/Layout.tsx","data-component-line":"346","data-component-file":"Layout.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:y?h.jsx(od,{size:m?14:16,"data-matrix-id":"src/components/Layout.tsx:355:34","data-matrix-name":"X","data-component-path":"src/components/Layout.tsx","data-component-line":"355","data-component-file":"Layout.tsx","data-component-name":"X","data-component-content":"%7B%22size%22%3A%22%5BConditionalExpression%5D%22%7D"}):h.jsx(Ql,{size:m?14:16,"data-matrix-id":"src/components/Layout.tsx:355:68","data-matrix-name":"Menu","data-component-path":"src/components/Layout.tsx","data-component-line":"355","data-component-file":"Layout.tsx","data-component-name":"Menu","data-component-content":"%7B%22size%22%3A%22%5BConditionalExpression%5D%22%7D"})})]})]})}),y&&h.jsx("div",{className:"xl:hidden border-t border-border bg-background","data-matrix-id":"src/components/Layout.tsx:363:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"363","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22xl%3Ahidden%20border-t%20border-border%20bg-background%22%7D",children:h.jsxs("div",{className:F("container-custom space-y-1",m?"py-2":"py-4"),"data-matrix-id":"src/components/Layout.tsx:364:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"364","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[N.map(C=>h.jsxs(we,{to:C.path,className:F("flex items-center space-x-3 rounded-lg text-sm font-medium transition-colors",m?"px-2 py-1.5":"px-3 py-2",k(C.path)?"text-primary-600 bg-primary-50 dark:bg-primary-900/20":"text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800"),onClick:()=>b(!1),"data-matrix-id":"src/components/Layout.tsx:369:16","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"369","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[C.icon,h.jsx("span",{"data-matrix-id":"src/components/Layout.tsx:382:18","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"382","data-component-file":"Layout.tsx","data-component-name":"span",children:C.label})]},C.path)),!m&&h.jsx("div",{className:"pt-2","data-matrix-id":"src/components/Layout.tsx:388:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"388","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22pt-2%22%7D",children:h.jsxs("form",{onSubmit:S,className:"relative","data-matrix-id":"src/components/Layout.tsx:389:18","data-matrix-name":"form","data-component-path":"src/components/Layout.tsx","data-component-line":"389","data-component-file":"Layout.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22relative%22%7D",children:[h.jsx(Ka,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-foreground-muted","data-matrix-id":"src/components/Layout.tsx:390:20","data-matrix-name":"Search","data-component-path":"src/components/Layout.tsx","data-component-line":"390","data-component-file":"Layout.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22w-4%20h-4%20absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-foreground-muted%22%7D"}),h.jsx("input",{type:"text",value:g,onChange:C=>w(C.target.value),placeholder:l("search"),className:"w-full pl-10 pr-4 py-2 bg-background border border-border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent","data-matrix-id":"src/components/Layout.tsx:391:20","data-matrix-name":"input","data-component-path":"src/components/Layout.tsx","data-component-line":"391","data-component-file":"Layout.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%5BCallExpression%5D%22%2C%22className%22%3A%22w-full%20pl-10%20pr-4%20py-2%20bg-background%20border%20border-border%20rounded-lg%20text-sm%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary-500%20focus%3Aborder-transparent%22%7D"})]})}),h.jsx("div",{className:F("border-t border-border",m?"pt-1":"pt-2"),"data-matrix-id":"src/components/Layout.tsx:403:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"403","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:h.jsx(eo,{className:"w-full","data-matrix-id":"src/components/Layout.tsx:407:16","data-matrix-name":"LanguageSelector","data-component-path":"src/components/Layout.tsx","data-component-line":"407","data-component-file":"Layout.tsx","data-component-name":"LanguageSelector","data-component-content":"%7B%22className%22%3A%22w-full%22%7D"})})]})})]}),E&&h.jsx(Gd,{onClose:()=>f(!1),"data-matrix-id":"src/components/Layout.tsx:416:8","data-matrix-name":"AdminPanel","data-component-path":"src/components/Layout.tsx","data-component-line":"416","data-component-file":"Layout.tsx","data-component-name":"AdminPanel","data-component-content":"%7B%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),h.jsx("main",{className:"flex-1","data-matrix-id":"src/components/Layout.tsx:420:6","data-matrix-name":"main","data-component-path":"src/components/Layout.tsx","data-component-line":"420","data-component-file":"Layout.tsx","data-component-name":"main","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:h.jsx(is,{"data-matrix-id":"src/components/Layout.tsx:421:8","data-matrix-name":"Outlet","data-component-path":"src/components/Layout.tsx","data-component-line":"421","data-component-file":"Layout.tsx","data-component-name":"Outlet"})}),h.jsx("footer",{className:"bg-background border-t border-border mt-12","data-matrix-id":"src/components/Layout.tsx:425:6","data-matrix-name":"footer","data-component-path":"src/components/Layout.tsx","data-component-line":"425","data-component-file":"Layout.tsx","data-component-name":"footer","data-component-content":"%7B%22className%22%3A%22bg-background%20border-t%20border-border%20mt-12%22%7D",children:h.jsxs("div",{className:"container-custom py-8","data-matrix-id":"src/components/Layout.tsx:426:8","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"426","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container-custom%20py-8%22%7D",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0","data-matrix-id":"src/components/Layout.tsx:427:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"427","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20md%3Aflex-row%20justify-between%20items-center%20space-y-4%20md%3Aspace-y-0%22%7D",children:[h.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/components/Layout.tsx:428:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"428","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[h.jsx("img",{src:i==="dark"?"/leoai-logo-light.png":"/leoai-logo-dark.png",alt:l("app_name"),className:"h-6 w-auto object-contain","data-matrix-id":"src/components/Layout.tsx:429:14","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"429","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%5BConditionalExpression%5D%22%2C%22alt%22%3A%22%5BCallExpression%5D%22%2C%22className%22%3A%22h-6%20w-auto%20object-contain%22%7D"}),h.jsx("span",{className:"text-foreground-muted text-sm","data-matrix-id":"src/components/Layout.tsx:434:14","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"434","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground-muted%20text-sm%22%7D",children:l("app_description","Professional AI Investment Platform")})]}),h.jsxs("div",{className:"flex items-center space-x-6 text-sm text-foreground-muted","data-matrix-id":"src/components/Layout.tsx:439:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"439","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-6%20text-sm%20text-foreground-muted%22%7D",children:[h.jsx(we,{to:"/about",className:"hover:text-foreground transition-colors","data-matrix-id":"src/components/Layout.tsx:440:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"440","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fabout%22%2C%22className%22%3A%22hover%3Atext-foreground%20transition-colors%22%7D",children:l("about")}),h.jsx(we,{to:"/privacy",className:"hover:text-foreground transition-colors","data-matrix-id":"src/components/Layout.tsx:443:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"443","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fprivacy%22%2C%22className%22%3A%22hover%3Atext-foreground%20transition-colors%22%7D",children:l("privacy")}),h.jsx(we,{to:"/terms",className:"hover:text-foreground transition-colors","data-matrix-id":"src/components/Layout.tsx:446:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"446","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fterms%22%2C%22className%22%3A%22hover%3Atext-foreground%20transition-colors%22%7D",children:l("terms")}),h.jsx(we,{to:"/contact",className:"hover:text-foreground transition-colors","data-matrix-id":"src/components/Layout.tsx:449:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"449","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2Fcontact%22%2C%22className%22%3A%22hover%3Atext-foreground%20transition-colors%22%7D",children:l("contact")})]})]}),h.jsx("div",{className:"mt-6 pt-6 border-t border-border text-center text-xs text-foreground-muted","data-matrix-id":"src/components/Layout.tsx:455:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"455","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-6%20pt-6%20border-t%20border-border%20text-center%20text-xs%20text-foreground-muted%22%7D",children:h.jsxs("p",{"data-matrix-id":"src/components/Layout.tsx:456:12","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"456","data-component-file":"Layout.tsx","data-component-name":"p",children:[l("copyright_info"),". ",l("footer.developed_by"),"."]})})]})})]})}const yn=({size:a="md",text:e,className:t,color:n="primary"})=>{const o={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},r={primary:"border-primary-500 border-t-transparent",secondary:"border-neutral-300 dark:border-neutral-700 border-t-transparent",white:"border-white border-t-transparent"};return h.jsxs("div",{className:F("flex flex-col items-center justify-center",t),"data-matrix-id":"src/components/LoadingSpinner.tsx:30:4","data-matrix-name":"div","data-component-path":"src/components/LoadingSpinner.tsx","data-component-line":"30","data-component-file":"LoadingSpinner.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[h.jsx("div",{className:F("animate-spin rounded-full border-2",o[a],r[n]),"data-matrix-id":"src/components/LoadingSpinner.tsx:31:6","data-matrix-name":"div","data-component-path":"src/components/LoadingSpinner.tsx","data-component-line":"31","data-component-file":"LoadingSpinner.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D"}),e&&h.jsx("span",{className:"mt-2 text-sm font-medium text-foreground-secondary","data-matrix-id":"src/components/LoadingSpinner.tsx:39:8","data-matrix-name":"span","data-component-path":"src/components/LoadingSpinner.tsx","data-component-line":"39","data-component-file":"LoadingSpinner.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22mt-2%20text-sm%20font-medium%20text-foreground-secondary%22%7D",children:e})]})};class kr extends L.Component{constructor(t){super(t);We(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1,isSupabaseError:!1}}static getDerivedStateFromError(t){const n=t.message.toLowerCase().includes("supabase");return{hasError:!0,error:t,isSupabaseError:n}}componentDidCatch(t,n){console.error("错误边界捕获到错误:",t,n),this.setState({errorInfo:n}),t.message.toLowerCase().includes("supabase")&&(console.log("检测到Supabase相关错误，尝试恢复..."),setTimeout(()=>{window.location.reload()},3e3))}render(){return this.state.hasError?this.props.fallback||h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center","data-matrix-id":"src/components/ErrorBoundary.tsx:65:8","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"65","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-br%20from-slate-900%20via-purple-900%20to-slate-900%20flex%20items-center%20justify-center%22%7D",children:h.jsxs("div",{className:"text-center p-8 bg-white/10 backdrop-blur-md rounded-xl shadow-2xl max-w-md mx-auto border border-white/20","data-matrix-id":"src/components/ErrorBoundary.tsx:66:10","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"66","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20p-8%20bg-white%2F10%20backdrop-blur-md%20rounded-xl%20shadow-2xl%20max-w-md%20mx-auto%20border%20border-white%2F20%22%7D",children:[h.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-6","data-matrix-id":"src/components/ErrorBoundary.tsx:67:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"67","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-orange-500%20rounded-full%20flex%20items-center%20justify-center%20mx-auto%20mb-6%22%7D",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","data-matrix-id":"src/components/ErrorBoundary.tsx:68:14","data-matrix-name":"svg","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"68","data-component-file":"ErrorBoundary.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22w-8%20h-8%20text-white%22%2C%22fill%22%3A%22none%22%2C%22stroke%22%3A%22currentColor%22%2C%22viewBox%22%3A%220%200%2024%2024%22%7D",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),h.jsx("h1",{className:"text-2xl font-bold text-white mb-4","data-matrix-id":"src/components/ErrorBoundary.tsx:72:12","data-matrix-name":"h1","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"72","data-component-file":"ErrorBoundary.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-white%20mb-4%22%7D",children:"蕾奥AI"}),h.jsx("p",{className:"text-gray-300 mb-6","data-matrix-id":"src/components/ErrorBoundary.tsx:73:12","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"73","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-300%20mb-6%22%7D",children:this.state.isSupabaseError?"服务连接暂时不可用，正在自动尝试恢复...":"应用遇到问题，正在尝试恢复..."}),h.jsxs("div",{className:"space-y-3","data-matrix-id":"src/components/ErrorBoundary.tsx:78:12","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"78","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[h.jsx("button",{onClick:this.handleRetry,className:"w-full bg-orange-500 text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors font-medium","data-matrix-id":"src/components/ErrorBoundary.tsx:79:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"79","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22w-full%20bg-orange-500%20text-white%20px-6%20py-3%20rounded-lg%20hover%3Abg-orange-600%20transition-colors%20font-medium%22%7D",children:"重试"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/20 text-white px-6 py-3 rounded-lg hover:bg-white/30 transition-colors font-medium backdrop-blur-sm","data-matrix-id":"src/components/ErrorBoundary.tsx:85:14","data-matrix-name":"button","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"85","data-component-file":"ErrorBoundary.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-full%20bg-white%2F20%20text-white%20px-6%20py-3%20rounded-lg%20hover%3Abg-white%2F30%20transition-colors%20font-medium%20backdrop-blur-sm%22%7D",children:"刷新页面"})]}),h.jsx("p",{className:"text-xs text-gray-400 mt-6","data-matrix-id":"src/components/ErrorBoundary.tsx:92:12","data-matrix-name":"p","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"92","data-component-file":"ErrorBoundary.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-gray-400%20mt-6%22%7D",children:"如果问题持续，请联系我们的技术支持团队"}),this.state.error&&h.jsxs("details",{className:"mt-4 text-xs","data-matrix-id":"src/components/ErrorBoundary.tsx:96:14","data-matrix-name":"details","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"96","data-component-file":"ErrorBoundary.tsx","data-component-name":"details","data-component-content":"%7B%22className%22%3A%22mt-4%20text-xs%22%7D",children:[h.jsx("summary",{className:"text-gray-400 cursor-pointer","data-matrix-id":"src/components/ErrorBoundary.tsx:97:16","data-matrix-name":"summary","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"97","data-component-file":"ErrorBoundary.tsx","data-component-name":"summary","data-component-content":"%7B%22className%22%3A%22text-gray-400%20cursor-pointer%22%7D",children:"查看错误详情"}),h.jsx("pre",{className:"text-red-300 mt-2 p-2 bg-black/20 rounded text-left overflow-auto max-h-32","data-matrix-id":"src/components/ErrorBoundary.tsx:98:16","data-matrix-name":"pre","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"98","data-component-file":"ErrorBoundary.tsx","data-component-name":"pre","data-component-content":"%7B%22className%22%3A%22text-red-300%20mt-2%20p-2%20bg-black%2F20%20rounded%20text-left%20overflow-auto%20max-h-32%22%7D",children:this.state.error.stack})]})]})}):this.props.children}}const ce={primary:{300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c"},neutral:{50:"#fafafa",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",800:"#262626",900:"#171717",950:"#0a0a0a"}},Yd={light:{"--color-primary":ce.primary[500],"--color-primary-dark":ce.primary[600],"--color-primary-light":ce.primary[400],"--color-background":"#ffffff","--color-surface":"#f8fafc","--color-border":ce.neutral[200],"--color-text-primary":ce.neutral[900],"--color-text-secondary":ce.neutral[600],"--color-text-muted":ce.neutral[500],"--shadow-sm":"0 1px 2px 0 rgb(0 0 0 / 0.05)","--shadow-md":"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)","--shadow-lg":"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},dark:{"--color-primary":ce.primary[400],"--color-primary-dark":ce.primary[500],"--color-primary-light":ce.primary[300],"--color-background":ce.neutral[950],"--color-surface":ce.neutral[900],"--color-border":ce.neutral[800],"--color-text-primary":ce.neutral[50],"--color-text-secondary":ce.neutral[300],"--color-text-muted":ce.neutral[400],"--shadow-sm":"0 1px 2px 0 rgb(0 0 0 / 0.3)","--shadow-md":"0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3)","--shadow-lg":"0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3)"}};function Zd(a){const e=Yd[a],t=document.documentElement;Object.entries(e).forEach(([n,o])=>{t.style.setProperty(n,o)})}const j=a=>typeof a=="string",Rt=()=>{let a,e;const t=new Promise((n,o)=>{a=n,e=o});return t.resolve=a,t.reject=e,t},to=a=>a==null?"":""+a,Qd=(a,e,t)=>{a.forEach(n=>{e[n]&&(t[n]=e[n])})},eu=/###/g,no=a=>a&&a.indexOf("###")>-1?a.replace(eu,"."):a,ao=a=>!a||j(a),$t=(a,e,t)=>{const n=j(e)?e.split("."):e;let o=0;for(;o<n.length-1;){if(ao(a))return{};const r=no(n[o]);!a[r]&&t&&(a[r]=new t),Object.prototype.hasOwnProperty.call(a,r)?a=a[r]:a={},++o}return ao(a)?{}:{obj:a,k:no(n[o])}},oo=(a,e,t)=>{const{obj:n,k:o}=$t(a,e,Object);if(n!==void 0||e.length===1){n[o]=t;return}let r=e[e.length-1],s=e.slice(0,e.length-1),i=$t(a,s,Object);for(;i.obj===void 0&&s.length;)r=`${s[s.length-1]}.${r}`,s=s.slice(0,s.length-1),i=$t(a,s,Object),i!=null&&i.obj&&typeof i.obj[`${i.k}.${r}`]<"u"&&(i.obj=void 0);i.obj[`${i.k}.${r}`]=t},tu=(a,e,t,n)=>{const{obj:o,k:r}=$t(a,e,Object);o[r]=o[r]||[],o[r].push(t)},ln=(a,e)=>{const{obj:t,k:n}=$t(a,e);if(t&&Object.prototype.hasOwnProperty.call(t,n))return t[n]},nu=(a,e,t)=>{const n=ln(a,t);return n!==void 0?n:ln(e,t)},Lr=(a,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in a?j(a[n])||a[n]instanceof String||j(e[n])||e[n]instanceof String?t&&(a[n]=e[n]):Lr(a[n],e[n],t):a[n]=e[n]);return a},ft=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var au={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ou=a=>j(a)?a.replace(/[&<>"'\/]/g,e=>au[e]):a;class ru{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const su=[" ",",","?","!",";"],iu=new ru(20),cu=(a,e,t)=>{e=e||"",t=t||"";const n=su.filter(s=>e.indexOf(s)<0&&t.indexOf(s)<0);if(n.length===0)return!0;const o=iu.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`);let r=!o.test(a);if(!r){const s=a.indexOf(t);s>0&&!o.test(a.substring(0,s))&&(r=!0)}return r},na=(a,e,t=".")=>{if(!a)return;if(a[e])return Object.prototype.hasOwnProperty.call(a,e)?a[e]:void 0;const n=e.split(t);let o=a;for(let r=0;r<n.length;){if(!o||typeof o!="object")return;let s,i="";for(let c=r;c<n.length;++c)if(c!==r&&(i+=t),i+=n[c],s=o[i],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;r+=c-r+1;break}o=s}return o},Ut=a=>a==null?void 0:a.replace("_","-"),lu={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,e){var t,n;(n=(t=console==null?void 0:console[a])==null?void 0:t.apply)==null||n.call(t,console,e)}};class dn{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||lu,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,o){return o&&!this.debug?null:(j(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new dn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new dn(this.logger,e)}}var Te=new dn;class bn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const o=this.observers[n].get(t)||0;this.observers[n].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,r])=>{for(let s=0;s<r;s++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,r])=>{for(let s=0;s<r;s++)o.apply(o,[e,...t])})}}class ro extends bn{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,o={}){var l,d;const r=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],n&&(Array.isArray(n)?i.push(...n):j(n)&&r?i.push(...n.split(r)):i.push(n)));const c=ln(this.data,i);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=i[0],t=i[1],n=i.slice(2).join(".")),c||!s||!j(n)?c:na((d=(l=this.data)==null?void 0:l[e])==null?void 0:d[t],n,r)}addResource(e,t,n,o,r={silent:!1}){const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(i=e.split("."),o=t,t=i[1]),this.addNamespaces(t),oo(this.data,i,o),r.silent||this.emit("added",e,t,n,o)}addResources(e,t,n,o={silent:!1}){for(const r in n)(j(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,o,r,s={silent:!1,skipCopy:!1}){let i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),o=n,n=t,t=i[1]),this.addNamespaces(t);let c=ln(this.data,i)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),o?Lr(c,n,r):c={...c,...n},oo(this.data,i,c),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var Cr={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,e,t,n,o){return a.forEach(r=>{var s;e=((s=this.processors[r])==null?void 0:s.process(e,t,n,o))??e}),e}};const Tr=Symbol("i18next/PATH_KEY");function du(){const a=[],e=Object.create(null);let t;return e.get=(n,o)=>{var r;return(r=t==null?void 0:t.revoke)==null||r.call(t),o===Tr?a:(a.push(o),t=Proxy.revocable(n,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function aa(a,e){const{[Tr]:t}=a(du());return t.join((e==null?void 0:e.keySeparator)??".")}const so={},Rn=a=>!j(a)&&typeof a!="boolean"&&typeof a!="number";class un extends bn{constructor(e,t={}){super(),Qd(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Te.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(e==null)return!1;const o=this.resolve(e,n);if((o==null?void 0:o.res)===void 0)return!1;const r=Rn(o.res);return!(n.returnObjects===!1&&r)}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,i=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!cu(e,n,o);if(s&&!i){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:j(r)?[r]:r};const l=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(l[0])>-1)&&(r=l.shift()),e=l.join(o)}return{key:e,namespaces:j(r)?[r]:r}}translate(e,t,n){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=aa(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);const r=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:i,namespaces:c}=this.extractFromKey(e[e.length-1],o),l=c[c.length-1];let d=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const p=o.lng||this.language,m=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((p==null?void 0:p.toLowerCase())==="cimode")return m?r?{res:`${l}${d}${i}`,usedKey:i,exactUsedKey:i,usedLng:p,usedNS:l,usedParams:this.getUsedParamsDetails(o)}:`${l}${d}${i}`:r?{res:i,usedKey:i,exactUsedKey:i,usedLng:p,usedNS:l,usedParams:this.getUsedParamsDetails(o)}:i;const u=this.resolve(e,o);let x=u==null?void 0:u.res;const y=(u==null?void 0:u.usedKey)||i,b=(u==null?void 0:u.exactUsedKey)||i,E=["[object Number]","[object Function]","[object RegExp]"],f=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,w=o.count!==void 0&&!j(o.count),_=un.hasDefaultValue(o),v=w?this.pluralResolver.getSuffix(p,o.count,o):"",A=o.ordinal&&w?this.pluralResolver.getSuffix(p,o.count,{ordinal:!1}):"",k=w&&!o.ordinal&&o.count===0,S=k&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${v}`]||o[`defaultValue${A}`]||o.defaultValue;let O=x;g&&!x&&_&&(O=S);const N=Rn(O),C=Object.prototype.toString.apply(O);if(g&&O&&N&&E.indexOf(C)<0&&!(j(f)&&Array.isArray(O))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,O,{...o,ns:c}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(u.res=V,u.usedParams=this.getUsedParamsDetails(o),u):V}if(s){const V=Array.isArray(O),q=V?[]:{},le=V?b:y;for(const W in O)if(Object.prototype.hasOwnProperty.call(O,W)){const K=`${le}${s}${W}`;_&&!x?q[W]=this.translate(K,{...o,defaultValue:Rn(S)?S[W]:void 0,joinArrays:!1,ns:c}):q[W]=this.translate(K,{...o,joinArrays:!1,ns:c}),q[W]===K&&(q[W]=O[W])}x=q}}else if(g&&j(f)&&Array.isArray(x))x=x.join(f),x&&(x=this.extendTranslation(x,e,o,n));else{let V=!1,q=!1;!this.isValidLookup(x)&&_&&(V=!0,x=S),this.isValidLookup(x)||(q=!0,x=i);const W=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&q?void 0:x,K=_&&S!==x&&this.options.updateMissing;if(q||V||K){if(this.logger.log(K?"updateKey":"missingKey",p,l,i,K?S:x),s){const z=this.resolve(i,{...o,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&P&&P[0])for(let z=0;z<P.length;z++)M.push(P[z]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(o.lng||this.language):M.push(o.lng||this.language);const G=(z,I,H)=>{var te;const U=_&&H!==x?H:W;this.options.missingKeyHandler?this.options.missingKeyHandler(z,l,I,U,K,o):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(z,l,I,U,K,o),this.emit("missingKey",z,l,I,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&w?M.forEach(z=>{const I=this.pluralResolver.getSuffixes(z,o);k&&o[`defaultValue${this.options.pluralSeparator}zero`]&&I.indexOf(`${this.options.pluralSeparator}zero`)<0&&I.push(`${this.options.pluralSeparator}zero`),I.forEach(H=>{G([z],i+H,o[`defaultValue${H}`]||S)})}):G(M,i,S))}x=this.extendTranslation(x,e,o,u,n),q&&x===i&&this.options.appendNamespaceToMissingKey&&(x=`${l}${d}${i}`),(q||V)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${d}${i}`:i,V?x:void 0,o))}return r?(u.res=x,u.usedParams=this.getUsedParamsDetails(o),u):x}extendTranslation(e,t,n,o,r){var c,l;if((c=this.i18nFormat)!=null&&c.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=j(e)&&(((l=n==null?void 0:n.interpolation)==null?void 0:l.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const u=e.match(this.interpolator.nestingRegexp);p=u&&u.length}let m=n.replace&&!j(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||o.usedLng,n),d){const u=e.match(this.interpolator.nestingRegexp),x=u&&u.length;p<x&&(n.nest=!1)}!n.lng&&o&&o.res&&(n.lng=this.language||o.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...u)=>(r==null?void 0:r[0])===u[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${u[0]} in key: ${t[0]}`),null):this.translate(...u,t),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,i=j(s)?[s]:s;return e!=null&&(i!=null&&i.length)&&n.applyPostProcessor!==!1&&(e=Cr.handle(i,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,o,r,s,i;return j(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const l=this.extractFromKey(c,t),d=l.key;o=d;let p=l.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=t.count!==void 0&&!j(t.count),u=m&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(j(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(b=>{var E,f;this.isValidLookup(n)||(i=b,!so[`${y[0]}-${b}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((f=this.utils)!=null&&f.hasLoadedNamespace(i))&&(so[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${o}" for languages "${y.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(g=>{var v;if(this.isValidLookup(n))return;s=g;const w=[d];if((v=this.i18nFormat)!=null&&v.addLookupKeys)this.i18nFormat.addLookupKeys(w,d,g,b,t);else{let A;m&&(A=this.pluralResolver.getSuffix(g,t.count,t));const k=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(t.ordinal&&A.indexOf(S)===0&&w.push(d+A.replace(S,this.options.pluralSeparator)),w.push(d+A),u&&w.push(d+k)),x){const O=`${d}${this.options.contextSeparator||"_"}${t.context}`;w.push(O),m&&(t.ordinal&&A.indexOf(S)===0&&w.push(O+A.replace(S,this.options.pluralSeparator)),w.push(O+A),u&&w.push(O+k))}}let _;for(;_=w.pop();)this.isValidLookup(n)||(r=_,n=this.getResource(g,b,_,t))}))})}),{res:n,usedKey:o,exactUsedKey:r,usedLng:s,usedNS:i}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n,o={}){var r;return(r=this.i18nFormat)!=null&&r.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!j(e.replace);let o=n?e.replace:e;if(n&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!n){o={...o};for(const r of t)delete o[r]}return o}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}class io{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Te.create("languageUtils")}getScriptPartFromCode(e){if(e=Ut(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Ut(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(j(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const o=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const o=this.getScriptPartFromCode(n);if(this.isSupportedCode(o))return t=o;const r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),j(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],r=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return j(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):j(e)&&r(this.formatLanguageCode(e)),n.forEach(s=>{o.indexOf(s)<0&&r(this.formatLanguageCode(s))}),o}}const co={zero:0,one:1,two:2,few:3,many:4,other:5},lo={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class uu{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Te.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Ut(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:o});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let s;try{s=new Intl.PluralRules(n,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),lo;if(!e.match(/-|_/))return lo;const c=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(c,t)}return this.pluralRulesCache[r]=s,s}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((o,r)=>co[o]-co[r]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,n={}){const o=this.getRule(e,n);return o?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const uo=(a,e,t,n=".",o=!0)=>{let r=nu(a,e,t);return!r&&o&&j(t)&&(r=na(a,t,n),r===void 0&&(r=na(e,t,n))),r},In=a=>a.replace(/\$/g,"$$$$");class pu{constructor(e={}){var t;this.logger=Te.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:o,prefix:r,prefixEscaped:s,suffix:i,suffixEscaped:c,formatSeparator:l,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:u,nestingSuffix:x,nestingSuffixEscaped:y,nestingOptionsSeparator:b,maxReplaces:E,alwaysFormat:f}=e.interpolation;this.escape=t!==void 0?t:ou,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=r?ft(r):s||"{{",this.suffix=i?ft(i):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?ft(m):u||ft("$t("),this.nestingSuffix=x?ft(x):y||ft(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=E||1e3,this.alwaysFormat=f!==void 0?f:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>(t==null?void 0:t.source)===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,o){var u;let r,s,i;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=x=>{if(x.indexOf(this.formatSeparator)<0){const f=uo(t,c,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(f,void 0,n,{...o,...t,interpolationkey:x}):f}const y=x.split(this.formatSeparator),b=y.shift().trim(),E=y.join(this.formatSeparator).trim();return this.format(uo(t,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),E,n,{...o,...t,interpolationkey:b})};this.resetRegExp();const d=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,p=((u=o==null?void 0:o.interpolation)==null?void 0:u.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>In(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?In(this.escape(x)):In(x)}].forEach(x=>{for(i=0;r=x.regex.exec(e);){const y=r[1].trim();if(s=l(y),s===void 0)if(typeof d=="function"){const E=d(e,r,o);s=j(E)?E:""}else if(o&&Object.prototype.hasOwnProperty.call(o,y))s="";else if(p){s=r[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),s="";else!j(s)&&!this.useRawValueToEscape&&(s=to(s));const b=x.safeValue(s);if(e=e.replace(r[0],b),p?(x.regex.lastIndex+=s.length,x.regex.lastIndex-=r[0].length):x.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,t,n={}){let o,r,s;const i=(c,l)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const p=c.split(new RegExp(`${d}[ ]*{`));let m=`{${p[1]}`;c=p[0],m=this.interpolate(m,s);const u=m.match(/'/g),x=m.match(/"/g);(((u==null?void 0:u.length)??0)%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{s=JSON.parse(m),l&&(s={...l,...s})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${m}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;o=this.nestingRegexp.exec(e);){let c=[];s={...n},s=s.replace&&!j(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(l!==-1&&(c=o[1].slice(l).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),o[1]=o[1].slice(0,l)),r=t(i.call(this,o[1].trim(),s),s),r&&o[0]===e&&!j(r))return r;j(r)||(r=to(r)),r||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),r=""),c.length&&(r=c.reduce((d,p)=>this.format(d,p,n.lng,{...n,interpolationkey:o[1].trim()}),r.trim())),e=e.replace(o[0],r),this.regexp.lastIndex=0}return e}}const hu=a=>{let e=a.toLowerCase().trim();const t={};if(a.indexOf("(")>-1){const n=a.split("(");e=n[0].toLowerCase().trim();const o=n[1].substring(0,n[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(s=>{if(s){const[i,...c]=s.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),d=i.trim();t[d]||(t[d]=l),l==="false"&&(t[d]=!1),l==="true"&&(t[d]=!0),isNaN(l)||(t[d]=parseInt(l,10))}})}return{formatName:e,formatOptions:t}},po=a=>{const e={};return(t,n,o)=>{let r=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(r={...r,[o.interpolationkey]:void 0});const s=n+JSON.stringify(r);let i=e[s];return i||(i=a(Ut(n),o),e[s]=i),i(t)}},mu=a=>(e,t,n)=>a(Ut(t),n)(e);class fu{constructor(e={}){this.logger=Te.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?po:mu;this.formats={number:n((o,r)=>{const s=new Intl.NumberFormat(o,{...r});return i=>s.format(i)}),currency:n((o,r)=>{const s=new Intl.NumberFormat(o,{...r,style:"currency"});return i=>s.format(i)}),datetime:n((o,r)=>{const s=new Intl.DateTimeFormat(o,{...r});return i=>s.format(i)}),relativetime:n((o,r)=>{const s=new Intl.RelativeTimeFormat(o,{...r});return i=>s.format(i,r.range||"day")}),list:n((o,r)=>{const s=new Intl.ListFormat(o,{...r});return i=>s.format(i)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=po(t)}format(e,t,n,o={}){const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(i=>i.indexOf(")")>-1)){const i=r.findIndex(c=>c.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,i)].join(this.formatSeparator)}return r.reduce((i,c)=>{var p;const{formatName:l,formatOptions:d}=hu(c);if(this.formats[l]){let m=i;try{const u=((p=o==null?void 0:o.formatParams)==null?void 0:p[o.interpolationkey])||{},x=u.locale||u.lng||o.locale||o.lng||n;m=this.formats[l](i,x,{...d,...o,...u})}catch(u){this.logger.warn(u)}return m}else this.logger.warn(`there was no format function for ${l}`);return i},e)}}const gu=(a,e)=>{a.pending[e]!==void 0&&(delete a.pending[e],a.pendingCount--)};class xu extends bn{constructor(e,t,n,o={}){var r,s;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=o,this.logger=Te.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(s=(r=this.backend)==null?void 0:r.init)==null||s.call(r,n,o.backend,o)}queueLoad(e,t,n,o){const r={},s={},i={},c={};return e.forEach(l=>{let d=!0;t.forEach(p=>{const m=`${l}|${p}`;!n.reload&&this.store.hasResourceBundle(l,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?s[m]===void 0&&(s[m]=!0):(this.state[m]=1,d=!1,s[m]===void 0&&(s[m]=!0),r[m]===void 0&&(r[m]=!0),c[p]===void 0&&(c[p]=!0)))}),d||(i[l]=!0)}),(Object.keys(r).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(r),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(c)}}loaded(e,t,n){const o=e.split("|"),r=o[0],s=o[1];t&&this.emit("failedLoading",r,s,t),!t&&n&&this.store.addResourceBundle(r,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const i={};this.queue.forEach(c=>{tu(c.loaded,[r],s),gu(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{i[l]||(i[l]={});const d=c.loaded[l];d.length&&d.forEach(p=>{i[l][p]===void 0&&(i[l][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(c=>!c.done)}read(e,t,n,o=0,r=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:r,callback:s});return}this.readingCalls++;const i=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(l&&d&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,o+1,r*2,s)},r);return}s(l,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const l=c(e,t);l&&typeof l.then=="function"?l.then(d=>i(null,d)).catch(i):i(null,l)}catch(l){i(l)}return}return c(e,t,i)}prepareLoading(e,t,n={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();j(e)&&(e=this.languageUtils.toResolveHierarchy(e)),j(t)&&(t=[t]);const r=this.queueLoad(e,t,n,o);if(!r.toLoad.length)return r.pending.length||o(),null;r.toLoad.forEach(s=>{this.loadOne(s)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),o=n[0],r=n[1];this.read(o,r,"read",void 0,void 0,(s,i)=>{s&&this.logger.warn(`${t}loading namespace ${r} for language ${o} failed`,s),!s&&i&&this.logger.log(`${t}loaded namespace ${r} for language ${o}`,i),this.loaded(e,s,i)})}saveMissing(e,t,n,o,r,s={},i=()=>{}){var c,l,d,p,m;if((l=(c=this.services)==null?void 0:c.utils)!=null&&l.hasLoadedNamespace&&!((p=(d=this.services)==null?void 0:d.utils)!=null&&p.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((m=this.backend)!=null&&m.create){const u={...s,isUpdate:r},x=this.backend.create.bind(this.backend);if(x.length<6)try{let y;x.length===5?y=x(e,t,n,o,u):y=x(e,t,n,o),y&&typeof y.then=="function"?y.then(b=>i(null,b)).catch(i):i(null,y)}catch(y){i(y)}else x(e,t,n,o,i,u)}!e||!e[0]||this.store.addResource(e[0],t,n,o)}}}const ho=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let e={};if(typeof a[1]=="object"&&(e=a[1]),j(a[1])&&(e.defaultValue=a[1]),j(a[2])&&(e.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const t=a[3]||a[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),mo=a=>{var e,t;return j(a.ns)&&(a.ns=[a.ns]),j(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),j(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),((t=(e=a.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a},en=()=>{},yu=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(t=>{typeof a[t]=="function"&&(a[t]=a[t].bind(a))})};class zt extends bn{constructor(e={},t){if(super(),this.options=mo(e),this.services={},this.logger=Te,this.modules={external:[]},yu(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(j(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=ho();this.options={...n,...this.options,...mo(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Te.init(o(this.modules.logger),this.options):Te.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:l=fu;const d=new io(this.options);this.store=new ro(this.options.resources,this.options);const p=this.services;p.logger=Te,p.resourceStore=this.store,p.languageUtils=d,p.pluralResolver=new uu(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),l&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(p.formatter=o(l),p.formatter.init&&p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new pu(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new xu(o(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",(u,...x)=>{this.emit(u,...x)}),this.modules.languageDetector&&(p.languageDetector=o(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=o(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new un(this.services,this.options),this.translator.on("*",(u,...x)=>{this.emit(u,...x)}),this.modules.external.forEach(u=>{u.init&&u.init(this)})}if(this.format=this.options.interpolation.format,t||(t=en),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=(...d)=>this.store[l](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=(...d)=>(this.store[l](...d),this)});const i=Rt(),c=()=>{const l=(d,p)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(p),t(d,p)};if(this.languages&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),i}loadResources(e,t=en){var r,s;let n=t;const o=j(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],c=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(p=>{p!=="cimode"&&i.indexOf(p)<0&&i.push(p)})};o?c(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(s=(r=this.options.preload)==null?void 0:r.forEach)==null||s.call(r,l=>c(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,t,n){const o=Rt();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=en),this.services.backendConnector.reload(e,t,r=>{o.resolve(),n(r)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Cr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=Rt();this.emit("languageChanging",e);const o=i=>{this.language=i,this.languages=this.services.languageUtils.toResolveHierarchy(i),this.resolvedLanguage=void 0,this.setResolvedLanguage(i)},r=(i,c)=>{c?this.isLanguageChangingTo===e&&(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...l)=>this.t(...l)),t&&t(i,(...l)=>this.t(...l))},s=i=>{var d,p;!e&&!i&&this.services.languageDetector&&(i=[]);const c=j(i)?i:i&&i[0],l=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(j(i)?[i]:i);l&&(this.language||o(l),this.translator.language||this.translator.changeLanguage(l),(p=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||p.call(d,l)),this.loadResources(l,m=>{r(m,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),n}getFixedT(e,t,n){const o=(r,s,...i)=>{let c;typeof s!="object"?c=this.options.overloadTranslationOptionHandler([r,s].concat(i)):c={...s},c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);const l=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(r)?d=r.map(p=>(typeof p=="function"&&(p=aa(p,{...this.options,...s})),`${c.keyPrefix}${l}${p}`)):(typeof r=="function"&&(r=aa(r,{...this.options,...s})),d=c.keyPrefix?`${c.keyPrefix}${l}${r}`:r),this.t(d,c)};return j(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const s=(i,c)=>{const l=this.services.backendConnector.state[`${i}|${c}`];return l===-1||l===0||l===2};if(t.precheck){const i=t.precheck(this,s);if(i!==void 0)return i}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,e)&&(!o||s(r,e)))}loadNamespaces(e,t){const n=Rt();return this.options.ns?(j(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{n.resolve(),t&&t(o)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Rt();j(e)&&(e=[e]);const o=this.options.preload||[],r=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return r.length?(this.options.preload=o.concat(r),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}dir(e){var o,r;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const s=new Intl.Locale(e);if(s&&s.getTextInfo){const i=s.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((r=this.services)==null?void 0:r.languageUtils)||new io(ho());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new zt(e,t)}cloneInstance(e={},t=en){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},r=new zt(o);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(i=>{r[i]=this[i]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const i=Object.keys(this.store.data).reduce((c,l)=>(c[l]={...this.store.data[l]},c[l]=Object.keys(c[l]).reduce((d,p)=>(d[p]={...c[l][p]},d),c[l]),c),{});r.store=new ro(i,o),r.services.resourceStore=r.store}return r.translator=new un(r.services,o),r.translator.on("*",(i,...c)=>{r.emit(i,...c)}),r.init(o,t),r.translator.options=o,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const oe=zt.createInstance();oe.createInstance=zt.createInstance;oe.createInstance;oe.dir;oe.init;oe.loadResources;oe.reloadResources;oe.use;oe.changeLanguage;oe.getFixedT;oe.t;oe.exists;oe.setDefaultNamespace;oe.hasLoadedNamespace;oe.loadNamespaces;oe.loadLanguages;const{slice:bu,forEach:vu}=[];function wu(a){return vu.call(bu.call(arguments,1),e=>{if(e)for(const t in e)a[t]===void 0&&(a[t]=e[t])}),a}function Au(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(a))}const fo=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,_u=function(a,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let r=`${a}=${o}`;if(n.maxAge>0){const s=n.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");r+=`; Max-Age=${Math.floor(s)}`}if(n.domain){if(!fo.test(n.domain))throw new TypeError("option domain is invalid");r+=`; Domain=${n.domain}`}if(n.path){if(!fo.test(n.path))throw new TypeError("option path is invalid");r+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r},go={create(a,e,t,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),n&&(o.domain=n),document.cookie=_u(a,e,o)},read(a){const e=`${a}=`,t=document.cookie.split(";");for(let n=0;n<t.length;n++){let o=t[n];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(a,e){this.create(a,"",-1,e)}};var Su={name:"cookie",lookup(a){let{lookupCookie:e}=a;if(e&&typeof document<"u")return go.read(e)||void 0},cacheUserLanguage(a,e){let{lookupCookie:t,cookieMinutes:n,cookieDomain:o,cookieOptions:r}=e;t&&typeof document<"u"&&go.create(t,a,n,o,r)}},Eu={name:"querystring",lookup(a){var n;let{lookupQuerystring:e}=a,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const s=o.substring(1).split("&");for(let i=0;i<s.length;i++){const c=s[i].indexOf("=");c>0&&s[i].substring(0,c)===e&&(t=s[i].substring(c+1))}}return t}},ku={name:"hash",lookup(a){var o;let{lookupHash:e,lookupFromHashIndex:t}=a,n;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const s=r.substring(1);if(e){const i=s.split("&");for(let c=0;c<i.length;c++){const l=i[c].indexOf("=");l>0&&i[c].substring(0,l)===e&&(n=i[c].substring(l+1))}}if(n)return n;if(!n&&t>-1){const i=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?(o=i[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}}}return n}};let gt=null;const xo=()=>{if(gt!==null)return gt;try{if(gt=typeof window<"u"&&window.localStorage!==null,!gt)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{gt=!1}return gt};var Lu={name:"localStorage",lookup(a){let{lookupLocalStorage:e}=a;if(e&&xo())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupLocalStorage:t}=e;t&&xo()&&window.localStorage.setItem(t,a)}};let xt=null;const yo=()=>{if(xt!==null)return xt;try{if(xt=typeof window<"u"&&window.sessionStorage!==null,!xt)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{xt=!1}return xt};var Cu={name:"sessionStorage",lookup(a){let{lookupSessionStorage:e}=a;if(e&&yo())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(a,e){let{lookupSessionStorage:t}=e;t&&yo()&&window.sessionStorage.setItem(t,a)}},Tu={name:"navigator",lookup(a){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:n,language:o}=navigator;if(t)for(let r=0;r<t.length;r++)e.push(t[r]);n&&e.push(n),o&&e.push(o)}return e.length>0?e:void 0}},Ou={name:"htmlTag",lookup(a){let{htmlTag:e}=a,t;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},Pu={name:"path",lookup(a){var o;let{lookupFromPathIndex:e}=a;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},Nu={name:"subdomain",lookup(a){var o,r;let{lookupFromSubdomainIndex:e}=a;const t=typeof e=="number"?e+1:1,n=typeof window<"u"&&((r=(o=window.location)==null?void 0:o.hostname)==null?void 0:r.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[t]}};let Or=!1;try{document.cookie,Or=!0}catch{}const Pr=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Or||Pr.splice(1,1);const Ru=()=>({order:Pr,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class Nr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=wu(t,this.options||{},Ru()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Su),this.addDetector(Eu),this.addDetector(Lu),this.addDetector(Cu),this.addDetector(Tu),this.addDetector(Ou),this.addDetector(Pu),this.addDetector(Nu),this.addDetector(ku)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(n=>{if(this.detectors[n]){let o=this.detectors[n].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(n=>n!=null&&!Au(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Nr.type="languageDetector";function oa(a){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oa(a)}function Rr(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":oa(XMLHttpRequest))==="object"}function Iu(a){return!!a&&typeof a.then=="function"}function ju(a){return Iu(a)?a:Promise.resolve(a)}function bo(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,n)}return t}function vo(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bo(Object(t),!0).forEach(function(n){Du(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):bo(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function Du(a,e,t){return(e=Bu(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Bu(a){var e=$u(a,"string");return at(e)=="symbol"?e:e+""}function $u(a,e){if(at(a)!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,e);if(at(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function at(a){"@babel/helpers - typeof";return at=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(a)}var He=typeof fetch=="function"?fetch:void 0;typeof global<"u"&&global.fetch?He=global.fetch:typeof window<"u"&&window.fetch&&(He=window.fetch);var Ht;Rr()&&(typeof global<"u"&&global.XMLHttpRequest?Ht=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ht=window.XMLHttpRequest));var pn;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?pn=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(pn=window.ActiveXObject));typeof He!="function"&&(He=void 0);if(!He&&!Ht&&!pn)try{re(()=>import("./browser-ponyfill-CnxgsbQr.js").then(a=>a.b),__vite__mapDeps([0,1])).then(function(a){He=a.default}).catch(function(){})}catch{}var ra=function(e,t){if(t&&at(t)==="object"){var n="";for(var o in t)n+="&"+encodeURIComponent(o)+"="+encodeURIComponent(t[o]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},wo=function(e,t,n,o){var r=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(l){n(null,{status:c.status,data:l})}).catch(n)};if(o){var s=o(e,t);if(s instanceof Promise){s.then(r).catch(n);return}}typeof fetch=="function"?fetch(e,t).then(r).catch(n):He(e,t).then(r).catch(n)},Ao=!1,Fu=function(e,t,n,o){e.queryStringParams&&(t=ra(t,e.queryStringParams));var r=vo({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(r["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(r["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,i=vo({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:r},Ao?{}:s),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{wo(t,i,o,c)}catch(l){if(!s||Object.keys(s).length===0||!l.message||l.message.indexOf("not implemented")<0)return o(l);try{Object.keys(s).forEach(function(d){delete i[d]}),wo(t,i,o,c),Ao=!0}catch(d){o(d)}}},Mu=function(e,t,n,o){n&&at(n)==="object"&&(n=ra("",n).slice(1)),e.queryStringParams&&(t=ra(t,e.queryStringParams));try{var r=Ht?new Ht:new pn("MSXML2.XMLHTTP.3.0");r.open(n?"POST":"GET",t,1),e.crossDomain||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!!e.withCredentials,n&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.overrideMimeType&&r.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var i in s)r.setRequestHeader(i,s[i]);r.onreadystatechange=function(){r.readyState>3&&o(r.status>=400?r.statusText:null,{status:r.status,data:r.responseText})},r.send(n)}catch(c){console&&console.log(c)}},Uu=function(e,t,n,o){if(typeof n=="function"&&(o=n,n=void 0),o=o||function(){},He&&t.indexOf("file:")!==0)return Fu(e,t,n,o);if(Rr()||typeof ActiveXObject=="function")return Mu(e,t,n,o);o(new Error("No fetch and no xhr implementation found!"))};function St(a){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(a)}function _o(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,n)}return t}function jn(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_o(Object(t),!0).forEach(function(n){Ir(a,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):_o(Object(t)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(t,n))})}return a}function zu(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(a,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,jr(n.key),n)}}function qu(a,e,t){return e&&Hu(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function Ir(a,e,t){return(e=jr(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function jr(a){var e=Gu(a,"string");return St(e)=="symbol"?e:e+""}function Gu(a,e){if(St(a)!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var n=t.call(a,e);if(St(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}var Ku=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,n,o){return Ir({},n,o||"")},parseLoadPayload:function(t,n){},request:Uu,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Dr=function(){function a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};zu(this,a),this.services=e,this.options=t,this.allOptions=n,this.type="backend",this.init(e,t,n)}return qu(a,[{key:"init",value:function(t){var n=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=jn(jn(jn({},Ku()),this.options||{}),o),this.allOptions=r,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);St(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(t,n,o){this._readAny(t,t,n,n,o)}},{key:"read",value:function(t,n,o){this._readAny([t],t,[n],n,o)}},{key:"_readAny",value:function(t,n,o,r,s){var i=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,o)),c=ju(c),c.then(function(l){if(!l)return s(null,{});var d=i.services.interpolator.interpolate(l,{lng:t.join("+"),ns:o.join("+")});i.loadUrl(d,s,n,r)})}},{key:"loadUrl",value:function(t,n,o,r){var s=this,i=typeof o=="string"?[o]:o,c=typeof r=="string"?[r]:r,l=this.options.parseLoadPayload(i,c);this.options.request(this.options,t,l,function(d,p){if(p&&(p.status>=500&&p.status<600||!p.status))return n("failed loading "+t+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return n("failed loading "+t+"; status code: "+p.status,!1);if(!p&&d&&d.message){var m=d.message.toLowerCase(),u=["failed","fetch","network","load"].find(function(b){return m.indexOf(b)>-1});if(u)return n("failed loading "+t+": "+d.message,!0)}if(d)return n(d,!1);var x,y;try{typeof p.data=="string"?x=s.options.parse(p.data,o,r):x=p.data}catch{y="failed parsing "+t+" to json"}if(y)return n(y,!1);n(null,x)})}},{key:"create",value:function(t,n,o,r,s){var i=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(n,o,r),l=0,d=[],p=[];t.forEach(function(m){var u=i.options.addPath;typeof i.options.addPath=="function"&&(u=i.options.addPath(m,n));var x=i.services.interpolator.interpolate(u,{lng:m,ns:n});i.options.request(i.options,x,c,function(y,b){l+=1,d.push(y),p.push(b),l===t.length&&typeof s=="function"&&s(d,p)})})}}},{key:"reload",value:function(){var t=this,n=this.services,o=n.backendConnector,r=n.languageUtils,s=n.logger,i=o.language;if(!(i&&i.toLowerCase()==="cimode")){var c=[],l=function(p){var m=r.toResolveHierarchy(p);m.forEach(function(u){c.indexOf(u)<0&&c.push(u)})};l(i),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return l(d)}),c.forEach(function(d){t.allOptions.ns.forEach(function(p){o.read(d,p,"read",null,null,function(m,u){m&&s.warn("loading namespace ".concat(p," for language ").concat(d," failed"),m),!m&&u&&s.log("loaded namespace ".concat(p," for language ").concat(d),u),o.loaded("".concat(d,"|").concat(p),m,u)})})})}}}])}();Dr.type="backend";oe.use(Dr).use(Nr).use(Rl).init({fallbackLng:"zh-CN",supportedLngs:["zh-CN","en-US","zh-TW","ja-JP","ko-KR","fr-FR","de-DE","es-ES","it-IT","pt-PT","ru-RU","ar-SA","hi-IN"],interpolation:{escapeValue:!1},backend:{loadPath:"/locales/{{lng}}.json",requestOptions:{cache:"default"}},detection:{order:["localStorage","navigator","htmlTag"],lookupLocalStorage:"leoai-language",caches:["localStorage"],checkWhitelist:!0},react:{useSuspense:!1,bindI18n:"languageChanged loaded",bindI18nStore:"added removed",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","strong","i"]},load:"all",preload:["zh-CN","en-US"],nonExplicitSupportedLngs:!1,lowerCaseLng:!1,debug:!1,saveMissing:!1,updateMissing:!1,initImmediate:!1});function Vu(){const{t:a,i18n:e}=Vt(),t=jo();return L.useEffect(()=>{const n=t.pathname,o=a("app_name","蕾奥AI"),r=a("app_description","专业AI投资平台");let s=o,i=r;switch(n){case"/":s=`${o} - ${r}`,i=a("home.hero.description","基于先进AI技术，为您提供专业投资分析、商业计划书评估和智能决策支持");break;case"/ai-chat":s=`${a("ai_chat.page_title","AI智能投资问答")} - ${o}`,i=a("ai_chat.page_subtitle","基于先进AI技术的专业投资问答服务，为您的投资决策提供智能支持");break;case"/bp-analysis":s=`${a("bp_analysis.title","商业计划书分析")} - ${o}`,i=a("bp_analysis.hero_subtitle","专业商业计划书分析服务基于先进AI技术，为您的创业项目提供深度洞察和优化建议");break;case"/stories":s=`${a("stories.page_title","我和AI人工智能的故事")} - ${o}`,i=a("stories.page_subtitle","分享AI投融资，工具锐评，学习实践案例");break;default:s=`${o} - ${r}`;break}document.title=s;let c=document.querySelector('meta[name="description"]');c?c.content=i:(c=document.createElement("meta"),c.name="description",c.content=i,document.head.appendChild(c));const l=(m,u)=>{let x=document.querySelector(`meta[property="${m}"]`);x?x.content=u:(x=document.createElement("meta"),x.setAttribute("property",m),x.content=u,document.head.appendChild(x))};l("og:title",s),l("og:description",i);const d=(m,u)=>{let x=document.querySelector(`meta[name="${m}"]`);x?x.content=u:(x=document.createElement("meta"),x.name=m,x.content=u,document.head.appendChild(x))};d("twitter:title",s),d("twitter:description",i);const p=document.documentElement;p.lang=e.language||"zh-CN"},[a,e.language,t.pathname]),null}const Wu=L.lazy(()=>re(()=>import("./Home-COykJ5CD.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),Ju=L.lazy(()=>re(()=>import("./Auth-D--Fh304.js").then(a=>a.A),__vite__mapDeps([22,3,1,20,23,24,17,25,14]))),Xu=L.lazy(()=>re(()=>import("./AdminLogin-CExr411x.js"),__vite__mapDeps([26,3,1,24,17,25,14,20]))),So=L.lazy(()=>re(()=>import("./Profile-Cbw5U1iE.js"),__vite__mapDeps([27,3,1,28,10,29,16,30,18,11,15,31,14,20]))),Yu=L.lazy(()=>re(()=>import("./StoryDetail-IDVOy7VE.js"),__vite__mapDeps([32,3,1,10,16,7,6,15,18,33,17,13,34,20]))),Zu=L.lazy(()=>re(()=>import("./CreateStory-CAaq-bBx.js"),__vite__mapDeps([35,3,1,36,37,16,19,25,10,33,8,38,39,40,20]))),Qu=L.lazy(()=>re(()=>import("./EditStory-Dc7Or0Gi.js"),__vite__mapDeps([41,3,1,36,37,16,19,25,10,33,42,43,40,20]))),ep=L.lazy(()=>re(()=>import("./Stories-CGWAIxt4.js"),__vite__mapDeps([44,3,1,10,16,14,6,17,18,15,45,9,19,20]))),tp=L.lazy(()=>re(()=>import("./UserProfile-Dk42bLvY.js"),__vite__mapDeps([46,3,1,13,18,17,15,34,20]))),np=L.lazy(()=>re(()=>import("./AuthCallback-D9U-Bmy3.js"),__vite__mapDeps([47,3,1,20]))),ap=L.lazy(()=>re(()=>import("./AIChat-CBpaUodr.js"),__vite__mapDeps([48,3,1,10,5,6,7,49,24,17,38,4,15,31,45,8,33,20,50]))),op=L.lazy(()=>re(()=>import("./BPAnalysis-qbyimJbk.js"),__vite__mapDeps([51,3,1,10,29,39,25,11,12,20,37,16,42,40,30,19,6]))),Eo=L.lazy(()=>re(()=>import("./Settings-Cs5cOwks.js"),__vite__mapDeps([52,3,1,28,10,37,4,16,29,39,8,43,23,13,25,42,20]))),rp=L.lazy(()=>re(()=>import("./DebugStories-BOmoVgev.js"),__vite__mapDeps([53,3,1,10,20]))),sp=()=>h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50","data-matrix-id":"src/App.tsx:36:2","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"36","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%20bg-gray-50%22%7D",children:h.jsxs("div",{className:"text-center","data-matrix-id":"src/App.tsx:37:4","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"37","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[h.jsx(yn,{size:"lg","data-matrix-id":"src/App.tsx:38:6","data-matrix-name":"LoadingSpinner","data-component-path":"src/App.tsx","data-component-line":"38","data-component-file":"App.tsx","data-component-name":"LoadingSpinner","data-component-content":"%7B%22size%22%3A%22lg%22%7D"}),h.jsx("p",{className:"mt-4 text-gray-600","data-matrix-id":"src/App.tsx:39:6","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"39","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-4%20text-gray-600%22%7D",children:"Loading..."})]})});function yt({children:a}){const{user:e,loading:t}=Kt(),{t:n}=Vt();return t?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50","data-matrix-id":"src/App.tsx:51:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"51","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%20bg-gray-50%22%7D",children:h.jsxs("div",{className:"text-center","data-matrix-id":"src/App.tsx:52:8","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"52","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[h.jsx(yn,{size:"lg","data-matrix-id":"src/App.tsx:53:10","data-matrix-name":"LoadingSpinner","data-component-path":"src/App.tsx","data-component-line":"53","data-component-file":"App.tsx","data-component-name":"LoadingSpinner","data-component-content":"%7B%22size%22%3A%22lg%22%7D"}),h.jsx("p",{className:"mt-4 text-gray-600","data-matrix-id":"src/App.tsx:54:10","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"54","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-4%20text-gray-600%22%7D",children:n("loading.auth","Verifying authentication...")})]})}):e?h.jsx(h.Fragment,{children:a}):h.jsx(sa,{to:"/auth",replace:!0,"data-matrix-id":"src/App.tsx:61:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"61","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fauth%22%2C%22replace%22%3Atrue%7D"})}function ip({children:a}){const{user:e,loading:t}=Kt();return t?h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50","data-matrix-id":"src/App.tsx:73:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"73","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%20bg-gray-50%22%7D",children:h.jsxs("div",{className:"text-center","data-matrix-id":"src/App.tsx:74:8","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"74","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[h.jsx(yn,{size:"lg","data-matrix-id":"src/App.tsx:75:10","data-matrix-name":"LoadingSpinner","data-component-path":"src/App.tsx","data-component-line":"75","data-component-file":"App.tsx","data-component-name":"LoadingSpinner","data-component-content":"%7B%22size%22%3A%22lg%22%7D"}),h.jsx("p",{className:"mt-4 text-gray-600","data-matrix-id":"src/App.tsx:76:10","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"76","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-4%20text-gray-600%22%7D",children:"Checking authentication..."})]})}):e?h.jsx(sa,{to:"/",replace:!0,"data-matrix-id":"src/App.tsx:83:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"83","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22replace%22%3Atrue%7D"}):h.jsx(h.Fragment,{children:a})}function cp({children:a}){const{actualTheme:e}=ua();return L.useEffect(()=>{Zd(e)},[e]),h.jsx(h.Fragment,{children:a})}function lp(){const[a,e]=L.useState(!1),[t,n]=L.useState(null);return L.useEffect(()=>{(async()=>{try{oe.isInitialized||await new Promise(s=>{const i=()=>{oe.off("initialized",i),s(!0)};oe.on("initialized",i),setTimeout(()=>{oe.off("initialized",i),s(!0)},3e3)}),console.log("App initialized successfully"),e(!0)}catch(s){console.error("App initialization failed:",s),n(s),e(!0)}})();const r=setTimeout(()=>{a||(console.warn("App initialization timeout"),e(!0))},5e3);return()=>clearTimeout(r)},[a]),a?t?h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50","data-matrix-id":"src/App.tsx:164:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"164","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20min-h-screen%20p-4%20bg-gray-50%22%7D",children:h.jsxs("div",{className:"text-center max-w-md","data-matrix-id":"src/App.tsx:165:8","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"165","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20max-w-md%22%7D",children:[h.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4","data-matrix-id":"src/App.tsx:166:10","data-matrix-name":"h1","data-component-path":"src/App.tsx","data-component-line":"166","data-component-file":"App.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-red-600%20mb-4%22%7D",children:"Application Error"}),h.jsx("p",{className:"text-gray-600 mb-4","data-matrix-id":"src/App.tsx:167:10","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"167","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-600%20mb-4%22%7D",children:"Something went wrong while initializing the app."}),h.jsx("div",{className:"p-3 bg-red-50 text-red-800 rounded-md text-sm mb-4","data-matrix-id":"src/App.tsx:168:10","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"168","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-3%20bg-red-50%20text-red-800%20rounded-md%20text-sm%20mb-4%22%7D",children:h.jsx("p",{className:"font-mono","data-matrix-id":"src/App.tsx:169:12","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"169","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-mono%22%7D",children:t.message||"Unknown error"})}),h.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors","data-matrix-id":"src/App.tsx:171:10","data-matrix-name":"button","data-component-path":"src/App.tsx","data-component-line":"171","data-component-file":"App.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-4%20py-2%20bg-blue-600%20text-white%20rounded-md%20hover%3Abg-blue-700%20transition-colors%22%7D",children:"Reload Page"})]})}):h.jsx(L.Suspense,{fallback:h.jsx(sp,{"data-matrix-id":"src/App.tsx:183:24","data-matrix-name":"PageLoader","data-component-path":"src/App.tsx","data-component-line":"183","data-component-file":"App.tsx","data-component-name":"PageLoader"}),children:h.jsxs(ls,{"data-matrix-id":"src/App.tsx:184:6","data-matrix-name":"Routes","data-component-path":"src/App.tsx","data-component-line":"184","data-component-file":"App.tsx","data-component-name":"Routes",children:[h.jsx(ie,{path:"/auth",element:h.jsx(ip,{"data-matrix-id":"src/App.tsx:187:10","data-matrix-name":"PublicRoute","data-component-path":"src/App.tsx","data-component-line":"187","data-component-file":"App.tsx","data-component-name":"PublicRoute",children:h.jsx(Ju,{"data-matrix-id":"src/App.tsx:188:12","data-matrix-name":"AuthNew","data-component-path":"src/App.tsx","data-component-line":"188","data-component-file":"App.tsx","data-component-name":"AuthNew"})}),"data-matrix-id":"src/App.tsx:186:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"186","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fauth%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"/admin-login",element:h.jsx(Xu,{"data-matrix-id":"src/App.tsx:191:44","data-matrix-name":"AdminLogin","data-component-path":"src/App.tsx","data-component-line":"191","data-component-file":"App.tsx","data-component-name":"AdminLogin"}),"data-matrix-id":"src/App.tsx:191:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"191","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin-login%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"/auth/callback",element:h.jsx(np,{"data-matrix-id":"src/App.tsx:192:46","data-matrix-name":"AuthCallback","data-component-path":"src/App.tsx","data-component-line":"192","data-component-file":"App.tsx","data-component-name":"AuthCallback"}),"data-matrix-id":"src/App.tsx:192:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"192","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fauth%2Fcallback%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsxs(ie,{path:"/",element:h.jsx(Xd,{"data-matrix-id":"src/App.tsx:195:33","data-matrix-name":"Layout","data-component-path":"src/App.tsx","data-component-line":"195","data-component-file":"App.tsx","data-component-name":"Layout"}),"data-matrix-id":"src/App.tsx:195:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"195","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2F%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D",children:[h.jsx(ie,{index:!0,element:h.jsx(Wu,{"data-matrix-id":"src/App.tsx:196:32","data-matrix-name":"Home","data-component-path":"src/App.tsx","data-component-line":"196","data-component-file":"App.tsx","data-component-name":"Home"}),"data-matrix-id":"src/App.tsx:196:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"196","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22index%22%3Atrue%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"ai-chat",element:h.jsx(ap,{"data-matrix-id":"src/App.tsx:197:41","data-matrix-name":"AIChat","data-component-path":"src/App.tsx","data-component-line":"197","data-component-file":"App.tsx","data-component-name":"AIChat"}),"data-matrix-id":"src/App.tsx:197:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"197","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22ai-chat%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"bp-analysis",element:h.jsx(op,{"data-matrix-id":"src/App.tsx:198:45","data-matrix-name":"BPAnalysis","data-component-path":"src/App.tsx","data-component-line":"198","data-component-file":"App.tsx","data-component-name":"BPAnalysis"}),"data-matrix-id":"src/App.tsx:198:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"198","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22bp-analysis%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"stories",element:h.jsx(ep,{"data-matrix-id":"src/App.tsx:199:41","data-matrix-name":"Stories","data-component-path":"src/App.tsx","data-component-line":"199","data-component-file":"App.tsx","data-component-name":"Stories"}),"data-matrix-id":"src/App.tsx:199:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"199","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22stories%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"story/:id",element:h.jsx(Yu,{"data-matrix-id":"src/App.tsx:200:43","data-matrix-name":"StoryDetail","data-component-path":"src/App.tsx","data-component-line":"200","data-component-file":"App.tsx","data-component-name":"StoryDetail"}),"data-matrix-id":"src/App.tsx:200:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"200","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22story%2F%3Aid%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"user/:id",element:h.jsx(tp,{"data-matrix-id":"src/App.tsx:201:42","data-matrix-name":"UserProfile","data-component-path":"src/App.tsx","data-component-line":"201","data-component-file":"App.tsx","data-component-name":"UserProfile"}),"data-matrix-id":"src/App.tsx:201:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"201","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22user%2F%3Aid%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"dashboard",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:205:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"205","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(So,{"data-matrix-id":"src/App.tsx:206:14","data-matrix-name":"Profile","data-component-path":"src/App.tsx","data-component-line":"206","data-component-file":"App.tsx","data-component-name":"Profile"})}),"data-matrix-id":"src/App.tsx:204:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"204","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22dashboard%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"profile",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:210:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"210","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(So,{"data-matrix-id":"src/App.tsx:211:14","data-matrix-name":"Profile","data-component-path":"src/App.tsx","data-component-line":"211","data-component-file":"App.tsx","data-component-name":"Profile"})}),"data-matrix-id":"src/App.tsx:209:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"209","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22profile%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"profile/edit",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:215:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"215","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(Eo,{"data-matrix-id":"src/App.tsx:216:14","data-matrix-name":"Settings","data-component-path":"src/App.tsx","data-component-line":"216","data-component-file":"App.tsx","data-component-name":"Settings"})}),"data-matrix-id":"src/App.tsx:214:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"214","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22profile%2Fedit%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"settings",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:220:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"220","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(Eo,{"data-matrix-id":"src/App.tsx:221:14","data-matrix-name":"Settings","data-component-path":"src/App.tsx","data-component-line":"221","data-component-file":"App.tsx","data-component-name":"Settings"})}),"data-matrix-id":"src/App.tsx:219:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"219","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22settings%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"create-story",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:225:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"225","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(Zu,{"data-matrix-id":"src/App.tsx:226:14","data-matrix-name":"CreateStory","data-component-path":"src/App.tsx","data-component-line":"226","data-component-file":"App.tsx","data-component-name":"CreateStory"})}),"data-matrix-id":"src/App.tsx:224:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"224","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22create-story%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"edit-story/:id",element:h.jsx(yt,{"data-matrix-id":"src/App.tsx:230:12","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"230","data-component-file":"App.tsx","data-component-name":"ProtectedRoute",children:h.jsx(Qu,{"data-matrix-id":"src/App.tsx:231:14","data-matrix-name":"EditStory","data-component-path":"src/App.tsx","data-component-line":"231","data-component-file":"App.tsx","data-component-name":"EditStory"})}),"data-matrix-id":"src/App.tsx:229:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"229","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22edit-story%2F%3Aid%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),h.jsx(ie,{path:"debug-stories",element:h.jsx(rp,{"data-matrix-id":"src/App.tsx:234:47","data-matrix-name":"DebugStories","data-component-path":"src/App.tsx","data-component-line":"234","data-component-file":"App.tsx","data-component-name":"DebugStories"}),"data-matrix-id":"src/App.tsx:234:10","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"234","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22debug-stories%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"})]}),h.jsx(ie,{path:"*",element:h.jsx(sa,{to:"/",replace:!0,"data-matrix-id":"src/App.tsx:238:33","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"238","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:238:8","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"238","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22*%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"})]})}):h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100","data-matrix-id":"src/App.tsx:149:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"149","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-screen%20bg-gradient-to-br%20from-blue-50%20to-indigo-100%22%7D",children:h.jsxs("div",{className:"text-center","data-matrix-id":"src/App.tsx:150:8","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"150","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center mb-4 mx-auto","data-matrix-id":"src/App.tsx:151:10","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"151","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-16%20h-16%20bg-gradient-to-r%20from-blue-600%20to-indigo-600%20rounded-full%20flex%20items-center%20justify-center%20mb-4%20mx-auto%22%7D",children:h.jsx("span",{className:"text-white font-bold text-2xl","data-matrix-id":"src/App.tsx:152:12","data-matrix-name":"span","data-component-path":"src/App.tsx","data-component-line":"152","data-component-file":"App.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-white%20font-bold%20text-2xl%22%7D",children:"L"})}),h.jsx(yn,{size:"lg","data-matrix-id":"src/App.tsx:154:10","data-matrix-name":"LoadingSpinner","data-component-path":"src/App.tsx","data-component-line":"154","data-component-file":"App.tsx","data-component-name":"LoadingSpinner","data-component-content":"%7B%22size%22%3A%22lg%22%7D"}),h.jsx("p",{className:"mt-4 text-gray-700 font-medium","data-matrix-id":"src/App.tsx:155:10","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"155","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22mt-4%20text-gray-700%20font-medium%22%7D",children:"LeoAI Platform"}),h.jsx("p",{className:"text-gray-500 text-sm","data-matrix-id":"src/App.tsx:156:10","data-matrix-name":"p","data-component-path":"src/App.tsx","data-component-line":"156","data-component-file":"App.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-500%20text-sm%22%7D",children:"Initializing..."})]})})}function dp(){return h.jsx(kr,{children:h.jsx(vl,{"data-matrix-id":"src/App.tsx:248:6","data-matrix-name":"ThemeProvider","data-component-path":"src/App.tsx","data-component-line":"248","data-component-file":"App.tsx","data-component-name":"ThemeProvider",children:h.jsx(Fl,{"data-matrix-id":"src/App.tsx:249:8","data-matrix-name":"LanguageProvider","data-component-path":"src/App.tsx","data-component-line":"249","data-component-file":"App.tsx","data-component-name":"LanguageProvider",children:h.jsx(cp,{"data-matrix-id":"src/App.tsx:250:10","data-matrix-name":"ThemeApplier","data-component-path":"src/App.tsx","data-component-line":"250","data-component-file":"App.tsx","data-component-name":"ThemeApplier",children:h.jsx(cs,{"data-matrix-id":"src/App.tsx:251:12","data-matrix-name":"Router","data-component-path":"src/App.tsx","data-component-line":"251","data-component-file":"App.tsx","data-component-name":"Router",children:h.jsx(xl,{"data-matrix-id":"src/App.tsx:252:14","data-matrix-name":"AuthProvider","data-component-path":"src/App.tsx","data-component-line":"252","data-component-file":"App.tsx","data-component-name":"AuthProvider",children:h.jsx(yl,{"data-matrix-id":"src/App.tsx:253:16","data-matrix-name":"AdminProvider","data-component-path":"src/App.tsx","data-component-line":"253","data-component-file":"App.tsx","data-component-name":"AdminProvider",children:h.jsxs(wl,{"data-matrix-id":"src/App.tsx:254:18","data-matrix-name":"AIProvider","data-component-path":"src/App.tsx","data-component-line":"254","data-component-file":"App.tsx","data-component-name":"AIProvider",children:[h.jsx(Vu,{"data-matrix-id":"src/App.tsx:255:20","data-matrix-name":"DynamicMetaTags","data-component-path":"src/App.tsx","data-component-line":"255","data-component-file":"App.tsx","data-component-name":"DynamicMetaTags"}),h.jsx(lp,{"data-matrix-id":"src/App.tsx:256:20","data-matrix-name":"AppRoutes","data-component-path":"src/App.tsx","data-component-line":"256","data-component-file":"App.tsx","data-component-name":"AppRoutes"}),h.jsx(gl,{position:"top-right",toastOptions:{duration:4e3,style:{background:"white",color:"#374151",border:"1px solid #e5e7eb"}},"data-matrix-id":"src/App.tsx:258:20","data-matrix-name":"Toaster","data-component-path":"src/App.tsx","data-component-line":"258","data-component-file":"App.tsx","data-component-name":"Toaster","data-component-content":"%7B%22position%22%3A%22top-right%22%2C%22toastOptions%22%3A%7B%22duration%22%3A4000%2C%22style%22%3A%22%5BObjectExpression%5D%22%7D%7D"})]})})})})})})})})}var Br={exports:{}};(function(a){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(n){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,s={},i={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function f(g){return g instanceof c?new c(g.type,f(g.content),g.alias):Array.isArray(g)?g.map(f):g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(f){return Object.prototype.toString.call(f).slice(8,-1)},objId:function(f){return f.__id||Object.defineProperty(f,"__id",{value:++r}),f.__id},clone:function f(g,w){w=w||{};var _,v;switch(i.util.type(g)){case"Object":if(v=i.util.objId(g),w[v])return w[v];_={},w[v]=_;for(var A in g)g.hasOwnProperty(A)&&(_[A]=f(g[A],w));return _;case"Array":return v=i.util.objId(g),w[v]?w[v]:(_=[],w[v]=_,g.forEach(function(k,S){_[S]=f(k,w)}),_);default:return g}},getLanguage:function(f){for(;f;){var g=o.exec(f.className);if(g)return g[1].toLowerCase();f=f.parentElement}return"none"},setLanguage:function(f,g){f.className=f.className.replace(RegExp(o,"gi"),""),f.classList.add("language-"+g)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(_){var f=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(f){var g=document.getElementsByTagName("script");for(var w in g)if(g[w].src==f)return g[w]}return null}},isActive:function(f,g,w){for(var _="no-"+g;f;){var v=f.classList;if(v.contains(g))return!0;if(v.contains(_))return!1;f=f.parentElement}return!!w}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(f,g){var w=i.util.clone(i.languages[f]);for(var _ in g)w[_]=g[_];return w},insertBefore:function(f,g,w,_){_=_||i.languages;var v=_[f],A={};for(var k in v)if(v.hasOwnProperty(k)){if(k==g)for(var S in w)w.hasOwnProperty(S)&&(A[S]=w[S]);w.hasOwnProperty(k)||(A[k]=v[k])}var O=_[f];return _[f]=A,i.languages.DFS(i.languages,function(N,C){C===O&&N!=f&&(this[N]=A)}),A},DFS:function f(g,w,_,v){v=v||{};var A=i.util.objId;for(var k in g)if(g.hasOwnProperty(k)){w.call(g,k,g[k],_||k);var S=g[k],O=i.util.type(S);O==="Object"&&!v[A(S)]?(v[A(S)]=!0,f(S,w,null,v)):O==="Array"&&!v[A(S)]&&(v[A(S)]=!0,f(S,w,k,v))}}},plugins:{},highlightAll:function(f,g){i.highlightAllUnder(document,f,g)},highlightAllUnder:function(f,g,w){var _={callback:w,container:f,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),i.hooks.run("before-all-elements-highlight",_);for(var v=0,A;A=_.elements[v++];)i.highlightElement(A,g===!0,_.callback)},highlightElement:function(f,g,w){var _=i.util.getLanguage(f),v=i.languages[_];i.util.setLanguage(f,_);var A=f.parentElement;A&&A.nodeName.toLowerCase()==="pre"&&i.util.setLanguage(A,_);var k=f.textContent,S={element:f,language:_,grammar:v,code:k};function O(C){S.highlightedCode=C,i.hooks.run("before-insert",S),S.element.innerHTML=S.highlightedCode,i.hooks.run("after-highlight",S),i.hooks.run("complete",S),w&&w.call(S.element)}if(i.hooks.run("before-sanity-check",S),A=S.element.parentElement,A&&A.nodeName.toLowerCase()==="pre"&&!A.hasAttribute("tabindex")&&A.setAttribute("tabindex","0"),!S.code){i.hooks.run("complete",S),w&&w.call(S.element);return}if(i.hooks.run("before-highlight",S),!S.grammar){O(i.util.encode(S.code));return}if(g&&n.Worker){var N=new Worker(i.filename);N.onmessage=function(C){O(C.data)},N.postMessage(JSON.stringify({language:S.language,code:S.code,immediateClose:!0}))}else O(i.highlight(S.code,S.grammar,S.language))},highlight:function(f,g,w){var _={code:f,grammar:g,language:w};if(i.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=i.tokenize(_.code,_.grammar),i.hooks.run("after-tokenize",_),c.stringify(i.util.encode(_.tokens),_.language)},tokenize:function(f,g){var w=g.rest;if(w){for(var _ in w)g[_]=w[_];delete g.rest}var v=new p;return m(v,v.head,f),d(f,v,g,v.head,0),x(v)},hooks:{all:{},add:function(f,g){var w=i.hooks.all;w[f]=w[f]||[],w[f].push(g)},run:function(f,g){var w=i.hooks.all[f];if(!(!w||!w.length))for(var _=0,v;v=w[_++];)v(g)}},Token:c};n.Prism=i;function c(f,g,w,_){this.type=f,this.content=g,this.alias=w,this.length=(_||"").length|0}c.stringify=function f(g,w){if(typeof g=="string")return g;if(Array.isArray(g)){var _="";return g.forEach(function(O){_+=f(O,w)}),_}var v={type:g.type,content:f(g.content,w),tag:"span",classes:["token",g.type],attributes:{},language:w},A=g.alias;A&&(Array.isArray(A)?Array.prototype.push.apply(v.classes,A):v.classes.push(A)),i.hooks.run("wrap",v);var k="";for(var S in v.attributes)k+=" "+S+'="'+(v.attributes[S]||"").replace(/"/g,"&quot;")+'"';return"<"+v.tag+' class="'+v.classes.join(" ")+'"'+k+">"+v.content+"</"+v.tag+">"};function l(f,g,w,_){f.lastIndex=g;var v=f.exec(w);if(v&&_&&v[1]){var A=v[1].length;v.index+=A,v[0]=v[0].slice(A)}return v}function d(f,g,w,_,v,A){for(var k in w)if(!(!w.hasOwnProperty(k)||!w[k])){var S=w[k];S=Array.isArray(S)?S:[S];for(var O=0;O<S.length;++O){if(A&&A.cause==k+","+O)return;var N=S[O],C=N.inside,V=!!N.lookbehind,q=!!N.greedy,le=N.alias;if(q&&!N.pattern.global){var W=N.pattern.toString().match(/[imsuy]*$/)[0];N.pattern=RegExp(N.pattern.source,W+"g")}for(var K=N.pattern||N,M=_.next,P=v;M!==g.tail&&!(A&&P>=A.reach);P+=M.value.length,M=M.next){var G=M.value;if(g.length>f.length)return;if(!(G instanceof c)){var z=1,I;if(q){if(I=l(K,P,f,V),!I||I.index>=f.length)break;var xe=I.index,H=I.index+I[0].length,U=P;for(U+=M.value.length;xe>=U;)M=M.next,U+=M.value.length;if(U-=M.value.length,P=U,M.value instanceof c)continue;for(var te=M;te!==g.tail&&(U<H||typeof te.value=="string");te=te.next)z++,U+=te.value.length;z--,G=f.slice(P,U),I.index-=P}else if(I=l(K,0,G,V),!I)continue;var xe=I.index,X=I[0],Ge=G.slice(0,xe),Re=G.slice(xe+X.length),Ie=P+G.length;A&&Ie>A.reach&&(A.reach=Ie);var Ee=M.prev;Ge&&(Ee=m(g,Ee,Ge),P+=Ge.length),u(g,Ee,z);var Ct=new c(k,C?i.tokenize(X,C):X,le,X);if(M=m(g,Ee,Ct),Re&&m(g,M,Re),z>1){var rt={cause:k+","+O,reach:Ie};d(f,g,w,M.prev,P,rt),A&&rt.reach>A.reach&&(A.reach=rt.reach)}}}}}}function p(){var f={value:null,prev:null,next:null},g={value:null,prev:f,next:null};f.next=g,this.head=f,this.tail=g,this.length=0}function m(f,g,w){var _=g.next,v={value:w,prev:g,next:_};return g.next=v,_.prev=v,f.length++,v}function u(f,g,w){for(var _=g.next,v=0;v<w&&_!==f.tail;v++)_=_.next;g.next=_,_.prev=g,f.length-=v}function x(f){for(var g=[],w=f.head.next;w!==f.tail;)g.push(w.value),w=w.next;return g}if(!n.document)return n.addEventListener&&(i.disableWorkerMessageHandler||n.addEventListener("message",function(f){var g=JSON.parse(f.data),w=g.language,_=g.code,v=g.immediateClose;n.postMessage(i.highlight(_,i.languages[w],w)),v&&n.close()},!1)),i;var y=i.util.currentScript();y&&(i.filename=y.src,y.hasAttribute("data-manual")&&(i.manual=!0));function b(){i.manual||i.highlightAll()}if(!i.manual){var E=document.readyState;E==="loading"||E==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return i}(e);a.exports&&(a.exports=t),typeof he<"u"&&(he.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(o,r){var s={};s["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};i["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var c={};c[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",c)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(n,o){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:t.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(n){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var r=n.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading…",o=function(y,b){return"✖ Error "+y+" while fetching file: "+b},r="✖ Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},i="data-src-status",c="loading",l="loaded",d="failed",p="pre[data-src]:not(["+i+'="'+l+'"]):not(['+i+'="'+c+'"])';function m(y,b,E){var f=new XMLHttpRequest;f.open("GET",y,!0),f.onreadystatechange=function(){f.readyState==4&&(f.status<400&&f.responseText?b(f.responseText):f.status>=400?E(o(f.status,f.statusText)):E(r))},f.send(null)}function u(y){var b=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(y||"");if(b){var E=Number(b[1]),f=b[2],g=b[3];return f?g?[E,Number(g)]:[E,void 0]:[E,E]}}t.hooks.add("before-highlightall",function(y){y.selector+=", "+p}),t.hooks.add("before-sanity-check",function(y){var b=y.element;if(b.matches(p)){y.code="",b.setAttribute(i,c);var E=b.appendChild(document.createElement("CODE"));E.textContent=n;var f=b.getAttribute("data-src"),g=y.language;if(g==="none"){var w=(/\.(\w+)$/.exec(f)||[,"none"])[1];g=s[w]||w}t.util.setLanguage(E,g),t.util.setLanguage(b,g);var _=t.plugins.autoloader;_&&_.loadLanguages(g),m(f,function(v){b.setAttribute(i,l);var A=u(b.getAttribute("data-range"));if(A){var k=v.split(/\r\n?|\n/g),S=A[0],O=A[1]==null?k.length:A[1];S<0&&(S+=k.length),S=Math.max(0,Math.min(S-1,k.length)),O<0&&(O+=k.length),O=Math.max(0,Math.min(O,k.length)),v=k.slice(S,O).join(`
`),b.hasAttribute("data-start")||b.setAttribute("data-start",String(S+1))}E.textContent=v,t.highlightElement(E)},function(v){b.setAttribute(i,d),E.textContent=v})}}),t.plugins.fileHighlight={highlight:function(b){for(var E=(b||document).querySelectorAll(p),f=0,g;g=E[f++];)t.highlightElement(g)}};var x=!1;t.fileHighlight=function(){x||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),x=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(Br);var up=Br.exports;const nn=ds(up);(function(a){a.languages.typescript=a.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),a.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete a.languages.typescript.parameter,delete a.languages.typescript["literal-property"];var e=a.languages.extend("typescript",{});delete e["class-name"],a.languages.typescript["class-name"].inside=e,a.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),a.languages.ts=a.languages.typescript})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(a){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",t={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},n={bash:t,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};a.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:n},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:t}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:n.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:n.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},t.inside=a.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],r=n.variable[1].inside,s=0;s<o.length;s++)r[o[s]]=a.languages.bash[o[s]];a.languages.sh=a.languages.bash,a.languages.shell=a.languages.bash})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};typeof window<"u"&&(window.Prism=window.Prism||nn);function Tp(){typeof window<"u"&&nn&&typeof nn.highlightAll=="function"&&setTimeout(()=>{nn.highlightAll()},10)}Dn.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{"data-matrix-id":"src/main.tsx:10:2","data-matrix-name":"React.StrictMode","data-component-path":"src/main.tsx","data-component-line":"10","data-component-file":"main.tsx","data-component-name":"React.StrictMode",children:h.jsx(kr,{children:h.jsx(dp,{"data-matrix-id":"src/main.tsx:12:6","data-matrix-name":"App","data-component-path":"src/main.tsx","data-component-line":"12","data-component-file":"main.tsx","data-component-name":"App"})})}));export{td as A,Gl as B,Kl as C,Za as D,Ga as E,Yl as F,Pn as G,Zl as H,$l as I,rd as J,ed as M,nn as P,Ka as S,Va as T,nd as U,od as X,kp as a,F as b,Q as c,Qa as d,ta as e,tn as f,Ne as g,zl as h,Vl as i,Wd as j,ua as k,Kt as l,Jd as m,ql as n,me as o,cn as p,Wl as q,Xl as r,Le as s,Cp as t,Vt as u,Qn as v,Tp as w,xr as x,ad as y,Lp as z};
