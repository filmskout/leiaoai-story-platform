import{z as u,e as y,c as A}from"./Auth-DAqzl9N_.js";import{e as w,i as g,a as f,p as P}from"./utils-DDmVK8MX.js";import{d as k}from"./to-serializable-transaction-CJPffVs0.js";import"./index-lJi5ZKDq.js";import"./mail-rCMurYez.js";import"./eye-off-_xJlegA0.js";import"./eye-CgMDpV-8.js";import"./circle-alert-DSA0x7c1.js";import"./loader-circle-Cf5iuTbA.js";function x(n){return Object.fromEntries(Object.entries(n).map(([t,e])=>[t,{balance:e.balance?u(e.balance):void 0,code:e.code,nonce:e.nonce?u(e.nonce):void 0,state:e.state,stateDiff:e.stateDiff}]))}async function O(n,t){const{blockNumber:e,blockTag:a,...i}=t,s=(e?u(e):void 0)||a||"latest";return await n({method:"eth_call",params:t.stateOverrides?[i,s,x(t.stateOverrides)]:[i,s]})}async function F(n){const{contract:t,method:e,params:a}=n,i=async()=>{var m,l;if(Array.isArray(e))return e;if(g(e))return f(e);if(typeof e=="function")return f(await e(t));if(typeof e=="string"&&e.startsWith("function ")){const o=P(e);if(o.type==="function")return f(o);throw new Error('"method" passed is not of type "function"')}if(t.abi&&((m=t.abi)==null?void 0:m.length)>0){const o=(l=t.abi)==null?void 0:l.find(p=>p.type==="function"&&p.name===e);if(o)return f(o)}throw new Error(`Could not resolve method "${e}".`)},[r,s]=await Promise.all([i(),typeof a=="function"?a():a]);let d;r[1].length===0?d=r[0]:d=r[0]+w(r[1],s).slice(2);const b=y({chain:t.chain,client:t.client}),h=await O(b,{data:d,from:n.from?A(n.from):void 0,to:t.address}),c=k(r[2],h);return Array.isArray(c)&&c.length===1?c[0]:c}export{F as readContract};
