import{b as c,a5 as r,r as m,s as l,j as t}from"./index-CW0o6enZ.js";function i(){const e=c();r(),m.useEffect(()=>{s()},[]);const s=async()=>{try{const a=window.location.hash;if(a&&a.length>0){const{data:o,error:n}=await l.auth.exchangeCodeForSession(a);if(n){console.error("交换会话时出错:",n.message),e("/auth?error="+encodeURIComponent(n.message));return}if(o.session){e("/");return}}e("/auth?error="+encodeURIComponent("未找到有效的会话"))}catch(a){console.error("认证回调处理错误:",a),e("/auth?error="+encodeURIComponent(a.message||"认证失败"))}};return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center","data-matrix-id":"src/pages/AuthCallback.tsx:44:4","data-matrix-name":"div","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"44","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gray-50%20flex%20items-center%20justify-center%22%7D",children:t.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/AuthCallback.tsx:45:6","data-matrix-name":"div","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"45","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4","data-matrix-id":"src/pages/AuthCallback.tsx:46:8","data-matrix-name":"div","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"46","data-component-file":"AuthCallback.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-12%20w-12%20border-b-2%20border-blue-600%20mx-auto%20mb-4%22%7D"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2","data-matrix-id":"src/pages/AuthCallback.tsx:47:8","data-matrix-name":"h2","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"47","data-component-file":"AuthCallback.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-gray-900%20mb-2%22%7D",children:"正在处理登录..."}),t.jsx("p",{className:"text-gray-600","data-matrix-id":"src/pages/AuthCallback.tsx:48:8","data-matrix-name":"p","data-component-path":"src/pages/AuthCallback.tsx","data-component-line":"48","data-component-file":"AuthCallback.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-gray-600%22%7D",children:"请稍等，我们正在验证您的账号信息。"})]})})}export{i as default};
